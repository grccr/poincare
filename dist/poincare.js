!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}([function(t,e,n){n(323),t.exports=n(306)},function(t,e,n){var r=n(10),i=n(43),o=n(37),s=n(32),a=n(35),u="prototype",c=function(t,e,n){var l,h,f,p,d=t&c.F,v=t&c.G,g=t&c.S,y=t&c.P,m=t&c.B,x=v?r:g?r[e]||(r[e]={}):(r[e]||{})[u],_=v?i:i[e]||(i[e]={}),b=_[u]||(_[u]={});v&&(n=e);for(l in n)h=!d&&x&&l in x,f=(h?x:n)[l],p=m&&h?a(f,r):y&&"function"==typeof f?a(Function.call,f):f,x&&!h&&s(x,l,f),_[l]!=f&&o(_,l,p),y&&b[l]!=f&&(b[l]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,t.exports=c},function(t,e,n){/**
	 * @file        Main export of the PIXI core library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
	 */
var r=t.exports=Object.assign(n(6),n(15),{utils:n(12),ticker:n(705),DisplayObject:n(278),Container:n(108),Sprite:n(290),ParticleContainer:n(691),SpriteRenderer:n(702),ParticleRenderer:n(693),Text:n(703),Graphics:n(684),GraphicsData:n(279),GraphicsRenderer:n(685),Texture:n(76),BaseTexture:n(113),RenderTexture:n(170),VideoBaseTexture:n(292),TextureUvs:n(291),CanvasRenderer:n(695),CanvasGraphics:n(168),CanvasBuffer:n(167),WebGLRenderer:n(109),WebGLManager:n(51),ShaderManager:n(287),Shader:n(110),TextureShader:n(111),PrimitiveShader:n(289),ComplexPrimitiveShader:n(288),ObjectRenderer:n(75),RenderTarget:n(112),AbstractFilter:n(169),FXAAFilter:n(284),SpriteMaskFilter:n(285),autoDetectRenderer:function(t,e,n,i){return t=t||800,e=e||600,!i&&r.utils.isWebGLSupported()?new r.WebGLRenderer(t,e,n):new r.CanvasRenderer(t,e,n)}})},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e){function n(t){this.source=t}/** @license MIT License (c) copyright 2010-2016 original author or authors */
t.exports=n},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={VERSION:"__VERSION__",PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};t.exports=n},function(t,e,n){function r(t,e,n){var r=u(e);return m(r)?r["catch"](function(e){n.error(t,e)}):r}function i(t,e){return p(new g(t,e))}function o(){return new g(b,void 0)}function s(t){return i(a,t)}function a(t){return Promise.all(_(u,t))}function u(t){try{return t.dispose()}catch(e){return Promise.reject(e)}}function c(t){return i(l,t)}function l(t){return t.then(h)}function h(t){return t.dispose()}function f(){return new y}function p(t){return new g(d,v(t))}function d(t){return t.disposed||(t.disposed=!0,t.value=u(t.disposable),t.disposable=void 0),t.value}function v(t){return{disposed:!1,disposable:t,value:void 0}}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var g=n(634),y=n(635),m=n(154).isPromise,x=n(18),_=x.map,b=x.id;e.tryDispose=r,e.create=i,e.once=p,e.empty=o,e.all=s,e.settable=f,e.promised=c},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(214)("wks"),i=n(55),o=n(10).Symbol;t.exports=function(t){return r[t]||(r[t]=o&&o[t]||(o||i)("Symbol."+t))}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){function n(t){this.sink=t}/** @license MIT License (c) copyright 2010-2016 original author or authors */
t.exports=n,n.prototype.event=function(t,e){return this.sink.event(t,e)},n.prototype.end=function(t,e){return this.sink.end(t,e)},n.prototype.error=function(t,e){return this.sink.error(t,e)}},function(t,e,n){var r=n(6),i=t.exports={_uid:0,_saidHello:!1,EventEmitter:n(40),pluginTarget:n(706),async:n(173),uid:function(){return++i._uid},hex2rgb:function(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",n=new Image;n.src=t+"AP804Oa6"+e;var r=new Image;r.src=t+"/wCKxvRF"+e;var i=document.createElement("canvas");i.width=6,i.height=1;var o=i.getContext("2d");o.globalCompositeOperation="multiply",o.drawImage(n,0,0),o.drawImage(r,2,0);var s=o.getImageData(2,0,1,1).data;return 255===s[0]&&0===s[1]&&0===s[2]},getNextPowerOfTwo:function(t){if(t>0&&0===(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)},getResolutionOfUrl:function(t){var e=r.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):1},sayHello:function(t){if(!i._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+r.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+r.VERSION+" - "+t+" - http://www.pixijs.com/");i._saidHello=!0}},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!n||!n.getContextAttributes().stencil)}catch(r){return!1}},sign:function(t){return t?0>t?-1:1:0},removeItems:function(t,e,n){var r=t.length;if(!(e>=r||0===n)){n=e+n>r?r-e:n;for(var i=e,o=r-n;o>i;++i)t[i]=t[i+n];t.length=o}},TextureCache:{},BaseTextureCache:{}}},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){t.exports={Point:n(165),Matrix:n(281),GroupD8:n(280),Circle:n(687),Ellipse:n(688),Polygon:n(689),Rectangle:n(166),RoundedRectangle:n(690)}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r,i,o;!function(n,s){i=[e],r=s,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o))}(this,function(t){"use strict";/** @license MIT License (c) copyright 2010-2016 original author or authors */
function e(t,e){var n=e.length,r=new Array(n+1);r[0]=t;for(var i=0;n>i;++i)r[i+1]=e[i];return r}function n(t,e){for(var n=e.length,r=new Array(n+1),i=0;n>i;++i)r[i]=e[i];return r[n]=t,r}function r(t,e){if(0>t)throw new TypeError("n must be >= 0");var n=e.length;return 0===t||0===n?e:t>=n?[]:i(t,e,n-t)}function i(t,e,n){for(var r=new Array(n),i=0;n>i;++i)r[i]=e[t+i];return r}function o(t){return r(1,t)}function s(t){for(var e=t.length,n=new Array(e),r=0;e>r;++r)n[r]=t[r];return n}function a(t,e){for(var n=e.length,r=new Array(n),i=0;n>i;++i)r[i]=t(e[i]);return r}function u(t,e,n){for(var r=e,i=0,o=n.length;o>i;++i)r=t(r,n[i],i);return r}function c(t,e,n){if(0>e)throw new TypeError("i must be >= 0");for(var r=n.length,i=new Array(r),o=0;r>o;++o)i[o]=e===o?t:n[o];return i}function l(t,e){if(0>t)throw new TypeError("i must be >= 0");var n=e.length;return 0===n||t>=n?e:1===n?[]:h(t,e,n-1)}function h(t,e,n){var r=new Array(n),i=void 0;for(i=0;t>i;++i)r[i]=e[i];for(i=t;n>i;++i)r[i]=e[i+1];return r}function f(t,e){for(var n,r=e.length,i=new Array(r),o=0,s=0;r>s;++s)n=e[s],t(n)||(i[o]=n,++o);return i.length=o,i}function p(t,e){for(var n=0,r=e.length;r>n;++n)if(t===e[n])return n;return-1}function d(t){return null!=t&&"number"==typeof t.length&&"function"!=typeof t}function v(t){function e(n,r){switch(arguments.length){case 0:return e;case 1:return function(e){return t(n,e)};default:return t(n,r)}}return e}function g(t){function e(n,r,i){switch(arguments.length){case 0:return e;case 1:return v(function(e,r){return t(n,e,r)});case 2:return function(e){return t(n,r,e)};default:return t(n,r,i)}}return e}Object.defineProperty(t,"__esModule",{value:!0});/** @license MIT License (c) copyright 2010-2016 original author or authors */
var y=function(t){return t},m=function(t,e){return function(n){return t(e(n))}},x=function(t,e){return t(e)};t.cons=e,t.append=n,t.drop=r,t.tail=o,t.copy=s,t.map=a,t.reduce=u,t.replace=c,t.remove=l,t.removeAll=f,t.findIndex=p,t.isArrayLike=d,t.id=y,t.compose=m,t.apply=x,t.curry2=v,t.curry3=g})},function(t,e,n){var r;try{r=n(502)}catch(i){}r||(r=window._),t.exports=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),o=r(i),Plugin=function Plugin(){(0,o["default"])(this,Plugin)};e["default"]=Plugin,Plugin.priority=1/0,"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.plugins&&(window.poincare.plugins={}),window.poincare.plugins.Plugin=Plugin)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(179),o=r(i);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){var r=n(191)("wks"),i=n(126),o=n(64).Symbol;t.exports=function(t){return r[t]||(r[t]=o&&o[t]||(o||i)("Symbol."+t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(71),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){t.exports={"default":n(339),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(327),o=r(i),s=n(326),a=r(s),u=n(183),c=r(u);e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,c["default"])(e)));t.prototype=(0,a["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o["default"]?(0,o["default"])(t,e):t.__proto__=e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(183),o=r(i);e["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,o["default"])(e))&&"function"!=typeof e?t:e}},function(t,e,n){t.exports=!n(14)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),i=n(43),o=n(14);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",s)}},function(t,e,n){var r=n(10),i=n(37),o=n(55)("src"),s="toString",a=Function[s],u=(""+a).split(s);n(43).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,s){"function"==typeof n&&(n.hasOwnProperty(o)||i(n,o,t[e]?""+t[e]:u.join(String(e))),n.hasOwnProperty("name")||i(n,"name",e)),t===r?t[e]=n:(s||delete t[e],i(t,e,n))})(Function.prototype,s,function(){return"function"==typeof this&&this[o]||a.call(this)})},function(t,e,n){var r=n(90),i=n(36);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(64),i=n(17),o=n(61),s="prototype",a=function(t,e,n){var u,c,l,h=t&a.F,f=t&a.G,p=t&a.S,d=t&a.P,v=t&a.B,g=t&a.W,y=f?i:i[e]||(i[e]={}),m=f?r:p?r[e]:(r[e]||{})[s];f&&(n=e);for(u in n)c=!h&&m&&u in m,c&&u in y||(l=c?m[u]:n[u],y[u]=f&&"function"!=typeof m[u]?n[u]:v&&c?o(l,r):g&&m[u]==l?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[s]=t[s],e}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((y[s]||(y[s]={}))[u]=l))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,t.exports=a},function(t,e,n){var r=n(53);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(3),i=n(47);t.exports=n(30)?function(t,e,n){return r.setDesc(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r,i;!function(){function o(t){return t&&(t.ownerDocument||t.document||t).documentElement}function s(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function a(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function u(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function l(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function h(t){return t.length}function f(t){for(var e=1;t*e%1;)e*=10;return e}function p(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function d(){this._=Object.create(null)}function v(t){return(t+="")===Ts||t[0]===As?As+t:t}function g(t){return(t+="")[0]===As?t.slice(1):t}function y(t){return v(t)in this._}function m(t){return(t=v(t))in this._&&delete this._[t]}function x(){var t=[];for(var e in this._)t.push(g(e));return t}function _(){var t=0;for(var e in this._)++t;return t}function b(){for(var t in this._)return!1;return!0}function w(){this._=Object.create(null)}function E(t){return t}function M(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function S(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=Cs.length;r>n;++n){var i=Cs[n]+e;if(i in t)return i}}function T(){}function A(){}function C(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new d;return e.on=function(e,i){var o,s=r.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function k(){ps.event.preventDefault()}function O(){for(var t,e=ps.event;t=e.sourceEvent;)e=t;return e}function R(t){for(var e=new A,n=0,r=arguments.length;++n<r;)e[arguments[n]]=C(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=ps.event;i.target=t,ps.event=i,e[i.type].apply(n,r)}finally{ps.event=o}}},e}function D(t){return Os(t,Fs),t}function P(t){return"function"==typeof t?t:function(){return Rs(t,this)}}function F(t){return"function"==typeof t?t:function(){return Ds(t,this)}}function N(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ps.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?a:s:t.local?o:i}function L(t){return t.trim().replace(/\s+/g," ")}function B(t){return new RegExp("(?:^|\\s+)"+ps.requote(t)+"(?:\\s+|$)","g")}function I(t){return(t+"").trim().split(/^|\s+/)}function j(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=I(t).map(U);var i=t.length;return"function"==typeof e?r:n}function U(t){var e=B(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",L(i+" "+t))):n.setAttribute("class",L(i.replace(e," ")))}}function z(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function W(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function Y(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ns&&e.documentElement.namespaceURI===Ns?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ps.ns.qualify(t)).local?n:e}function X(){var t=this.parentNode;t&&t.removeChild(this)}function G(t){return{__data__:t}}function q(t){return function(){return Ps(this,t)}}function H(t){return arguments.length||(t=a),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function V(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],s=0,a=o.length;a>s;s++)(i=o[s])&&e(i,s,n);return t}function K(t){return Os(t,Bs),t}function $(t){var e,n;return function(r,i,o){var s,a=t[o].update,u=a.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(s=a[e])&&++e<u;);return s}}function Z(t,e,n){function r(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function i(){var i=u(e,vs(arguments));r.call(this),this.addEventListener(t,this[s]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ps.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var s="__on"+t,a=t.indexOf("."),u=J;a>0&&(t=t.slice(0,a));var c=Is.get(t);return c&&(t=c,u=Q),a?e?i:r:e?T:o}function J(t,e){return function(n){var r=ps.event;ps.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ps.event=r}}}function Q(t,e){var n=J(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function tt(t){var e=".dragsuppress-"+ ++Us,n="click"+e,r=ps.select(s(t)).on("touchmove"+e,k).on("dragstart"+e,k).on("selectstart"+e,k);if(null==js&&(js="onselectstart"in t?!1:S(t.style,"userSelect")),js){var i=o(t).style,a=i[js];i[js]="none"}return function(t){if(r.on(e,null),js&&(i[js]=a),t){var o=function(){r.on(n,null)};r.on(n,function(){k(),o()},!0),setTimeout(o,0)}}}function et(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>zs){var i=s(t);if(i.scrollX||i.scrollY){n=ps.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();zs=!(o.f||o.e),n.remove()}}return zs?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function nt(){return ps.event.changedTouches[0].identifier}function rt(t){return t>0?1:0>t?-1:0}function it(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function ot(t){return t>1?0:-1>t?Xs:Math.acos(t)}function st(t){return t>1?Hs:-1>t?-Hs:Math.asin(t)}function at(t){return((t=Math.exp(t))-1/t)/2}function ut(t){return((t=Math.exp(t))+1/t)/2}function ct(t){return((t=Math.exp(2*t))-1)/(t+1)}function lt(t){return(t=Math.sin(t/2))*t}function ht(){}function ft(t,e,n){return this instanceof ft?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof ft?new ft(t.h,t.s,t.l):Tt(""+t,At,ft):new ft(t,e,n)}function pt(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(s-o)*t/60:180>t?s:240>t?o+(s-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,s;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+e):n+e-n*e,o=2*n-s,new wt(i(t+120),i(t),i(t-120))}function dt(t,e,n){return this instanceof dt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof dt?new dt(t.h,t.c,t.l):t instanceof gt?mt(t.l,t.a,t.b):mt((t=Ct((t=ps.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new dt(t,e,n)}function vt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new gt(n,Math.cos(t*=Vs)*e,Math.sin(t)*e)}function gt(t,e,n){return this instanceof gt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof gt?new gt(t.l,t.a,t.b):t instanceof dt?vt(t.h,t.c,t.l):Ct((t=wt(t)).r,t.g,t.b):new gt(t,e,n)}function yt(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=xt(i)*oa,r=xt(r)*sa,o=xt(o)*aa,new wt(bt(3.2404542*i-1.5371385*r-.4985314*o),bt(-.969266*i+1.8760108*r+.041556*o),bt(.0556434*i-.2040259*r+1.0572252*o))}function mt(t,e,n){return t>0?new dt(Math.atan2(n,e)*Ks,Math.sqrt(e*e+n*n),t):new dt(NaN,NaN,t)}function xt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function _t(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function bt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function wt(t,e,n){return this instanceof wt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof wt?new wt(t.r,t.g,t.b):Tt(""+t,wt,pt):new wt(t,e,n)}function Et(t){return new wt(t>>16,t>>8&255,255&t)}function Mt(t){return Et(t)+""}function St(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Tt(t,e,n){var r,i,o,s=0,a=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Ot(i[0]),Ot(i[1]),Ot(i[2]))}return(o=la.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&o)>>4,s=s>>4|s,a=240&o,a=a>>4|a,u=15&o,u=u<<4|u):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,u=255&o)),e(s,a,u))}function At(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,u=(s+o)/2;return a?(i=.5>u?a/(s+o):a/(2-s-o),r=t==s?(e-n)/a+(n>e?6:0):e==s?(n-t)/a+2:(t-e)/a+4,r*=60):(r=NaN,i=u>0&&1>u?0:r),new ft(r,i,u)}function Ct(t,e,n){t=kt(t),e=kt(e),n=kt(n);var r=_t((.4124564*t+.3575761*e+.1804375*n)/oa),i=_t((.2126729*t+.7151522*e+.072175*n)/sa),o=_t((.0193339*t+.119192*e+.9503041*n)/aa);return gt(116*i-16,500*(r-i),200*(i-o))}function kt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ot(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Rt(t){return"function"==typeof t?t:function(){return t}}function Dt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Pt(e,n,t,r)}}function Pt(t,e,n,r){function i(){var t,e=u.status;if(!e&&Nt(u)||e>=200&&300>e||304===e){try{t=n.call(o,u)}catch(r){return void s.error.call(o,r)}s.load.call(o,t)}else s.error.call(o,u)}var o={},s=ps.dispatch("beforesend","progress","load","error"),a={},u=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=ps.event;ps.event=t;try{s.progress.call(o,u)}finally{ps.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==e?delete a[t]:a[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(vs(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in a||(a.accept=e+",*/*"),u.setRequestHeader)for(var l in a)u.setRequestHeader(l,a[l]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),s.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},ps.rebind(o,s,"on"),null==r?o:o.get(Ft(r))}function Ft(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Nt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Lt(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,o={c:t,t:i,n:null};return fa?fa.n=o:ha=o,fa=o,pa||(da=clearTimeout(da),pa=1,va(Bt)),o}function Bt(){var t=It(),e=jt()-t;e>24?(isFinite(e)&&(clearTimeout(da),da=setTimeout(Bt,e)),pa=0):(pa=1,va(Bt))}function It(){for(var t=Date.now(),e=ha;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function jt(){for(var t,e=ha,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:ha=e.n;return fa=t,n}function Ut(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function zt(t,e){var n=Math.pow(10,3*Ss(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Wt(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],s=0,a=r[0],u=0;i>0&&a>0&&(u+a+1>e&&(a=Math.max(1,e-u)),o.push(t.substring(i-=a,i+a)),!((u+=a+1)>e));)a=r[s=(s+1)%r.length];return o.reverse().join(n)}:E;return function(t){var n=ya.exec(t),r=n[1]||" ",s=n[2]||">",a=n[3]||"-",u=n[4]||"",c=n[5],l=+n[6],h=n[7],f=n[8],p=n[9],d=1,v="",g="",y=!1,m=!0;switch(f&&(f=+f.substring(1)),(c||"0"===r&&"="===s)&&(c=r="0",s="="),p){case"n":h=!0,p="g";break;case"%":d=100,g="%",p="f";break;case"p":d=100,g="%",p="r";break;case"b":case"o":case"x":case"X":"#"===u&&(v="0"+p.toLowerCase());case"c":m=!1;case"d":y=!0,f=0;break;case"s":d=-1,p="r"}"$"===u&&(v=i[0],g=i[1]),"r"!=p||f||(p="g"),null!=f&&("g"==p?f=Math.max(1,Math.min(21,f)):"e"!=p&&"f"!=p||(f=Math.max(0,Math.min(20,f)))),p=ma.get(p)||Yt;var x=c&&h;return function(t){var n=g;if(y&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===a?"":a;if(0>d){var u=ps.formatPrefix(t,f);t=u.scale(t),n=u.symbol+g}else t*=d;t=p(t,f);var _,b,w=t.lastIndexOf(".");if(0>w){var E=m?t.lastIndexOf("e"):-1;0>E?(_=t,b=""):(_=t.substring(0,E),b=t.substring(E))}else _=t.substring(0,w),b=e+t.substring(w+1);!c&&h&&(_=o(_,1/0));var M=v.length+_.length+b.length+(x?0:i.length),S=l>M?new Array(M=l-M+1).join(r):"";return x&&(_=o(S+_,S.length?l-b.length:1/0)),i+=v,t=_+b,("<"===s?i+t+S:">"===s?S+i+t:"^"===s?S.substring(0,M>>=1)+i+t+S.substring(M):i+(x?t:S+t))+n}}}function Yt(t){return t+""}function Xt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Gt(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new _a(n-1)),1),n}function o(t,n){return e(t=new _a(+t),n),t}function s(t,r,o){var s=i(t),a=[];if(o>1)for(;r>s;)n(s)%o||a.push(new Date(+s)),e(s,1);else for(;r>s;)a.push(new Date(+s)),e(s,1);return a}function a(t,e,n){try{_a=Xt;var r=new Xt;return r._=t,s(r,e,n)}finally{_a=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=s;var u=t.utc=qt(t);return u.floor=u,u.round=qt(r),u.ceil=qt(i),u.offset=qt(o),u.range=a,t}function qt(t){return function(e,n){try{_a=Xt;var r=new Xt;return r._=e,t(r,n)._}finally{_a=Date}}}function Ht(t){function e(t){function e(e){for(var n,i,o,s=[],a=-1,u=0;++a<r;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(i=wa[n=t.charAt(++a)])&&(n=t.charAt(++a)),(o=C[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),s.push(n),u=a+1);return s.push(t.slice(u,a)),s.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&_a!==Xt,s=new(o?Xt:_a);return"j"in r?s.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),s.setFullYear(r.y,0,1),s.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(s.getDay()+5)%7:r.w+7*r.U-(s.getDay()+6)%7)):s.setFullYear(r.y,r.m,r.d),s.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?s._:s},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,s,a=0,u=e.length,c=n.length;u>a;){if(r>=c)return-1;if(i=e.charCodeAt(a++),37===i){if(s=e.charAt(a++),o=k[s in wa?e.charAt(a++):s],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=E.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=b.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){T.lastIndex=0;var r=T.exec(e.slice(n));return r?(t.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,n){M.lastIndex=0;var r=M.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,r){return n(t,C.c.toString(),e,r)}function u(t,e,r){return n(t,C.x.toString(),e,r)}function c(t,e,r){return n(t,C.X.toString(),e,r)}function l(t,e,n){var r=x.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var h=t.dateTime,f=t.date,p=t.time,d=t.periods,v=t.days,g=t.shortDays,y=t.months,m=t.shortMonths;e.utc=function(t){function n(t){try{_a=Xt;var e=new _a;return e._=t,r(e)}finally{_a=Date}}var r=e(t);return n.parse=function(t){try{_a=Xt;var e=r.parse(t);return e&&e._}finally{_a=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=pe;var x=ps.map(),_=Kt(v),b=$t(v),w=Kt(g),E=$t(g),M=Kt(y),S=$t(y),T=Kt(m),A=$t(m);d.forEach(function(t,e){x.set(t.toLowerCase(),e)});var C={a:function(t){return g[t.getDay()]},A:function(t){return v[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:e(h),d:function(t,e){return Vt(t.getDate(),e,2)},e:function(t,e){return Vt(t.getDate(),e,2)},H:function(t,e){return Vt(t.getHours(),e,2)},I:function(t,e){return Vt(t.getHours()%12||12,e,2)},j:function(t,e){return Vt(1+xa.dayOfYear(t),e,3)},L:function(t,e){return Vt(t.getMilliseconds(),e,3)},m:function(t,e){return Vt(t.getMonth()+1,e,2)},M:function(t,e){return Vt(t.getMinutes(),e,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,e){return Vt(t.getSeconds(),e,2)},U:function(t,e){return Vt(xa.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Vt(xa.mondayOfYear(t),e,2)},x:e(f),X:e(p),y:function(t,e){return Vt(t.getFullYear()%100,e,2)},Y:function(t,e){return Vt(t.getFullYear()%1e4,e,4)},Z:he,"%":function(){return"%"}},k={a:r,A:i,b:o,B:s,c:a,d:oe,e:oe,H:ae,I:ae,j:se,L:le,m:ie,M:ue,p:l,S:ce,U:Jt,w:Zt,W:Qt,x:u,X:c,y:ee,Y:te,Z:ne,"%":fe};return e}function Vt(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function Kt(t){return new RegExp("^(?:"+t.map(ps.requote).join("|")+")","i")}function $t(t){for(var e=new d,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Zt(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Jt(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Qt(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function te(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ee(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n,n+2));return r?(t.y=re(+r[0]),n+r[0].length):-1}function ne(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function re(t){return t+(t>68?1900:2e3)}function ie(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function oe(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function se(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ae(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ue(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ce(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function le(t,e,n){Ea.lastIndex=0;var r=Ea.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function he(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=Ss(e)/60|0,i=Ss(e)%60;return n+Vt(r,"0",2)+Vt(i,"0",2)}function fe(t,e,n){Ma.lastIndex=0;var r=Ma.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function pe(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function de(){}function ve(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function ge(t,e){t&&Ca.hasOwnProperty(t.type)&&Ca[t.type](t,e)}function ye(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function me(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ye(t[n],e,1);e.polygonEnd()}function xe(){function t(t,e){t*=Vs,e=e*Vs/2+Xs/4;var n=t-r,s=n>=0?1:-1,a=s*n,u=Math.cos(e),c=Math.sin(e),l=o*c,h=i*u+l*Math.cos(a),f=l*s*Math.sin(a);Oa.add(Math.atan2(f,h)),r=t,i=u,o=c}var e,n,r,i,o;Ra.point=function(s,a){Ra.point=t,r=(e=s)*Vs,i=Math.cos(a=(n=a)*Vs/2+Xs/4),o=Math.sin(a)},Ra.lineEnd=function(){t(e,n)}}function _e(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function be(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function we(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ee(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Me(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Se(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Te(t){return[Math.atan2(t[1],t[0]),st(t[2])]}function Ae(t,e){return Ss(t[0]-e[0])<Ws&&Ss(t[1]-e[1])<Ws}function Ce(t,e){t*=Vs;var n=Math.cos(e*=Vs);ke(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function ke(t,e,n){++Da,Fa+=(t-Fa)/Da,Na+=(e-Na)/Da,La+=(n-La)/Da}function Oe(){function t(t,i){t*=Vs;var o=Math.cos(i*=Vs),s=o*Math.cos(t),a=o*Math.sin(t),u=Math.sin(i),c=Math.atan2(Math.sqrt((c=n*u-r*a)*c+(c=r*s-e*u)*c+(c=e*a-n*s)*c),e*s+n*a+r*u);Pa+=c,Ba+=c*(e+(e=s)),Ia+=c*(n+(n=a)),ja+=c*(r+(r=u)),ke(e,n,r)}var e,n,r;Ya.point=function(i,o){i*=Vs;var s=Math.cos(o*=Vs);e=s*Math.cos(i),n=s*Math.sin(i),r=Math.sin(o),Ya.point=t,ke(e,n,r)}}function Re(){Ya.point=Ce}function De(){function t(t,e){t*=Vs;var n=Math.cos(e*=Vs),s=n*Math.cos(t),a=n*Math.sin(t),u=Math.sin(e),c=i*u-o*a,l=o*s-r*u,h=r*a-i*s,f=Math.sqrt(c*c+l*l+h*h),p=r*s+i*a+o*u,d=f&&-ot(p)/f,v=Math.atan2(f,p);Ua+=d*c,za+=d*l,Wa+=d*h,Pa+=v,Ba+=v*(r+(r=s)),Ia+=v*(i+(i=a)),ja+=v*(o+(o=u)),ke(r,i,o)}var e,n,r,i,o;Ya.point=function(s,a){e=s,n=a,Ya.point=t,s*=Vs;var u=Math.cos(a*=Vs);r=u*Math.cos(s),i=u*Math.sin(s),o=Math.sin(a),ke(r,i,o)},Ya.lineEnd=function(){t(e,n),Ya.lineEnd=Re,Ya.point=Ce}}function Pe(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Fe(){return!0}function Ne(t,e,n,r,i){var o=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Ae(n,r)){i.lineStart();for(var a=0;e>a;++a)i.point((n=t[a])[0],n[1]);return void i.lineEnd()}var u=new Be(n,t,null,!0),c=new Be(n,null,u,!1);u.o=c,o.push(u),s.push(c),u=new Be(r,t,null,!1),c=new Be(r,null,u,!0),u.o=c,o.push(u),s.push(c)}}),s.sort(e),Le(o),Le(s),o.length){for(var a=0,u=n,c=s.length;c>a;++a)s[a].e=u=!u;for(var l,h,f=o[0];;){for(var p=f,d=!0;p.v;)if((p=p.n)===f)return;l=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(var a=0,c=l.length;c>a;++a)i.point((h=l[a])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){l=p.p.z;for(var a=l.length-1;a>=0;--a)i.point((h=l[a])[0],h[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,l=p.z,d=!d}while(!p.v);i.lineEnd()}}}function Le(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Be(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ie(t,e,n,r){return function(i,o){function s(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function a(t,e){var n=i(t,e);g.point(n[0],n[1])}function u(){m.point=a,g.lineStart()}function c(){m.point=s,g.lineEnd()}function l(t,e){v.push([t,e]);var n=i(t,e);_.point(n[0],n[1])}function h(){_.lineStart(),v=[]}function f(){l(v[0][0],v[0][1]),_.lineEnd();var t,e=_.clean(),n=x.buffer(),r=n.length;if(v.pop(),d.push(v),v=null,r)if(1&e){t=n[0];var i,r=t.length-1,s=-1;if(r>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++s<r;)o.point((i=t[s])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),p.push(n.filter(je))}var p,d,v,g=e(o),y=i.invert(r[0],r[1]),m={point:s,lineStart:u,lineEnd:c,polygonStart:function(){m.point=l,m.lineStart=h,m.lineEnd=f,p=[],d=[]},polygonEnd:function(){m.point=s,m.lineStart=u,m.lineEnd=c,p=ps.merge(p);var t=Ge(y,d);p.length?(b||(o.polygonStart(),b=!0),Ne(p,ze,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},x=Ue(),_=e(x),b=!1;return m}}function je(t){return t.length>1}function Ue(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:T,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ze(t,e){return((t=t.x)[0]<0?t[1]-Hs-Ws:Hs-t[1])-((e=e.x)[0]<0?e[1]-Hs-Ws:Hs-e[1])}function We(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Xs:-Xs,u=Ss(o-n);Ss(u-Xs)<Ws?(t.point(n,r=(r+s)/2>0?Hs:-Hs),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=Xs&&(Ss(n-i)<Ws&&(n-=i*Ws),Ss(o-a)<Ws&&(o-=a*Ws),r=Ye(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Ye(t,e,n,r){var i,o,s=Math.sin(t-n);return Ss(s)>Ws?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*s)):(e+r)/2}function Xe(t,e,n,r){var i;if(null==t)i=n*Hs,r.point(-Xs,i),r.point(0,i),r.point(Xs,i),r.point(Xs,0),r.point(Xs,-i),r.point(0,-i),r.point(-Xs,-i),r.point(-Xs,0),r.point(-Xs,i);else if(Ss(t[0]-e[0])>Ws){var o=t[0]<e[0]?Xs:-Xs;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Ge(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,s=0;Oa.reset();for(var a=0,u=e.length;u>a;++a){var c=e[a],l=c.length;if(l)for(var h=c[0],f=h[0],p=h[1]/2+Xs/4,d=Math.sin(p),v=Math.cos(p),g=1;;){g===l&&(g=0),t=c[g];var y=t[0],m=t[1]/2+Xs/4,x=Math.sin(m),_=Math.cos(m),b=y-f,w=b>=0?1:-1,E=w*b,M=E>Xs,S=d*x;if(Oa.add(Math.atan2(S*w*Math.sin(E),v*_+S*Math.cos(E))),o+=M?b+w*Gs:b,M^f>=n^y>=n){var T=we(_e(h),_e(t));Se(T);var A=we(i,T);Se(A);var C=(M^b>=0?-1:1)*st(A[2]);(r>C||r===C&&(T[0]||T[1]))&&(s+=M^b>=0?1:-1)}if(!g++)break;f=y,d=x,v=_,h=t}}return(-Ws>o||Ws>o&&0>Oa)^1&s}function qe(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(h,f){var p,d=[h,f],v=e(h,f),g=s?v?0:i(h,f):v?i(h+(0>h?Xs:-Xs),f):0;if(!n&&(c=u=v)&&t.lineStart(),v!==u&&(p=r(n,d),(Ae(n,p)||Ae(d,p))&&(d[0]+=Ws,d[1]+=Ws,v=e(d[0],d[1]))),v!==u)l=0,v?(t.lineStart(),p=r(d,n),t.point(p[0],p[1])):(p=r(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(a&&n&&s^v){var y;g&o||!(y=r(d,n,!0))||(l=0,s?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||n&&Ae(n,d)||t.point(d[0],d[1]),n=d,u=v,o=g},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return l|(c&&u)<<1}}}function r(t,e,n){var r=_e(t),i=_e(e),s=[1,0,0],a=we(r,i),u=be(a,a),c=a[0],l=u-c*c;if(!l)return!n&&t;var h=o*u/l,f=-o*c/l,p=we(s,a),d=Me(s,h),v=Me(a,f);Ee(d,v);var g=p,y=be(d,g),m=be(g,g),x=y*y-m*(be(d,d)-1);if(!(0>x)){var _=Math.sqrt(x),b=Me(g,(-y-_)/m);if(Ee(b,d),b=Te(b),!n)return b;var w,E=t[0],M=e[0],S=t[1],T=e[1];E>M&&(w=E,E=M,M=w);var A=M-E,C=Ss(A-Xs)<Ws,k=C||Ws>A;if(!C&&S>T&&(w=S,S=T,T=w),k?C?S+T>0^b[1]<(Ss(b[0]-E)<Ws?S:T):S<=b[1]&&b[1]<=T:A>Xs^(E<=b[0]&&b[0]<=M)){var O=Me(g,(-y+_)/m);return Ee(O,d),[b,Te(O)]}}}function i(e,n){var r=s?t:Xs-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),s=o>0,a=Ss(o)>Ws,u=_n(t,6*Vs);return Ie(e,n,u,s?[0,-t]:[-Xs,t-Xs])}function He(t,e,n,r){return function(i){var o,s=i.a,a=i.b,u=s.x,c=s.y,l=a.x,h=a.y,f=0,p=1,d=l-u,v=h-c;if(o=t-u,d||!(o>0)){if(o/=d,0>d){if(f>o)return;
p>o&&(p=o)}else if(d>0){if(o>p)return;o>f&&(f=o)}if(o=n-u,d||!(0>o)){if(o/=d,0>d){if(o>p)return;o>f&&(f=o)}else if(d>0){if(f>o)return;p>o&&(p=o)}if(o=e-c,v||!(o>0)){if(o/=v,0>v){if(f>o)return;p>o&&(p=o)}else if(v>0){if(o>p)return;o>f&&(f=o)}if(o=r-c,v||!(0>o)){if(o/=v,0>v){if(o>p)return;o>f&&(f=o)}else if(v>0){if(f>o)return;p>o&&(p=o)}return f>0&&(i.a={x:u+f*d,y:c+f*v}),1>p&&(i.b={x:u+p*d,y:c+p*v}),i}}}}}}function Ve(t,e,n,r){function i(r,i){return Ss(r[0]-t)<Ws?i>0?0:3:Ss(r[0]-n)<Ws?i>0?2:1:Ss(r[1]-e)<Ws?i>0?1:0:i>0?3:2}function o(t,e){return s(t.x,e.x)}function s(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t){for(var e=0,n=g.length,r=t[1],i=0;n>i;++i)for(var o,s=1,a=g[i],u=a.length,c=a[0];u>s;++s)o=a[s],c[1]<=r?o[1]>r&&it(c,o,t)>0&&++e:o[1]<=r&&it(c,o,t)<0&&--e,c=o;return 0!==e}function c(o,a,u,c){var l=0,h=0;if(null==o||(l=i(o,u))!==(h=i(a,u))||s(o,a)<0^u>0){do c.point(0===l||3===l?t:n,l>1?r:e);while((l=(l+u+4)%4)!==h)}else c.point(a[0],a[1])}function l(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function h(t,e){l(t,e)&&a.point(t,e)}function f(){k.point=d,g&&g.push(y=[]),M=!0,E=!1,b=w=NaN}function p(){v&&(d(m,x),_&&E&&A.rejoin(),v.push(A.buffer())),k.point=h,E&&a.lineEnd()}function d(t,e){t=Math.max(-Ga,Math.min(Ga,t)),e=Math.max(-Ga,Math.min(Ga,e));var n=l(t,e);if(g&&y.push([t,e]),M)m=t,x=e,_=n,M=!1,n&&(a.lineStart(),a.point(t,e));else if(n&&E)a.point(t,e);else{var r={a:{x:b,y:w},b:{x:t,y:e}};C(r)?(E||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),n||a.lineEnd(),S=!1):n&&(a.lineStart(),a.point(t,e),S=!1)}b=t,w=e,E=n}var v,g,y,m,x,_,b,w,E,M,S,T=a,A=Ue(),C=He(t,e,n,r),k={point:h,lineStart:f,lineEnd:p,polygonStart:function(){a=A,v=[],g=[],S=!0},polygonEnd:function(){a=T,v=ps.merge(v);var e=u([t,r]),n=S&&e,i=v.length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),c(null,null,1,a),a.lineEnd()),i&&Ne(v,o,e,c,a),a.polygonEnd()),v=g=y=null}};return k}}function Ke(t){var e=0,n=Xs/3,r=fn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Xs/180,n=t[1]*Xs/180):[e/Xs*180,n/Xs*180]},i}function $e(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),s-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),s=Math.sqrt(o)/i;return n.invert=function(t,e){var n=s-e;return[Math.atan2(t,n)/i,st((o-(t*t+n*n)*i*i)/(2*i))]},n}function Ze(){function t(t,e){Ha+=i*t-r*e,r=t,i=e}var e,n,r,i;Ja.point=function(o,s){Ja.point=t,e=r=o,n=i=s},Ja.lineEnd=function(){t(e,n)}}function Je(t,e){Va>t&&(Va=t),t>$a&&($a=t),Ka>e&&(Ka=e),e>Za&&(Za=e)}function Qe(){function t(t,e){s.push("M",t,",",e,o)}function e(t,e){s.push("M",t,",",e),a.point=n}function n(t,e){s.push("L",t,",",e)}function r(){a.point=t}function i(){s.push("Z")}var o=tn(4.5),s=[],a={point:t,lineStart:function(){a.point=e},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=t},pointRadius:function(t){return o=tn(t),a},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return a}function tn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function en(t,e){Fa+=t,Na+=e,++La}function nn(){function t(t,r){var i=t-e,o=r-n,s=Math.sqrt(i*i+o*o);Ba+=s*(e+t)/2,Ia+=s*(n+r)/2,ja+=s,en(e=t,n=r)}var e,n;tu.point=function(r,i){tu.point=t,en(e=r,n=i)}}function rn(){tu.point=en}function on(){function t(t,e){var n=t-r,o=e-i,s=Math.sqrt(n*n+o*o);Ba+=s*(r+t)/2,Ia+=s*(i+e)/2,ja+=s,s=i*t-r*e,Ua+=s*(r+t),za+=s*(i+e),Wa+=3*s,en(r=t,i=e)}var e,n,r,i;tu.point=function(o,s){tu.point=t,en(e=r=o,n=i=s)},tu.lineEnd=function(){t(e,n)}}function sn(t){function e(e,n){t.moveTo(e+s,n),t.arc(e,n,s,0,Gs)}function n(e,n){t.moveTo(e,n),a.point=r}function r(e,n){t.lineTo(e,n)}function i(){a.point=e}function o(){t.closePath()}var s=4.5,a={point:e,lineStart:function(){a.point=n},lineEnd:i,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=i,a.point=e},pointRadius:function(t){return s=t,a},result:T};return a}function an(t){function e(t){return(a?r:n)(t)}function n(e){return ln(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){x=NaN,M.point=o,e.lineStart()}function o(n,r){var o=_e([n,r]),s=t(n,r);i(x,_,m,b,w,E,x=s[0],_=s[1],m=n,b=o[0],w=o[1],E=o[2],a,e),e.point(x,_)}function s(){M.point=n,e.lineEnd()}function u(){r(),M.point=c,M.lineEnd=l}function c(t,e){o(h=t,f=e),p=x,d=_,v=b,g=w,y=E,M.point=o}function l(){i(x,_,m,b,w,E,p,d,h,v,g,y,a,e),M.lineEnd=s,s()}var h,f,p,d,v,g,y,m,x,_,b,w,E,M={point:n,lineStart:r,lineEnd:s,polygonStart:function(){e.polygonStart(),M.lineStart=u},polygonEnd:function(){e.polygonEnd(),M.lineStart=r}};return M}function i(e,n,r,a,u,c,l,h,f,p,d,v,g,y){var m=l-e,x=h-n,_=m*m+x*x;if(_>4*o&&g--){var b=a+p,w=u+d,E=c+v,M=Math.sqrt(b*b+w*w+E*E),S=Math.asin(E/=M),T=Ss(Ss(E)-1)<Ws||Ss(r-f)<Ws?(r+f)/2:Math.atan2(w,b),A=t(T,S),C=A[0],k=A[1],O=C-e,R=k-n,D=x*O-m*R;(D*D/_>o||Ss((m*O+x*R)/_-.5)>.3||s>a*p+u*d+c*v)&&(i(e,n,r,a,u,c,C,k,T,b/=M,w/=M,E,g,y),y.point(C,k),i(C,k,T,b,w,E,l,h,f,p,d,v,g,y))}}var o=.5,s=Math.cos(30*Vs),a=16;return e.precision=function(t){return arguments.length?(a=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function un(t){var e=an(function(e,n){return t([e*Ks,n*Ks])});return function(t){return pn(e(t))}}function cn(t){this.stream=t}function ln(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function hn(t){return fn(function(){return t})()}function fn(t){function e(t){return t=a(t[0]*Vs,t[1]*Vs),[t[0]*f+u,c-t[1]*f]}function n(t){return t=a.invert((t[0]-u)/f,(c-t[1])/f),t&&[t[0]*Ks,t[1]*Ks]}function r(){a=Pe(s=gn(y,m,x),o);var t=o(v,g);return u=p-t[0]*f,c=d+t[1]*f,i()}function i(){return l&&(l.valid=!1,l=null),e}var o,s,a,u,c,l,h=an(function(t,e){return t=o(t,e),[t[0]*f+u,c-t[1]*f]}),f=150,p=480,d=250,v=0,g=0,y=0,m=0,x=0,_=Xa,b=E,w=null,M=null;return e.stream=function(t){return l&&(l.valid=!1),l=pn(_(s,h(b(t)))),l.valid=!0,l},e.clipAngle=function(t){return arguments.length?(_=null==t?(w=t,Xa):qe((w=+t)*Vs),i()):w},e.clipExtent=function(t){return arguments.length?(M=t,b=t?Ve(t[0][0],t[0][1],t[1][0],t[1][1]):E,i()):M},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(p=+t[0],d=+t[1],r()):[p,d]},e.center=function(t){return arguments.length?(v=t[0]%360*Vs,g=t[1]%360*Vs,r()):[v*Ks,g*Ks]},e.rotate=function(t){return arguments.length?(y=t[0]%360*Vs,m=t[1]%360*Vs,x=t.length>2?t[2]%360*Vs:0,r()):[y*Ks,m*Ks,x*Ks]},ps.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function pn(t){return ln(t,function(e,n){t.point(e*Vs,n*Vs)})}function dn(t,e){return[t,e]}function vn(t,e){return[t>Xs?t-Gs:-Xs>t?t+Gs:t,e]}function gn(t,e,n){return t?e||n?Pe(mn(t),xn(e,n)):mn(t):e||n?xn(e,n):vn}function yn(t){return function(e,n){return e+=t,[e>Xs?e-Gs:-Xs>e?e+Gs:e,n]}}function mn(t){var e=yn(t);return e.invert=yn(-t),e}function xn(t,e){function n(t,e){var n=Math.cos(e),a=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*r+a*i;return[Math.atan2(u*o-l*s,a*r-c*i),st(l*o+u*s)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),s=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),a=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*o-u*s;return[Math.atan2(u*o+c*s,a*r+l*i),st(l*r-a*i)]},n}function _n(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,s,a){var u=s*e;null!=i?(i=bn(n,i),o=bn(n,o),(s>0?o>i:i>o)&&(i+=s*Gs)):(i=t+s*Gs,o=t-.5*u);for(var c,l=i;s>0?l>o:o>l;l-=u)a.point((c=Te([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],c[1])}}function bn(t,e){var n=_e(e);n[0]-=t,Se(n);var r=ot(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ws)%(2*Math.PI)}function wn(t,e,n){var r=ps.range(t,e-Ws,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function En(t,e,n){var r=ps.range(t,e-Ws,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Mn(t){return t.source}function Sn(t){return t.target}function Tn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),s=Math.cos(r),a=Math.sin(r),u=i*Math.cos(t),c=i*Math.sin(t),l=s*Math.cos(n),h=s*Math.sin(n),f=2*Math.asin(Math.sqrt(lt(r-e)+i*s*lt(n-t))),p=1/Math.sin(f),d=f?function(t){var e=Math.sin(t*=f)*p,n=Math.sin(f-t)*p,r=n*u+e*l,i=n*c+e*h,s=n*o+e*a;return[Math.atan2(i,r)*Ks,Math.atan2(s,Math.sqrt(r*r+i*i))*Ks]}:function(){return[t*Ks,e*Ks]};return d.distance=f,d}function An(){function t(t,i){var o=Math.sin(i*=Vs),s=Math.cos(i),a=Ss((t*=Vs)-e),u=Math.cos(a);eu+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=r*o-n*s*u)*a),n*o+r*s*u),e=t,n=o,r=s}var e,n,r;nu.point=function(i,o){e=i*Vs,n=Math.sin(o*=Vs),r=Math.cos(o),nu.point=t},nu.lineEnd=function(){nu.point=nu.lineEnd=T}}function Cn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),s=Math.cos(i);return[Math.atan2(t*o,r*s),Math.asin(r&&n*o/r)]},n}function kn(t,e){function n(t,e){s>0?-Hs+Ws>e&&(e=-Hs+Ws):e>Hs-Ws&&(e=Hs-Ws);var n=s/Math.pow(i(e),o);return[n*Math.sin(o*t),s-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Xs/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),s=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=s-e,r=rt(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(s/r,1/o))-Hs]},n):Rn}function On(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return Ss(i)<Ws?dn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-rt(i)*Math.sqrt(t*t+n*n)]},n)}function Rn(t,e){return[t,Math.log(Math.tan(Xs/4+e/2))]}function Dn(t){var e,n=hn(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=Xs*r(),u=i();o([[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}function Pn(t,e){return[Math.log(Math.tan(Xs/4+e/2)),-t]}function Fn(t){return t[0]}function Nn(t){return t[1]}function Ln(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&it(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Bn(t,e){return t[0]-e[0]||t[1]-e[1]}function In(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function jn(t,e,n,r){var i=t[0],o=n[0],s=e[0]-i,a=r[0]-o,u=t[1],c=n[1],l=e[1]-u,h=r[1]-c,f=(a*(u-c)-h*(i-o))/(h*s-a*l);return[i+f*s,u+f*l]}function Un(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function zn(){ur(this),this.edge=this.site=this.circle=null}function Wn(t){var e=du.pop()||new zn;return e.site=t,e}function Yn(t){Qn(t),hu.remove(t),du.push(t),ur(t)}function Xn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,s=t.N,a=[t];Yn(t);for(var u=o;u.circle&&Ss(n-u.circle.x)<Ws&&Ss(r-u.circle.cy)<Ws;)o=u.P,a.unshift(u),Yn(u),u=o;a.unshift(u),Qn(u);for(var c=s;c.circle&&Ss(n-c.circle.x)<Ws&&Ss(r-c.circle.cy)<Ws;)s=c.N,a.push(c),Yn(c),c=s;a.push(c),Qn(c);var l,h=a.length;for(l=1;h>l;++l)c=a[l],u=a[l-1],or(c.edge,u.site,c.site,i);u=a[0],c=a[h-1],c.edge=rr(u.site,c.site,null,i),Jn(u),Jn(c)}function Gn(t){for(var e,n,r,i,o=t.x,s=t.y,a=hu._;a;)if(r=qn(a,s)-o,r>Ws)a=a.L;else{if(i=o-Hn(a,s),!(i>Ws)){r>-Ws?(e=a.P,n=a):i>-Ws?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var u=Wn(t);if(hu.insert(e,u),e||n){if(e===n)return Qn(e),n=Wn(e.site),hu.insert(u,n),u.edge=n.edge=rr(e.site,u.site),Jn(e),void Jn(n);if(!n)return void(u.edge=rr(e.site,u.site));Qn(e),Qn(n);var c=e.site,l=c.x,h=c.y,f=t.x-l,p=t.y-h,d=n.site,v=d.x-l,g=d.y-h,y=2*(f*g-p*v),m=f*f+p*p,x=v*v+g*g,_={x:(g*m-p*x)/y+l,y:(f*x-v*m)/y+h};or(n.edge,c,d,_),u.edge=rr(c,t,null,_),n.edge=rr(t,d,null,_),Jn(e),Jn(n)}}function qn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var s=t.P;if(!s)return-(1/0);n=s.site;var a=n.x,u=n.y,c=u-e;if(!c)return a;var l=a-r,h=1/o-1/c,f=l/c;return h?(-f+Math.sqrt(f*f-2*h*(l*l/(-2*c)-u+c/2+i-o/2)))/h+r:(r+a)/2}function Hn(t,e){var n=t.N;if(n)return qn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Vn(t){this.site=t,this.edges=[]}function Kn(t){for(var e,n,r,i,o,s,a,u,c,l,h=t[0][0],f=t[1][0],p=t[0][1],d=t[1][1],v=lu,g=v.length;g--;)if(o=v[g],o&&o.prepare())for(a=o.edges,u=a.length,s=0;u>s;)l=a[s].end(),r=l.x,i=l.y,c=a[++s%u].start(),e=c.x,n=c.y,(Ss(r-e)>Ws||Ss(i-n)>Ws)&&(a.splice(s,0,new sr(ir(o.site,l,Ss(r-h)<Ws&&d-i>Ws?{x:h,y:Ss(e-h)<Ws?n:d}:Ss(i-d)<Ws&&f-r>Ws?{x:Ss(n-d)<Ws?e:f,y:d}:Ss(r-f)<Ws&&i-p>Ws?{x:f,y:Ss(e-f)<Ws?n:p}:Ss(i-p)<Ws&&r-h>Ws?{x:Ss(n-p)<Ws?e:h,y:p}:null),o.site,null)),++u)}function $n(t,e){return e.angle-t.angle}function Zn(){ur(this),this.x=this.y=this.arc=this.site=this.cy=null}function Jn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i.x,a=i.y,u=r.x-s,c=r.y-a,l=o.x-s,h=o.y-a,f=2*(u*h-c*l);if(!(f>=-Ys)){var p=u*u+c*c,d=l*l+h*h,v=(h*p-c*d)/f,g=(u*d-l*p)/f,h=g+a,y=vu.pop()||new Zn;y.arc=t,y.site=i,y.x=v+s,y.y=h+Math.sqrt(v*v+g*g),y.cy=h,t.circle=y;for(var m=null,x=pu._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}pu.insert(m,y),m||(fu=y)}}}}function Qn(t){var e=t.circle;e&&(e.P||(fu=e.N),pu.remove(e),vu.push(e),ur(e),t.circle=null)}function tr(t){for(var e,n=cu,r=He(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!er(e,t)||!r(e)||Ss(e.a.x-e.b.x)<Ws&&Ss(e.a.y-e.b.y)<Ws)&&(e.a=e.b=null,n.splice(i,1))}function er(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,s=e[0][0],a=e[1][0],u=e[0][1],c=e[1][1],l=t.l,h=t.r,f=l.x,p=l.y,d=h.x,v=h.y,g=(f+d)/2,y=(p+v)/2;if(v===p){if(s>g||g>=a)return;if(f>d){if(o){if(o.y>=c)return}else o={x:g,y:u};n={x:g,y:c}}else{if(o){if(o.y<u)return}else o={x:g,y:c};n={x:g,y:u}}}else if(r=(f-d)/(v-p),i=y-r*g,-1>r||r>1)if(f>d){if(o){if(o.y>=c)return}else o={x:(u-i)/r,y:u};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<u)return}else o={x:(c-i)/r,y:c};n={x:(u-i)/r,y:u}}else if(v>p){if(o){if(o.x>=a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}else{if(o){if(o.x<s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}return t.a=o,t.b=n,!0}function nr(t,e){this.l=t,this.r=e,this.a=this.b=null}function rr(t,e,n,r){var i=new nr(t,e);return cu.push(i),n&&or(i,t,e,n),r&&or(i,e,t,r),lu[t.i].edges.push(new sr(i,t,e)),lu[e.i].edges.push(new sr(i,e,t)),i}function ir(t,e,n){var r=new nr(t,null);return r.a=e,r.b=n,cu.push(r),r}function or(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function sr(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ar(){this._=null}function ur(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function cr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function lr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function hr(t){for(;t.L;)t=t.L;return t}function fr(t,e){var n,r,i,o=t.sort(pr).pop();for(cu=[],lu=new Array(t.length),hu=new ar,pu=new ar;;)if(i=fu,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(lu[o.i]=new Vn(o),Gn(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Xn(i.arc)}e&&(tr(e),Kn(e));var s={cells:lu,edges:cu};return hu=pu=cu=lu=null,s}function pr(t,e){return e.y-t.y||e.x-t.x}function dr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function vr(t){return t.x}function gr(t){return t.y}function yr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function mr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var s=.5*(n+i),a=.5*(r+o),u=e.nodes;u[0]&&mr(t,u[0],n,r,s,a),u[1]&&mr(t,u[1],s,r,i,a),u[2]&&mr(t,u[2],n,a,s,o),u[3]&&mr(t,u[3],s,a,i,o)}}function xr(t,e,n,r,i,o,s){var a,u=1/0;return function c(t,l,h,f,p){if(!(l>o||h>s||r>f||i>p)){if(d=t.point){var d,v=e-t.x,g=n-t.y,y=v*v+g*g;if(u>y){var m=Math.sqrt(u=y);r=e-m,i=n-m,o=e+m,s=n+m,a=d}}for(var x=t.nodes,_=.5*(l+f),b=.5*(h+p),w=e>=_,E=n>=b,M=E<<1|w,S=M+4;S>M;++M)if(t=x[3&M])switch(3&M){case 0:c(t,l,h,_,b);break;case 1:c(t,_,h,f,b);break;case 2:c(t,l,b,_,p);break;case 3:c(t,_,b,f,p)}}}(t,r,i,o,s),a}function _r(t,e){t=ps.rgb(t),e=ps.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,s=e.g-r,a=e.b-i;return function(t){return"#"+St(Math.round(n+o*t))+St(Math.round(r+s*t))+St(Math.round(i+a*t))}}function br(t,e){var n,r={},i={};for(n in t)n in e?r[n]=Mr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function wr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Er(t,e){var n,r,i,o=yu.lastIndex=mu.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=yu.exec(t))&&(r=mu.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,u.push({i:s,x:wr(n,r)})),o=mu.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;e>r;++r)a[(n=u[r]).i]=n.x(t);return a.join("")})}function Mr(t,e){for(var n,r=ps.interpolators.length;--r>=0&&!(n=ps.interpolators[r](t,e)););return n}function Sr(t,e){var n,r=[],i=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;a>n;++n)r.push(Mr(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;s>n;++n)i[n]=e[n];return function(t){for(n=0;a>n;++n)i[n]=r[n](t);return i}}function Tr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Ar(t){return function(e){return 1-t(1-e)}}function Cr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function kr(t){return t*t}function Or(t){return t*t*t}function Rr(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Dr(t){return function(e){return Math.pow(e,t)}}function Pr(t){return 1-Math.cos(t*Hs)}function Fr(t){return Math.pow(2,10*(t-1))}function Nr(t){return 1-Math.sqrt(1-t*t)}function Lr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Gs*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Gs/e)}}function Br(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Ir(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function jr(t,e){t=ps.hcl(t),e=ps.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,s=e.c-r,a=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return vt(n+o*t,r+s*t,i+a*t)+""}}function Ur(t,e){t=ps.hsl(t),e=ps.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,s=e.s-r,a=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return pt(n+o*t,r+s*t,i+a*t)+""}}function zr(t,e){t=ps.lab(t),e=ps.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,s=e.a-r,a=e.b-i;return function(t){return yt(n+o*t,r+s*t,i+a*t)+""}}function Wr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Yr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Gr(e),i=Xr(e,n),o=Gr(qr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ks,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ks:0}function Xr(t,e){return t[0]*e[0]+t[1]*e[1]}function Gr(t){var e=Math.sqrt(Xr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function qr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hr(t){return t.length?t.pop()+",":""}function Vr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:wr(t[0],e[0])},{i:i-2,x:wr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Kr(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Hr(n)+"rotate(",null,")")-2,x:wr(t,e)})):e&&n.push(Hr(n)+"rotate("+e+")")}function $r(t,e,n,r){t!==e?r.push({i:n.push(Hr(n)+"skewX(",null,")")-2,x:wr(t,e)}):e&&n.push(Hr(n)+"skewX("+e+")")}function Zr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Hr(n)+"scale(",null,",",null,")");r.push({i:i-4,x:wr(t[0],e[0])},{i:i-2,x:wr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Hr(n)+"scale("+e+")")}function Jr(t,e){var n=[],r=[];return t=ps.transform(t),e=ps.transform(e),Vr(t.translate,e.translate,n,r),Kr(t.rotate,e.rotate,n,r),$r(t.skew,e.skew,n,r),Zr(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,o=r.length;++i<o;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function Qr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function ti(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function ei(t){for(var e=t.source,n=t.target,r=ri(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function ni(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ri(t,e){if(t===e)return t;for(var n=ni(t),r=ni(e),i=n.pop(),o=r.pop(),s=null;i===o;)s=i,i=n.pop(),o=r.pop();return s}function ii(t){t.fixed|=2}function oi(t){t.fixed&=-7}function si(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ai(t){t.fixed&=-5}function ui(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,s=t.nodes,a=s.length,u=-1;++u<a;)o=s[u],null!=o&&(ui(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ci(t,e){return ps.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=vi,t}function li(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function hi(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,s=-1;++s<i;)n.push(o[s]);for(;null!=(t=r.pop());)e(t)}function fi(t){return t.children}function pi(t){return t.value}function di(t,e){return e.value-t.value}function vi(t){return ps.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function gi(t){return t.x}function yi(t){return t.y}function mi(t,e,n){t.y0=e,t.y=n}function xi(t){return ps.range(t.length)}function _i(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function bi(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function wi(t){return t.reduce(Ei,0)}function Ei(t,e){return t+e[1]}function Mi(t,e){return Si(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Si(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Ti(t){return[ps.min(t),ps.max(t)]}function Ai(t,e){return t.value-e.value}function Ci(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ki(t,e){t._pack_next=e,e._pack_prev=t}function Oi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Ri(t){function e(t){l=Math.min(t.x-t.r,l),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),p=Math.max(t.y+t.r,p)}if((n=t.children)&&(c=n.length)){var n,r,i,o,s,a,u,c,l=1/0,h=-(1/0),f=1/0,p=-(1/0);if(n.forEach(Di),r=n[0],r.x=-r.r,r.y=0,e(r),c>1&&(i=n[1],i.x=i.r,i.y=0,e(i),c>2))for(o=n[2],Ni(r,i,o),e(o),Ci(r,o),r._pack_prev=o,Ci(o,i),i=r._pack_next,s=3;c>s;s++){Ni(r,i,o=n[s]);var d=0,v=1,g=1;for(a=i._pack_next;a!==i;a=a._pack_next,v++)if(Oi(a,o)){d=1;break}if(1==d)for(u=r._pack_prev;u!==a._pack_prev&&!Oi(u,o);u=u._pack_prev,g++);d?(g>v||v==g&&i.r<r.r?ki(r,i=a):ki(r=u,i),s--):(Ci(r,o),i=o,e(o))}var y=(l+h)/2,m=(f+p)/2,x=0;for(s=0;c>s;s++)o=n[s],o.x-=y,o.y-=m,x=Math.max(x,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=x,n.forEach(Pi)}}function Di(t){t._pack_next=t._pack_prev=t}function Pi(t){delete t._pack_next,delete t._pack_prev}function Fi(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,s=i.length;++o<s;)Fi(i[o],e,n,r)}function Ni(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var s=e.r+n.r,a=i*i+o*o;s*=s,r*=r;var u=.5+(r-s)/(2*a),c=Math.sqrt(Math.max(0,2*s*(r+a)-(r-=a)*r-s*s))/(2*a);n.x=t.x+u*i+c*o,n.y=t.y+u*o-c*i}else n.x=t.x+r,n.y=t.y}function Li(t,e){return t.parent==e.parent?1:2}function Bi(t){var e=t.children;return e.length?e[0]:t.t}function Ii(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ji(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Ui(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function zi(t,e,n){return t.a.parent===e.parent?t.a:n}function Wi(t){return 1+ps.max(t,function(t){return t.y})}function Yi(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Xi(t){var e=t.children;return e&&e.length?Xi(e[0]):t}function Gi(t){var e,n=t.children;return n&&(e=n.length)?Gi(n[e-1]):t}function qi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Hi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Vi(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Ki(t){return t.rangeExtent?t.rangeExtent():Vi(t.range())}function $i(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Zi(t,e){var n,r=0,i=t.length-1,o=t[r],s=t[i];return o>s&&(n=r,r=i,i=n,n=o,o=s,s=n),t[r]=e.floor(o),t[i]=e.ceil(s),t}function Ji(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ku}function Qi(t,e,n,r){var i=[],o=[],s=0,a=Math.min(t.length,e.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=a;)i.push(n(t[s-1],t[s])),o.push(r(e[s-1],e[s]));return function(e){var n=ps.bisect(t,e,1,a)-1;return o[n](i[n](e))}}function to(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Qi:$i,u=r?ti:Qr;return s=i(t,e,u,n),a=i(e,t,u,Mr),o}function o(t){return s(t)}var s,a;return o.invert=function(t){return a(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Wr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return io(t,e)},o.tickFormat=function(e,n){return oo(t,e,n)},o.nice=function(e){return no(t,e),i()},o.copy=function(){return to(t,e,n,r)},i()}function eo(t,e){return ps.rebind(t,e,"range","rangeRound","interpolate","clamp")}function no(t,e){return Zi(t,Ji(ro(t,e)[2])),Zi(t,Ji(ro(t,e)[2])),t}function ro(t,e){null==e&&(e=10);var n=Vi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function io(t,e){return ps.range.apply(ps,ro(t,e))}function oo(t,e,n){var r=ro(t,e);if(n){var i=ya.exec(n);if(i.shift(),"s"===i[8]){var o=ps.formatPrefix(Math.max(Ss(r[0]),Ss(r[1])));return i[7]||(i[7]="."+so(o.scale(r[2]))),i[8]="f",n=ps.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+ao(i[8],r)),n=i.join("")}else n=",."+so(r[2])+"f";return ps.format(n)}function so(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ao(t,e){var n=so(e[2]);return t in Ou?Math.abs(n-so(Math.max(Ss(e[0]),Ss(e[1]))))+ +("e"!==t):n-2*("%"===t)}function uo(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(i(e))}return s.invert=function(e){return o(t.invert(e))},s.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),s):r},s.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),s):e},s.nice=function(){var e=Zi(r.map(i),n?Math:Du);return t.domain(e),r=e.map(o),s},s.ticks=function(){var t=Vi(r),s=[],a=t[0],u=t[1],c=Math.floor(i(a)),l=Math.ceil(i(u)),h=e%1?2:e;if(isFinite(l-c)){if(n){for(;l>c;c++)for(var f=1;h>f;f++)s.push(o(c)*f);s.push(o(c))}else for(s.push(o(c));c++<l;)for(var f=h-1;f>0;f--)s.push(o(c)*f);for(c=0;s[c]<a;c++);for(l=s.length;s[l-1]>u;l--);s=s.slice(c,l)}return s},s.tickFormat=function(t,n){if(!arguments.length)return Ru;arguments.length<2?n=Ru:"function"!=typeof n&&(n=ps.format(n));var r=Math.max(1,e*t/s.ticks().length);return function(t){var s=t/o(Math.round(i(t)));return e-.5>s*e&&(s*=e),r>=s?n(t):""}},s.copy=function(){return uo(t.copy(),e,n,r)},eo(s,t)}function co(t,e,n){function r(e){return t(i(e))}var i=lo(e),o=lo(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return io(n,t)},r.tickFormat=function(t,e){return oo(n,t,e)},r.nice=function(t){return r.domain(no(n,t))},r.exponent=function(s){return arguments.length?(i=lo(e=s),o=lo(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return co(t.copy(),e,n)},eo(r,t)}function lo(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ho(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%o.length]}function r(e,n){return ps.range(t.length).map(function(t){return e+n*t})}var i,o,s;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new d;for(var o,s=-1,a=r.length;++s<a;)i.has(o=r[s])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,s=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,a){arguments.length<2&&(a=0);var u=i[0],c=i[1],l=t.length<2?(u=(u+c)/2,0):(c-u)/(t.length-1+a);return o=r(u+l*a/2,l),s=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,a){arguments.length<2&&(a=0);var u=i[0],c=i[1],l=t.length<2?(u=c=Math.round((u+c)/2),0):(c-u)/(t.length-1+a)|0;return o=r(u+Math.round(l*a/2+(c-u-(t.length-1+a)*l)/2),l),s=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var c=i[1]<i[0],l=i[c-0],h=i[1-c],f=(h-l)/(t.length-a+2*u);return o=r(l+f*u,f),c&&o.reverse(),s=f*(1-a),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var c=i[1]<i[0],l=i[c-0],h=i[1-c],f=Math.floor((h-l)/(t.length-a+2*u));return o=r(l+Math.round((h-l-(t.length-a)*f)/2),f),c&&o.reverse(),s=Math.round(f*(1-a)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Vi(e.a[0])},n.copy=function(){return ho(t,e)},n.domain(t)}function fo(t,e){function n(){var n=0,o=e.length;for(i=[];++n<o;)i[n-1]=ps.quantile(t,n/o);return r}function r(t){return isNaN(t=+t)?void 0:e[ps.bisect(i,t)]}var i;return r.domain=function(e){return arguments.length?(t=e.map(u).filter(c).sort(a),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return i},r.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?i[n-1]:t[0],n<i.length?i[n]:t[t.length-1]]},r.copy=function(){return fo(t,e)},n()}function po(t,e,n){function r(e){return n[Math.max(0,Math.min(s,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),s=n.length-1,r}var o,s;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/o+t,[e,e+1/o]},r.copy=function(){return po(t,e,n)},i()}function vo(t,e){function n(n){return n>=n?e[ps.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return vo(t,e)},n}function go(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return io(t,e)},e.tickFormat=function(e,n){return oo(t,e,n)},e.copy=function(){return go(t)},e}function yo(){return 0}function mo(t){return t.innerRadius}function xo(t){return t.outerRadius}function _o(t){return t.startAngle}function bo(t){
return t.endAngle}function wo(t){return t&&t.padAngle}function Eo(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function Mo(t,e,n,r,i){var o=t[0]-e[0],s=t[1]-e[1],a=(i?r:-r)/Math.sqrt(o*o+s*s),u=a*s,c=-a*o,l=t[0]+u,h=t[1]+c,f=e[0]+u,p=e[1]+c,d=(l+f)/2,v=(h+p)/2,g=f-l,y=p-h,m=g*g+y*y,x=n-r,_=l*p-f*h,b=(0>y?-1:1)*Math.sqrt(Math.max(0,x*x*m-_*_)),w=(_*y-g*b)/m,E=(-_*g-y*b)/m,M=(_*y+g*b)/m,S=(-_*g+y*b)/m,T=w-d,A=E-v,C=M-d,k=S-v;return T*T+A*A>C*C+k*k&&(w=M,E=S),[[w-u,E-c],[w*n/x,E*n/x]]}function So(t){function e(e){function s(){c.push("M",o(t(l),a))}for(var u,c=[],l=[],h=-1,f=e.length,p=Rt(n),d=Rt(r);++h<f;)i.call(this,u=e[h],h)?l.push([+p.call(this,u,h),+d.call(this,u,h)]):l.length&&(s(),l=[]);return l.length&&s(),c.length?c.join(""):null}var n=Fn,r=Nn,i=Fe,o=To,s=o.key,a=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Iu.get(t)||To).key,e):s},e.tension=function(t){return arguments.length?(a=t,e):a},e}function To(t){return t.length>1?t.join("L"):t+"Z"}function Ao(t){return t.join("L")+"Z"}function Co(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ko(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Oo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Ro(t,e){return t.length<4?To(t):t[1]+Fo(t.slice(1,-1),No(t,e))}function Do(t,e){return t.length<3?Ao(t):t[0]+Fo((t.push(t[0]),t),No([t[t.length-2]].concat(t,[t[1]]),e))}function Po(t,e){return t.length<3?To(t):t[0]+Fo(t,No(t,e))}function Fo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return To(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],s=e[0],a=s,u=1;if(n&&(r+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){a=e[1],o=t[u],u++,r+="C"+(i[0]+s[0])+","+(i[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,u++)o=t[u],a=e[c],r+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var l=t[u];r+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+l[0]+","+l[1]}return r}function No(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],s=t[1],a=1,u=t.length;++a<u;)n=o,o=s,s=t[a],r.push([i*(s[0]-n[0]),i*(s[1]-n[1])]);return r}function Lo(t){if(t.length<3)return To(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],s=[i,i,i,(r=t[1])[0]],a=[o,o,o,r[1]],u=[i,",",o,"L",Uo(zu,s),",",Uo(zu,a)];for(t.push(t[n-1]);++e<=n;)r=t[e],s.shift(),s.push(r[0]),a.shift(),a.push(r[1]),zo(u,s,a);return t.pop(),u.push("L",r),u.join("")}function Bo(t){if(t.length<4)return To(t);for(var e,n=[],r=-1,i=t.length,o=[0],s=[0];++r<3;)e=t[r],o.push(e[0]),s.push(e[1]);for(n.push(Uo(zu,o)+","+Uo(zu,s)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),zo(n,o,s);return n.join("")}function Io(t){for(var e,n,r=-1,i=t.length,o=i+4,s=[],a=[];++r<4;)n=t[r%i],s.push(n[0]),a.push(n[1]);for(e=[Uo(zu,s),",",Uo(zu,a)],--r;++r<o;)n=t[r%i],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),zo(e,s,a);return e.join("")}function jo(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],s=t[0][1],a=t[n][0]-o,u=t[n][1]-s,c=-1;++c<=n;)r=t[c],i=c/n,r[0]=e*r[0]+(1-e)*(o+i*a),r[1]=e*r[1]+(1-e)*(s+i*u);return Lo(t)}function Uo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function zo(t,e,n){t.push("C",Uo(ju,e),",",Uo(ju,n),",",Uo(Uu,e),",",Uo(Uu,n),",",Uo(zu,e),",",Uo(zu,n))}function Wo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Yo(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],s=r[0]=Wo(i,o);++e<n;)r[e]=(s+(s=Wo(i=o,o=t[e+1])))/2;return r[e]=s,r}function Xo(t){for(var e,n,r,i,o=[],s=Yo(t),a=-1,u=t.length-1;++a<u;)e=Wo(t[a],t[a+1]),Ss(e)<Ws?s[a]=s[a+1]=0:(n=s[a]/e,r=s[a+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),s[a]=i*n,s[a+1]=i*r));for(a=-1;++a<=u;)i=(t[Math.min(u,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([i||0,s[a]*i||0]);return o}function Go(t){return t.length<3?To(t):t[0]+Fo(t,Xo(t))}function qo(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]-Hs,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Ho(t){function e(e){function u(){v.push("M",a(t(y),h),l,c(t(g.reverse()),h),"Z")}for(var f,p,d,v=[],g=[],y=[],m=-1,x=e.length,_=Rt(n),b=Rt(i),w=n===r?function(){return p}:Rt(r),E=i===o?function(){return d}:Rt(o);++m<x;)s.call(this,f=e[m],m)?(g.push([p=+_.call(this,f,m),d=+b.call(this,f,m)]),y.push([+w.call(this,f,m),+E.call(this,f,m)])):g.length&&(u(),g=[],y=[]);return g.length&&u(),v.length?v.join(""):null}var n=Fn,r=Fn,i=0,o=Nn,s=Fe,a=To,u=a.key,c=a,l="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?a=t:(a=Iu.get(t)||To).key,c=a.reverse||a,l=a.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Vo(t){return t.radius}function Ko(t){return[t.x,t.y]}function $o(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Hs;return[n*Math.cos(r),n*Math.sin(r)]}}function Zo(){return 64}function Jo(){return"circle"}function Qo(t){var e=Math.sqrt(t/Xs);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function ts(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function es(t,e,n){return Os(t,Vu),t.namespace=e,t.id=n,t}function ns(t,e,n,r){var i=t.id,o=t.namespace;return V(t,"function"==typeof n?function(t,s,a){t[o][i].tween.set(e,r(n.call(t,t.__data__,s,a)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function rs(t){return null==t&&(t=""),function(){this.textContent=t}}function is(t){return null==t?"__transition__":"__transition_"+t+"__"}function os(t,e,n,r,i){function o(t){var e=v.delay;return c.t=e+u,t>=e?s(t-e):void(c.c=s)}function s(n){var i=p.active,o=p[i];o&&(o.timer.c=null,o.timer.t=NaN,--p.count,delete p[i],o.event&&o.event.interrupt.call(t,t.__data__,o.index));for(var s in p)if(r>+s){var d=p[s];d.timer.c=null,d.timer.t=NaN,--p.count,delete p[s]}c.c=a,Lt(function(){return c.c&&a(n||1)&&(c.c=null,c.t=NaN),1},0,u),p.active=r,v.event&&v.event.start.call(t,t.__data__,e),f=[],v.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&f.push(r)}),h=v.ease,l=v.duration}function a(i){for(var o=i/l,s=h(o),a=f.length;a>0;)f[--a].call(t,s);return o>=1?(v.event&&v.event.end.call(t,t.__data__,e),--p.count?delete p[r]:delete t[n],1):void 0}var u,c,l,h,f,p=t[n]||(t[n]={active:0,count:0}),v=p[r];v||(u=i.time,c=Lt(o,0,u),v=p[r]={tween:new d,time:u,timer:c,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++p.count)}function ss(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function as(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function us(t){return t.toISOString()}function cs(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=ps.bisect(rc,i);return o==rc.length?[e.year,ro(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/rc[o-1]<rc[o]/i?o-1:o]:[sc,ro(t,n)[2]]}return r.invert=function(e){return ls(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ls)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ls(+n+1),e).length}var o=r.domain(),s=Vi(o),a=null==t?i(s,10):"number"==typeof t&&i(s,t);return a&&(t=a[0],e=a[1]),r.domain(Zi(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ls(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ls(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Vi(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],ls(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return cs(t.copy(),e,n)},eo(r,t)}function ls(t){return new Date(t)}function hs(t){return JSON.parse(t.responseText)}function fs(t){var e=gs.createRange();return e.selectNode(gs.body),e.createContextualFragment(t.responseText)}var ps={version:"3.5.16"},ds=[].slice,vs=function(t){return ds.call(t)},gs=this.document;if(gs)try{vs(gs.documentElement.childNodes)[0].nodeType}catch(ys){vs=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),gs)try{gs.createElement("DIV").style.setProperty("opacity",0,"")}catch(ms){var xs=this.Element.prototype,_s=xs.setAttribute,bs=xs.setAttributeNS,ws=this.CSSStyleDeclaration.prototype,Es=ws.setProperty;xs.setAttribute=function(t,e){_s.call(this,t,e+"")},xs.setAttributeNS=function(t,e,n){bs.call(this,t,e,n+"")},ws.setProperty=function(t,e,n){Es.call(this,t,e+"",n)}}ps.ascending=a,ps.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},ps.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},ps.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},ps.extent=function(t,e){var n,r,i,o=-1,s=t.length;if(1===arguments.length){for(;++o<s;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=t[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<s;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},ps.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=+t[o])&&(r+=n);else for(;++o<i;)c(n=+e.call(t,t[o],o))&&(r+=n);return r},ps.mean=function(t,e){var n,r=0,i=t.length,o=-1,s=i;if(1===arguments.length)for(;++o<i;)c(n=u(t[o]))?r+=n:--s;else for(;++o<i;)c(n=u(e.call(t,t[o],o)))?r+=n:--s;return s?r/s:void 0},ps.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},ps.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=u(t[o]))&&r.push(n);else for(;++o<i;)c(n=u(e.call(t,t[o],o)))&&r.push(n);return r.length?ps.quantile(r.sort(a),.5):void 0},ps.variance=function(t,e){var n,r,i=t.length,o=0,s=0,a=-1,l=0;if(1===arguments.length)for(;++a<i;)c(n=u(t[a]))&&(r=n-o,o+=r/++l,s+=r*(n-o));else for(;++a<i;)c(n=u(e.call(t,t[a],a)))&&(r=n-o,o+=r/++l,s+=r*(n-o));return l>1?s/(l-1):void 0},ps.deviation=function(){var t=ps.variance.apply(this,arguments);return t?Math.sqrt(t):t};var Ms=l(a);ps.bisectLeft=Ms.left,ps.bisect=ps.bisectRight=Ms.right,ps.bisector=function(t){return l(1===t.length?function(e,n){return a(t(e),n)}:t)},ps.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},ps.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ps.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=i,i=t[++n]];return o},ps.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=ps.min(t,h),r=new Array(n);++e<n;)for(var i,o=-1,s=r[e]=new Array(i);++o<i;)s[o]=t[o][e];return r},ps.zip=function(){return ps.transpose(arguments)},ps.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ps.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ps.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ps.merge=function(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--s]=r[e];return n};var Ss=Math.abs;ps.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=f(Ss(n)),s=-1;if(t*=o,e*=o,n*=o,0>n)for(;(r=t+n*++s)>e;)i.push(r/o);else for(;(r=t+n*++s)<e;)i.push(r/o);return i},ps.map=function(t,e){var n=new d;if(t instanceof d)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var s in t)n.set(s,t[s]);return n};var Ts="__proto__",As="\x00";p(d,{has:y,get:function(t){return this._[v(t)]},set:function(t,e){return this._[v(t)]=e},remove:m,keys:x,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:g(e),value:this._[e]});return t},size:_,empty:b,forEach:function(t){for(var e in this._)t.call(this,g(e),this._[e])}}),ps.nest=function(){function t(e,s,a){if(a>=o.length)return r?r.call(i,s):n?s.sort(n):s;for(var u,c,l,h,f=-1,p=s.length,v=o[a++],g=new d;++f<p;)(h=g.get(u=v(c=s[f])))?h.push(c):g.set(u,[c]);return e?(c=e(),l=function(n,r){c.set(n,t(e,r,a))}):(c={},l=function(n,r){c[n]=t(e,r,a)}),g.forEach(l),c}function e(t,n){if(n>=o.length)return t;var r=[],i=s[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],s=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(ps.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return s[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},ps.set=function(t){var e=new w;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},p(w,{has:y,add:function(t){return this._[v(t+="")]=!0,t},remove:m,values:x,size:_,empty:b,forEach:function(t){for(var e in this._)t.call(this,g(e))}}),ps.behavior={},ps.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=M(t,e,e[n]);return t};var Cs=["webkit","ms","moz","Moz","o","O"];ps.dispatch=function(){for(var t=new A,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=C(t);return t},A.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ps.event=null,ps.requote=function(t){return t.replace(ks,"\\$&")};var ks=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Os={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Rs=function(t,e){return e.querySelector(t)},Ds=function(t,e){return e.querySelectorAll(t)},Ps=function(t,e){var n=t.matches||t[S(t,"matchesSelector")];return(Ps=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Rs=function(t,e){return Sizzle(t,e)[0]||null},Ds=Sizzle,Ps=Sizzle.matchesSelector),ps.selection=function(){return ps.select(gs.documentElement)};var Fs=ps.selection.prototype=[];Fs.select=function(t){var e,n,r,i,o=[];t=P(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(r=this[s]).parentNode;for(var u=-1,c=r.length;++u<c;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,s)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return D(o)},Fs.selectAll=function(t){var e,n,r=[];t=F(t);for(var i=-1,o=this.length;++i<o;)for(var s=this[i],a=-1,u=s.length;++a<u;)(n=s[a])&&(r.push(e=vs(t.call(n,n.__data__,a,i))),e.parentNode=n);return D(r)};var Ns="http://www.w3.org/1999/xhtml",Ls={svg:"http://www.w3.org/2000/svg",xhtml:Ns,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ps.ns={prefix:Ls,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ls.hasOwnProperty(n)?{space:Ls[n],local:t}:t}},Fs.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ps.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},Fs.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=I(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!B(t[i]).test(e))return!1;return!0}for(e in t)this.each(j(e,t[e]));return this}return this.each(j(t,e))},Fs.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.each(z(n,t[n],e));return this}if(2>r){var i=this.node();return s(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(z(t,e,n))},Fs.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(W(e,t[e]));return this}return this.each(W(t,e))},Fs.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Fs.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Fs.append=function(t){return t=Y(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Fs.insert=function(t,e){return t=Y(t),e=P(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Fs.remove=function(){return this.each(X)},Fs.data=function(t,e){function n(t,n){var r,i,o,s=t.length,l=n.length,h=Math.min(s,l),f=new Array(l),p=new Array(l),v=new Array(s);if(e){var g,y=new d,m=new Array(s);for(r=-1;++r<s;)(i=t[r])&&(y.has(g=e.call(i,i.__data__,r))?v[r]=i:y.set(g,i),m[r]=g);for(r=-1;++r<l;)(i=y.get(g=e.call(n,o=n[r],r)))?i!==!0&&(f[r]=i,i.__data__=o):p[r]=G(o),y.set(g,!0);for(r=-1;++r<s;)r in m&&y.get(m[r])!==!0&&(v[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=n[r],i?(i.__data__=o,f[r]=i):p[r]=G(o);for(;l>r;++r)p[r]=G(n[r]);for(;s>r;++r)v[r]=t[r]}p.update=f,p.parentNode=f.parentNode=v.parentNode=t.parentNode,a.push(p),u.push(f),c.push(v)}var r,i,o=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(r=this[0]).length);++o<s;)(i=r[o])&&(t[o]=i.__data__);return t}var a=K([]),u=D([]),c=D([]);if("function"==typeof t)for(;++o<s;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<s;)n(r=this[o],t);return u.enter=function(){return a},u.exit=function(){return c},u},Fs.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Fs.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=q(t));for(var o=0,s=this.length;s>o;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,u=n.length;u>a;a++)(r=n[a])&&t.call(r,r.__data__,a,o)&&e.push(r)}return D(i)},Fs.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Fs.sort=function(t){t=H.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Fs.each=function(t){return V(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Fs.call=function(t){var e=vs(arguments);return t.apply(e[0]=this,e),this},Fs.empty=function(){return!this.node()},Fs.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},Fs.size=function(){var t=0;return V(this,function(){++t}),t};var Bs=[];ps.selection.enter=K,ps.selection.enter.prototype=Bs,Bs.append=Fs.append,Bs.empty=Fs.empty,Bs.node=Fs.node,Bs.call=Fs.call,Bs.size=Fs.size,Bs.select=function(t){for(var e,n,r,i,o,s=[],a=-1,u=this.length;++a<u;){r=(i=this[a]).update,s.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(e.push(r[c]=n=t.call(i.parentNode,o.__data__,c,a)),n.__data__=o.__data__):e.push(null)}return D(s)},Bs.insert=function(t,e){return arguments.length<2&&(e=$(this)),Fs.insert.call(this,t,e)},ps.select=function(t){var e;return"string"==typeof t?(e=[Rs(t,gs)],e.parentNode=gs.documentElement):(e=[t],e.parentNode=o(t)),D([e])},ps.selectAll=function(t){var e;return"string"==typeof t?(e=vs(Ds(t,gs)),e.parentNode=gs.documentElement):(e=vs(t),e.parentNode=null),D([e])},Fs.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(Z(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(Z(t,e,n))};var Is=ps.map({mouseenter:"mouseover",mouseleave:"mouseout"});gs&&Is.forEach(function(t){"on"+t in gs&&Is.remove(t)});var js,Us=0;ps.mouse=function(t){return et(t,O())};var zs=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ps.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=O().changedTouches),e)for(var r,i=0,o=e.length;o>i;++i)if((r=e[i]).identifier===n)return et(t,r)},ps.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(t,e,i,o,s){return function(){function a(){var t,n,r=e(f,v);r&&(t=r[0]-x[0],n=r[1]-x[1],d|=t|n,x=r,p({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:t,dy:n}))}function u(){e(f,v)&&(y.on(o+g,null).on(s+g,null),m(d),p({type:"dragend"}))}var c,l=this,h=ps.event.target.correspondingElement||ps.event.target,f=l.parentNode,p=n.of(l,arguments),d=0,v=t(),g=".drag"+(null==v?"":"-"+v),y=ps.select(i(h)).on(o+g,a).on(s+g,u),m=tt(h),x=e(f,v);r?(c=r.apply(l,arguments),c=[c.x-x[0],c.y-x[1]]):c=[0,0],p({type:"dragstart"})}}var n=R(t,"drag","dragstart","dragend"),r=null,i=e(T,ps.mouse,s,"mousemove","mouseup"),o=e(nt,ps.touch,E,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},ps.rebind(t,n,"on")},ps.touches=function(t,e){return arguments.length<2&&(e=O().touches),e?vs(e).map(function(e){var n=et(t,e);return n.identifier=e.identifier,n}):[]};var Ws=1e-6,Ys=Ws*Ws,Xs=Math.PI,Gs=2*Xs,qs=Gs-Ws,Hs=Xs/2,Vs=Xs/180,Ks=180/Xs,$s=Math.SQRT2,Zs=2,Js=4;ps.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],s=t[2],a=e[0],u=e[1],c=e[2],l=a-i,h=u-o,f=l*l+h*h;if(Ys>f)r=Math.log(c/s)/$s,n=function(t){return[i+t*l,o+t*h,s*Math.exp($s*t*r)]};else{var p=Math.sqrt(f),d=(c*c-s*s+Js*f)/(2*s*Zs*p),v=(c*c-s*s-Js*f)/(2*c*Zs*p),g=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-g)/$s,n=function(t){var e=t*r,n=ut(g),a=s/(Zs*p)*(n*ct($s*e+g)-at(g));return[i+a*l,o+a*h,s*n/ut($s*e+g)]}}return n.duration=1e3*r,n},ps.behavior.zoom=function(){function t(t){t.on(O,h).on(ta+".zoom",p).on("dblclick.zoom",d).on(F,f)}function e(t){return[(t[0]-M.x)/M.k,(t[1]-M.y)/M.k]}function n(t){return[t[0]*M.k+M.x,t[1]*M.k+M.y]}function r(t){M.k=Math.max(T[0],Math.min(T[1],t))}function i(t,e){e=n(e),M.x+=t[0]-e[0],M.y+=t[1]-e[1]}function o(e,n,o,s){e.__chart__={x:M.x,y:M.y,k:M.k},r(Math.pow(2,s)),i(g=n,o),e=ps.select(e),A>0&&(e=e.transition().duration(A)),e.call(t.event)}function a(){b&&b.domain(_.range().map(function(t){return(t-M.x)/M.k}).map(_.invert)),E&&E.domain(w.range().map(function(t){return(t-M.y)/M.k}).map(w.invert))}function u(t){C++||t({type:"zoomstart"})}function c(t){a(),t({type:"zoom",scale:M.k,translate:[M.x,M.y]})}function l(t){--C||(t({type:"zoomend"}),g=null)}function h(){function t(){a=1,i(ps.mouse(r),f),c(o)}function n(){h.on(D,null).on(P,null),p(a),l(o)}var r=this,o=N.of(r,arguments),a=0,h=ps.select(s(r)).on(D,t).on(P,n),f=e(ps.mouse(r)),p=tt(r);Hu.call(r),u(o)}function f(){function t(){var t=ps.touches(d);return p=M.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=e(t))}),t}function n(){var e=ps.event.target;ps.select(e).on(_,s).on(b,a),w.push(e);for(var n=ps.event.changedTouches,r=0,i=n.length;i>r;++r)g[n[r].identifier]=null;var u=t(),c=Date.now();if(1===u.length){if(500>c-x){var l=u[0];o(d,l,g[l.identifier],Math.floor(Math.log(M.k)/Math.LN2)+1),k()}x=c}else if(u.length>1){var l=u[0],h=u[1],f=l[0]-h[0],p=l[1]-h[1];y=f*f+p*p}}function s(){var t,e,n,o,s=ps.touches(d);Hu.call(d);for(var a=0,u=s.length;u>a;++a,o=null)if(n=s[a],o=g[n.identifier]){if(e)break;t=n,e=o}if(o){var l=(l=n[0]-t[0])*l+(l=n[1]-t[1])*l,h=y&&Math.sqrt(l/y);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(h*p)}x=null,i(t,e),c(v)}function a(){if(ps.event.touches.length){for(var e=ps.event.changedTouches,n=0,r=e.length;r>n;++n)delete g[e[n].identifier];for(var i in g)return void t()}ps.selectAll(w).on(m,null),E.on(O,h).on(F,f),S(),l(v)}var p,d=this,v=N.of(d,arguments),g={},y=0,m=".zoom-"+ps.event.changedTouches[0].identifier,_="touchmove"+m,b="touchend"+m,w=[],E=ps.select(d),S=tt(d);n(),u(v),E.on(O,null).on(F,n)}function p(){var t=N.of(this,arguments);m?clearTimeout(m):(Hu.call(this),v=e(g=y||ps.mouse(this)),u(t)),m=setTimeout(function(){m=null,l(t)},50),k(),r(Math.pow(2,.002*Qs())*M.k),i(g,v),c(t)}function d(){var t=ps.mouse(this),n=Math.log(M.k)/Math.LN2;o(this,t,e(t),ps.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var v,g,y,m,x,_,b,w,E,M={x:0,y:0,k:1},S=[960,500],T=ea,A=250,C=0,O="mousedown.zoom",D="mousemove.zoom",P="mouseup.zoom",F="touchstart.zoom",N=R(t,"zoomstart","zoom","zoomend");return ta||(ta="onwheel"in gs?(Qs=function(){return-ps.event.deltaY*(ps.event.deltaMode?120:1)},"wheel"):"onmousewheel"in gs?(Qs=function(){return ps.event.wheelDelta},"mousewheel"):(Qs=function(){return-ps.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=N.of(this,arguments),e=M;Gu?ps.select(this).transition().each("start.zoom",function(){M=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=S[0],r=S[1],i=g?g[0]:n/2,o=g?g[1]:r/2,s=ps.interpolateZoom([(i-M.x)/M.k,(o-M.y)/M.k,n/M.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=s(e),a=n/r[2];this.__chart__=M={x:i-r[0]*a,y:o-r[1]*a,k:a},c(t)}}).each("interrupt.zoom",function(){l(t)}).each("end.zoom",function(){l(t)}):(this.__chart__=M,u(t),c(t),l(t))})},t.translate=function(e){return arguments.length?(M={x:+e[0],y:+e[1],k:M.k},a(),t):[M.x,M.y]},t.scale=function(e){return arguments.length?(M={x:M.x,y:M.y,k:null},r(+e),a(),t):M.k},t.scaleExtent=function(e){return arguments.length?(T=null==e?ea:[+e[0],+e[1]],t):T},t.center=function(e){return arguments.length?(y=e&&[+e[0],+e[1]],t):y},t.size=function(e){return arguments.length?(S=e&&[+e[0],+e[1]],t):S},t.duration=function(e){return arguments.length?(A=+e,t):A},t.x=function(e){return arguments.length?(b=e,_=e.copy(),M={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(E=e,w=e.copy(),M={x:0,y:0,k:1},t):E},ps.rebind(t,N,"on")};var Qs,ta,ea=[0,1/0];ps.color=ht,ht.prototype.toString=function(){return this.rgb()+""},ps.hsl=ft;var na=ft.prototype=new ht;na.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ft(this.h,this.s,this.l/t)},na.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ft(this.h,this.s,t*this.l)},na.rgb=function(){return pt(this.h,this.s,this.l)},ps.hcl=dt;var ra=dt.prototype=new ht;ra.brighter=function(t){return new dt(this.h,this.c,Math.min(100,this.l+ia*(arguments.length?t:1)))},ra.darker=function(t){return new dt(this.h,this.c,Math.max(0,this.l-ia*(arguments.length?t:1)))},ra.rgb=function(){return vt(this.h,this.c,this.l).rgb()},ps.lab=gt;var ia=18,oa=.95047,sa=1,aa=1.08883,ua=gt.prototype=new ht;ua.brighter=function(t){return new gt(Math.min(100,this.l+ia*(arguments.length?t:1)),this.a,this.b)},ua.darker=function(t){return new gt(Math.max(0,this.l-ia*(arguments.length?t:1)),this.a,this.b)},ua.rgb=function(){return yt(this.l,this.a,this.b)},ps.rgb=wt;var ca=wt.prototype=new ht;ca.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new wt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new wt(i,i,i)},ca.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new wt(t*this.r,t*this.g,t*this.b)},ca.hsl=function(){return At(this.r,this.g,this.b)},ca.toString=function(){return"#"+St(this.r)+St(this.g)+St(this.b)};var la=ps.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});la.forEach(function(t,e){la.set(t,Et(e))}),ps.functor=Rt,ps.xhr=Dt(E),ps.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var s=Pt(t,e,null==n?r:i(n),o);return s.row=function(t){return arguments.length?s.response(null==(n=t)?r:i(t)):n},s}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(s).join(t)}function s(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(l>=c)return s;if(i)return i=!1,o;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<c;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}l=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,
10===t.charCodeAt(n+2)&&++l):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c>l;){var r=t.charCodeAt(l++),a=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(l)&&(++l,++a);else if(r!==u)continue;return t.slice(e,l-a)}return t.slice(e)}for(var r,i,o={},s={},a=[],c=t.length,l=0,h=0;(r=n())!==s;){for(var f=[];r!==o&&r!==s;)f.push(r),r=n();e&&null==(f=e(f,h++))||a.push(f)}return a},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new w,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(s).join(t)].concat(e.map(function(e){return i.map(function(t){return s(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},ps.csv=ps.dsv(",","text/csv"),ps.tsv=ps.dsv("	","text/tab-separated-values");var ha,fa,pa,da,va=this[S(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ps.timer=function(){Lt.apply(this,arguments)},ps.timer.flush=function(){It(),jt()},ps.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ga=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(zt);ps.formatPrefix=function(t,e){var n=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=ps.round(t,Ut(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ga[8+n/3]};var ya=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ma=ps.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ps.round(t,Ut(t,e))).toFixed(Math.max(0,Math.min(20,Ut(t*(1+1e-15),e))))}}),xa=ps.time={},_a=Date;Xt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ba.setUTCDate.apply(this._,arguments)},setDay:function(){ba.setUTCDay.apply(this._,arguments)},setFullYear:function(){ba.setUTCFullYear.apply(this._,arguments)},setHours:function(){ba.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ba.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ba.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ba.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ba.setUTCSeconds.apply(this._,arguments)},setTime:function(){ba.setTime.apply(this._,arguments)}};var ba=Date.prototype;xa.year=Gt(function(t){return t=xa.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),xa.years=xa.year.range,xa.years.utc=xa.year.utc.range,xa.day=Gt(function(t){var e=new _a(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),xa.days=xa.day.range,xa.days.utc=xa.day.utc.range,xa.dayOfYear=function(t){var e=xa.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=xa[t]=Gt(function(t){return(t=xa.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=xa.year(t).getDay();return Math.floor((xa.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});xa[t+"s"]=n.range,xa[t+"s"].utc=n.utc.range,xa[t+"OfYear"]=function(t){var n=xa.year(t).getDay();return Math.floor((xa.dayOfYear(t)+(n+e)%7)/7)}}),xa.week=xa.sunday,xa.weeks=xa.sunday.range,xa.weeks.utc=xa.sunday.utc.range,xa.weekOfYear=xa.sundayOfYear;var wa={"-":"",_:" ",0:"0"},Ea=/^\s*\d+/,Ma=/^%/;ps.locale=function(t){return{numberFormat:Wt(t),timeFormat:Ht(t)}};var Sa=ps.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ps.format=Sa.numberFormat,ps.geo={},de.prototype={s:0,t:0,add:function(t){ve(t,this.t,Ta),ve(Ta.s,this.s,this),this.s?this.t+=Ta.t:this.s=Ta.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ta=new de;ps.geo.stream=function(t,e){t&&Aa.hasOwnProperty(t.type)?Aa[t.type](t,e):ge(t,e)};var Aa={Feature:function(t,e){ge(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ge(n[r].geometry,e)}},Ca={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ye(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ye(n[r],e,0)},Polygon:function(t,e){me(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)me(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ge(n[r],e)}};ps.geo.area=function(t){return ka=0,ps.geo.stream(t,Ra),ka};var ka,Oa=new de,Ra={sphere:function(){ka+=4*Xs},point:T,lineStart:T,lineEnd:T,polygonStart:function(){Oa.reset(),Ra.lineStart=xe},polygonEnd:function(){var t=2*Oa;ka+=0>t?4*Xs+t:t,Ra.lineStart=Ra.lineEnd=Ra.point=T}};ps.geo.bounds=function(){function t(t,e){x.push(_=[l=t,f=t]),h>e&&(h=e),e>p&&(p=e)}function e(e,n){var r=_e([e*Vs,n*Vs]);if(y){var i=we(y,r),o=[i[1],-i[0],0],s=we(o,i);Se(s),s=Te(s);var u=e-d,c=u>0?1:-1,v=s[0]*Ks*c,g=Ss(u)>180;if(g^(v>c*d&&c*e>v)){var m=s[1]*Ks;m>p&&(p=m)}else if(v=(v+360)%360-180,g^(v>c*d&&c*e>v)){var m=-s[1]*Ks;h>m&&(h=m)}else h>n&&(h=n),n>p&&(p=n);g?d>e?a(l,e)>a(l,f)&&(f=e):a(e,f)>a(l,f)&&(l=e):f>=l?(l>e&&(l=e),e>f&&(f=e)):e>d?a(l,e)>a(l,f)&&(f=e):a(e,f)>a(l,f)&&(l=e)}else t(e,n);y=r,d=e}function n(){b.point=e}function r(){_[0]=l,_[1]=f,b.point=t,y=null}function i(t,n){if(y){var r=t-d;m+=Ss(r)>180?r+(r>0?360:-360):r}else v=t,g=n;Ra.point(t,n),e(t,n)}function o(){Ra.lineStart()}function s(){i(v,g),Ra.lineEnd(),Ss(m)>Ws&&(l=-(f=180)),_[0]=l,_[1]=f,y=null}function a(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var l,h,f,p,d,v,g,y,m,x,_,b={point:t,lineStart:n,lineEnd:r,polygonStart:function(){b.point=i,b.lineStart=o,b.lineEnd=s,m=0,Ra.polygonStart()},polygonEnd:function(){Ra.polygonEnd(),b.point=t,b.lineStart=n,b.lineEnd=r,0>Oa?(l=-(f=180),h=-(p=90)):m>Ws?p=90:-Ws>m&&(h=-90),_[0]=l,_[1]=f}};return function(t){p=f=-(l=h=1/0),x=[],ps.geo.stream(t,b);var e=x.length;if(e){x.sort(u);for(var n,r=1,i=x[0],o=[i];e>r;++r)n=x[r],c(n[0],i)||c(n[1],i)?(a(i[0],n[1])>a(i[0],i[1])&&(i[1]=n[1]),a(n[0],i[1])>a(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var s,n,d=-(1/0),e=o.length-1,r=0,i=o[e];e>=r;i=n,++r)n=o[r],(s=a(i[1],n[0]))>d&&(d=s,l=n[0],f=i[1])}return x=_=null,l===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[l,h],[f,p]]}}(),ps.geo.centroid=function(t){Da=Pa=Fa=Na=La=Ba=Ia=ja=Ua=za=Wa=0,ps.geo.stream(t,Ya);var e=Ua,n=za,r=Wa,i=e*e+n*n+r*r;return Ys>i&&(e=Ba,n=Ia,r=ja,Ws>Pa&&(e=Fa,n=Na,r=La),i=e*e+n*n+r*r,Ys>i)?[NaN,NaN]:[Math.atan2(n,e)*Ks,st(r/Math.sqrt(i))*Ks]};var Da,Pa,Fa,Na,La,Ba,Ia,ja,Ua,za,Wa,Ya={sphere:T,point:Ce,lineStart:Oe,lineEnd:Re,polygonStart:function(){Ya.lineStart=De},polygonEnd:function(){Ya.lineStart=Oe}},Xa=Ie(Fe,We,Xe,[-Xs,-Xs/2]),Ga=1e9;ps.geo.clipExtent=function(){var t,e,n,r,i,o,s={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(a){return arguments.length?(o=Ve(t=+a[0][0],e=+a[0][1],n=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),s):[[t,e],[n,r]]}};return s.extent([[0,0],[960,500]])},(ps.geo.conicEqualArea=function(){return Ke($e)}).raw=$e,ps.geo.albers=function(){return ps.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ps.geo.albersUsa=function(){function t(t){var o=t[0],s=t[1];return e=null,n(o,s),e||(r(o,s),e)||i(o,s),e}var e,n,r,i,o=ps.geo.albers(),s=ps.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ps.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?s:i>=.166&&.234>i&&r>=-.214&&-.115>r?a:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=s.stream(t),r=a.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),s.precision(e),a.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),s.scale(.35*e),a.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var c=o.scale(),l=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[l-.455*c,h-.238*c],[l+.455*c,h+.238*c]]).stream(u).point,r=s.translate([l-.307*c,h+.201*c]).clipExtent([[l-.425*c+Ws,h+.12*c+Ws],[l-.214*c-Ws,h+.234*c-Ws]]).stream(u).point,i=a.translate([l-.205*c,h+.212*c]).clipExtent([[l-.214*c+Ws,h+.166*c+Ws],[l-.115*c-Ws,h+.234*c-Ws]]).stream(u).point,t},t.scale(1070)};var qa,Ha,Va,Ka,$a,Za,Ja={point:T,lineStart:T,lineEnd:T,polygonStart:function(){Ha=0,Ja.lineStart=Ze},polygonEnd:function(){Ja.lineStart=Ja.lineEnd=Ja.point=T,qa+=Ss(Ha/2)}},Qa={point:Je,lineStart:T,lineEnd:T,polygonStart:T,polygonEnd:T},tu={point:en,lineStart:nn,lineEnd:rn,polygonStart:function(){tu.lineStart=on},polygonEnd:function(){tu.point=en,tu.lineStart=nn,tu.lineEnd=rn}};ps.geo.path=function(){function t(t){return t&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),s&&s.valid||(s=i(o)),ps.geo.stream(t,s)),o.result()}function e(){return s=null,t}var n,r,i,o,s,a=4.5;return t.area=function(t){return qa=0,ps.geo.stream(t,i(Ja)),qa},t.centroid=function(t){return Fa=Na=La=Ba=Ia=ja=Ua=za=Wa=0,ps.geo.stream(t,i(tu)),Wa?[Ua/Wa,za/Wa]:ja?[Ba/ja,Ia/ja]:La?[Fa/La,Na/La]:[NaN,NaN]},t.bounds=function(t){return $a=Za=-(Va=Ka=1/0),ps.geo.stream(t,i(Qa)),[[Va,Ka],[$a,Za]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||un(t):E,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Qe:new sn(t),"function"!=typeof a&&o.pointRadius(a),e()):r},t.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(o.pointRadius(+e),+e),t):a},t.projection(ps.geo.albersUsa()).context(null)},ps.geo.transform=function(t){return{stream:function(e){var n=new cn(e);for(var r in t)n[r]=t[r];return n}}},cn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ps.geo.projection=hn,ps.geo.projectionMutator=fn,(ps.geo.equirectangular=function(){return hn(dn)}).raw=dn.invert=dn,ps.geo.rotation=function(t){function e(e){return e=t(e[0]*Vs,e[1]*Vs),e[0]*=Ks,e[1]*=Ks,e}return t=gn(t[0]%360*Vs,t[1]*Vs,t.length>2?t[2]*Vs:0),e.invert=function(e){return e=t.invert(e[0]*Vs,e[1]*Vs),e[0]*=Ks,e[1]*=Ks,e},e},vn.invert=dn,ps.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=gn(-t[0]*Vs,-t[1]*Vs,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Ks,t[1]*=Ks}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=_n((e=+r)*Vs,i*Vs),t):e},t.precision=function(r){return arguments.length?(n=_n(e*Vs,(i=+r)*Vs),t):i},t.angle(90)},ps.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Vs,i=t[1]*Vs,o=e[1]*Vs,s=Math.sin(r),a=Math.cos(r),u=Math.sin(i),c=Math.cos(i),l=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*s)*n+(n=c*l-u*h*a)*n),u*l+c*h*a)},ps.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ps.range(Math.ceil(o/g)*g,i,g).map(f).concat(ps.range(Math.ceil(c/y)*y,u,y).map(p)).concat(ps.range(Math.ceil(r/d)*d,n,d).filter(function(t){return Ss(t%g)>Ws}).map(l)).concat(ps.range(Math.ceil(a/v)*v,s,v).filter(function(t){return Ss(t%y)>Ws}).map(h))}var n,r,i,o,s,a,u,c,l,h,f,p,d=10,v=d,g=90,y=360,m=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(p(u).slice(1),f(i).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],c=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),c>u&&(e=c,c=u,u=e),t.precision(m)):[[o,c],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],r>n&&(e=r,r=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(m)):[[r,a],[n,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],y=+e[1],t):[g,y]},t.minorStep=function(e){return arguments.length?(d=+e[0],v=+e[1],t):[d,v]},t.precision=function(e){return arguments.length?(m=+e,l=wn(a,s,90),h=En(r,n,m),f=wn(c,u,90),p=En(o,i,m),t):m},t.majorExtent([[-180,-90+Ws],[180,90-Ws]]).minorExtent([[-180,-80-Ws],[180,80+Ws]])},ps.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=Mn,i=Sn;return t.distance=function(){return ps.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},ps.geo.interpolate=function(t,e){return Tn(t[0]*Vs,t[1]*Vs,e[0]*Vs,e[1]*Vs)},ps.geo.length=function(t){return eu=0,ps.geo.stream(t,nu),eu};var eu,nu={sphere:T,point:T,lineStart:An,lineEnd:T,polygonStart:T,polygonEnd:T},ru=Cn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ps.geo.azimuthalEqualArea=function(){return hn(ru)}).raw=ru;var iu=Cn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},E);(ps.geo.azimuthalEquidistant=function(){return hn(iu)}).raw=iu,(ps.geo.conicConformal=function(){return Ke(kn)}).raw=kn,(ps.geo.conicEquidistant=function(){return Ke(On)}).raw=On;var ou=Cn(function(t){return 1/t},Math.atan);(ps.geo.gnomonic=function(){return hn(ou)}).raw=ou,Rn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Hs]},(ps.geo.mercator=function(){return Dn(Rn)}).raw=Rn;var su=Cn(function(){return 1},Math.asin);(ps.geo.orthographic=function(){return hn(su)}).raw=su;var au=Cn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ps.geo.stereographic=function(){return hn(au)}).raw=au,Pn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Hs]},(ps.geo.transverseMercator=function(){var t=Dn(Pn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Pn,ps.geom={},ps.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Rt(n),o=Rt(r),s=t.length,a=[],u=[];for(e=0;s>e;e++)a.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(a.sort(Bn),e=0;s>e;e++)u.push([a[e][0],-a[e][1]]);var c=Ln(a),l=Ln(u),h=l[0]===c[0],f=l[l.length-1]===c[c.length-1],p=[];for(e=c.length-1;e>=0;--e)p.push(t[a[c[e]][2]]);for(e=+h;e<l.length-f;++e)p.push(t[a[l[e]][2]]);return p}var n=Fn,r=Nn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},ps.geom.polygon=function(t){return Os(t,uu),t};var uu=ps.geom.polygon.prototype=[];uu.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},uu.centroid=function(t){var e,n,r=-1,i=this.length,o=0,s=0,a=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=a,a=this[r],n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o*t,s*t]},uu.clip=function(t){for(var e,n,r,i,o,s,a=Un(t),u=-1,c=this.length-Un(this),l=this[c-1];++u<c;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-a)-1],n=-1;++n<r;)s=e[n],In(s,l,i)?(In(o,l,i)||t.push(jn(o,s,l,i)),t.push(s)):In(o,l,i)&&t.push(jn(o,s,l,i)),o=s;a&&t.push(t[0]),l=i}return t};var cu,lu,hu,fu,pu,du=[],vu=[];Vn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort($n),e.length},sr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ar.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=hr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(cr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,lr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(lr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,cr(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?hr(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,cr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,lr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,cr(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,lr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,cr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,lr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},ps.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=a[0][0],i=a[0][1],o=a[1][0],s=a[1][1];return fr(n(t),a).cells.forEach(function(n,a){var u=n.edges,c=n.site,l=e[a]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=r&&c.x<=o&&c.y>=i&&c.y<=s?[[r,s],[o,s],[o,i],[r,i]]:[];l.point=t[a]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ws)*Ws,y:Math.round(s(t,e)/Ws)*Ws,i:e}})}var r=Fn,i=Nn,o=r,s=i,a=gu;return t?e(t):(e.links=function(t){return fr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return fr(n(t)).cells.forEach(function(n,r){for(var i,o,s=n.site,a=n.edges.sort($n),u=-1,c=a.length,l=a[c-1].edge,h=l.l===s?l.r:l.l;++u<c;)i=l,o=h,l=a[u].edge,h=l.l===s?l.r:l.l,r<o.i&&r<h.i&&dr(s,o,h)<0&&e.push([t[r],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=Rt(r=t),e):r},e.y=function(t){return arguments.length?(s=Rt(i=t),e):i},e.clipExtent=function(t){return arguments.length?(a=null==t?gu:t,e):a===gu?null:a},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):a===gu?null:a&&a[1]},e)};var gu=[[-1e6,-1e6],[1e6,1e6]];ps.geom.delaunay=function(t){return ps.geom.voronoi().triangles(t)},ps.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,s,a){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(Ss(u-n)+Ss(l-r)<.01)c(t,e,n,r,i,o,s,a);else{var h=t.point;t.x=t.y=t.point=null,c(t,h,u,l,i,o,s,a),c(t,e,n,r,i,o,s,a)}else t.x=n,t.y=r,t.point=e}else c(t,e,n,r,i,o,s,a)}function c(t,e,n,r,i,s,a,u){var c=.5*(i+a),l=.5*(s+u),h=n>=c,f=r>=l,p=f<<1|h;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=yr()),h?i=c:a=c,f?s=l:u=l,o(t,e,n,r,i,s,a,u)}var l,h,f,p,d,v,g,y,m,x=Rt(a),_=Rt(u);if(null!=e)v=e,g=n,y=r,m=i;else if(y=m=-(v=g=1/0),h=[],f=[],d=t.length,s)for(p=0;d>p;++p)l=t[p],l.x<v&&(v=l.x),l.y<g&&(g=l.y),l.x>y&&(y=l.x),l.y>m&&(m=l.y),h.push(l.x),f.push(l.y);else for(p=0;d>p;++p){var b=+x(l=t[p],p),w=+_(l,p);v>b&&(v=b),g>w&&(g=w),b>y&&(y=b),w>m&&(m=w),h.push(b),f.push(w)}var E=y-v,M=m-g;E>M?m=g+E:y=v+M;var S=yr();if(S.add=function(t){o(S,t,+x(t,++p),+_(t,p),v,g,y,m)},S.visit=function(t){mr(t,S,v,g,y,m)},S.find=function(t){return xr(S,t[0],t[1],v,g,y,m)},p=-1,null==e){for(;++p<d;)o(S,t[p],h[p],f[p],v,g,y,m);--p}else t.forEach(S.add);return h=f=t=l=null,S}var s,a=Fn,u=Nn;return(s=arguments.length)?(a=vr,u=gr,3===s&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},ps.interpolateRgb=_r,ps.interpolateObject=br,ps.interpolateNumber=wr,ps.interpolateString=Er;var yu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mu=new RegExp(yu.source,"g");ps.interpolate=Mr,ps.interpolators=[function(t,e){var n=typeof e;return("string"===n?la.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?_r:Er:e instanceof ht?_r:Array.isArray(e)?Sr:"object"===n&&isNaN(e)?br:wr)(t,e)}],ps.interpolateArray=Sr;var xu=function(){return E},_u=ps.map({linear:xu,poly:Dr,quad:function(){return kr},cubic:function(){return Or},sin:function(){return Pr},exp:function(){return Fr},circle:function(){return Nr},elastic:Lr,back:Br,bounce:function(){return Ir}}),bu=ps.map({"in":E,out:Ar,"in-out":Cr,"out-in":function(t){return Cr(Ar(t))}});ps.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=_u.get(n)||xu,r=bu.get(r)||E,Tr(r(n.apply(null,ds.call(arguments,1))))},ps.interpolateHcl=jr,ps.interpolateHsl=Ur,ps.interpolateLab=zr,ps.interpolateRound=Wr,ps.transform=function(t){var e=gs.createElementNS(ps.ns.prefix.svg,"g");return(ps.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Yr(n?n.matrix:wu)})(t)},Yr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var wu={a:1,b:0,c:0,d:1,e:0,f:0};ps.interpolateTransform=Jr,ps.layout={},ps.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(ei(t[n]));return e}},ps.layout.chord=function(){function t(){var t,c,h,f,p,d={},v=[],g=ps.range(o),y=[];for(n=[],r=[],t=0,f=-1;++f<o;){for(c=0,p=-1;++p<o;)c+=i[f][p];v.push(c),y.push(ps.range(o)),t+=c}for(s&&g.sort(function(t,e){return s(v[t],v[e])}),a&&y.forEach(function(t,e){t.sort(function(t,n){return a(i[e][t],i[e][n])})}),t=(Gs-l*o)/t,c=0,f=-1;++f<o;){for(h=c,p=-1;++p<o;){var m=g[f],x=y[m][p],_=i[m][x],b=c,w=c+=_*t;d[m+"-"+x]={index:m,subindex:x,startAngle:b,endAngle:w,value:_}}r[m]={index:m,startAngle:h,endAngle:c,value:v[m]},c+=l}for(f=-1;++f<o;)for(p=f-1;++p<o;){var E=d[f+"-"+p],M=d[p+"-"+f];(E.value||M.value)&&n.push(E.value<M.value?{source:M,target:E}:{source:E,target:M})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,s,a,u,c={},l=0;return c.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,c):i},c.padding=function(t){return arguments.length?(l=t,n=r=null,c):l},c.sortGroups=function(t){return arguments.length?(s=t,n=r=null,c):s},c.sortSubgroups=function(t){return arguments.length?(a=t,n=null,c):a},c.sortChords=function(t){return arguments.length?(u=t,n&&e(),c):u},c.chords=function(){return n||t(),n},c.groups=function(){return r||t(),r},c},ps.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=i-n,u=o*o+s*s;if(u>a*a/y){if(v>u){var c=e.charge/u;t.px-=o*c,t.py-=s*c}return!0}if(e.point&&u&&v>u){var c=e.pointCharge/u;t.px-=o*c,t.py-=s*c}}return!e.charge}}function e(t){t.px=ps.event.x,t.py=ps.event.y,u.resume()}var n,r,i,o,s,a,u={},c=ps.dispatch("start","tick","end"),l=[1,1],h=.9,f=Eu,p=Mu,d=-30,v=Su,g=.1,y=.64,m=[],x=[];return u.tick=function(){if((i*=.99)<.005)return n=null,c.end({type:"end",alpha:i=0}),!0;var e,r,u,f,p,v,y,_,b,w=m.length,E=x.length;for(r=0;E>r;++r)u=x[r],f=u.source,p=u.target,_=p.x-f.x,b=p.y-f.y,(v=_*_+b*b)&&(v=i*s[r]*((v=Math.sqrt(v))-o[r])/v,_*=v,b*=v,p.x-=_*(y=f.weight+p.weight?f.weight/(f.weight+p.weight):.5),p.y-=b*y,f.x+=_*(y=1-y),f.y+=b*y);if((y=i*g)&&(_=l[0]/2,b=l[1]/2,r=-1,y))for(;++r<w;)u=m[r],u.x+=(_-u.x)*y,u.y+=(b-u.y)*y;if(d)for(ui(e=ps.geom.quadtree(m),i,a),r=-1;++r<w;)(u=m[r]).fixed||e.visit(t(u));for(r=-1;++r<w;)u=m[r],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*h,u.y-=(u.py-(u.py=u.y))*h);c.tick({type:"tick",alpha:i})},u.nodes=function(t){return arguments.length?(m=t,u):m},u.links=function(t){return arguments.length?(x=t,u):x},u.size=function(t){return arguments.length?(l=t,u):l},u.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,u):f},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,u):p},u.friction=function(t){return arguments.length?(h=+t,u):h},u.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,u):d},u.chargeDistance=function(t){return arguments.length?(v=t*t,u):Math.sqrt(v)},u.gravity=function(t){return arguments.length?(g=+t,u):g},u.theta=function(t){return arguments.length?(y=t*t,u):Math.sqrt(y)},u.alpha=function(t){return arguments.length?(t=+t,i?t>0?i=t:(n.c=null,n.t=NaN,n=null,c.end({type:"end",alpha:i=0})):t>0&&(c.start({type:"start",alpha:i=t}),n=Lt(u.tick)),u):i},u.start=function(){function t(t,r){if(!n){for(n=new Array(i),u=0;i>u;++u)n[u]=[];for(u=0;c>u;++u){var o=x[u];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var s,a=n[e],u=-1,l=a.length;++u<l;)if(!isNaN(s=a[u][t]))return s;return Math.random()*r}var e,n,r,i=m.length,c=x.length,h=l[0],v=l[1];for(e=0;i>e;++e)(r=m[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=x[e],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(e=0;i>e;++e)r=m[e],isNaN(r.x)&&(r.x=t("x",h)),isNaN(r.y)&&(r.y=t("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof f)for(e=0;c>e;++e)o[e]=+f.call(this,x[e],e);else for(e=0;c>e;++e)o[e]=f;if(s=[],"function"==typeof p)for(e=0;c>e;++e)s[e]=+p.call(this,x[e],e);else for(e=0;c>e;++e)s[e]=p;if(a=[],"function"==typeof d)for(e=0;i>e;++e)a[e]=+d.call(this,m[e],e);else for(e=0;i>e;++e)a[e]=d;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return r||(r=ps.behavior.drag().origin(E).on("dragstart.force",ii).on("drag.force",e).on("dragend.force",oi)),arguments.length?void this.on("mouseover.force",si).on("mouseout.force",ai).call(r):r},ps.rebind(u,c,"on")};var Eu=20,Mu=1,Su=1/0;ps.layout.hierarchy=function(){function t(i){var o,s=[i],a=[];for(i.depth=0;null!=(o=s.pop());)if(a.push(o),(c=n.call(t,o,o.depth))&&(u=c.length)){for(var u,c,l;--u>=0;)s.push(l=c[u]),l.parent=o,l.depth=o.depth+1;r&&(o.value=0),o.children=c}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return hi(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),a}var e=di,n=fi,r=pi;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(li(e,function(t){t.children&&(t.value=0)}),hi(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ps.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(s=o.length)){var s,a,u,c=-1;for(r=e.value?r/e.value:0;++c<s;)t(a=o[c],n,u=a.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var s=r.call(this,n,o);return t(s[0],0,i[0],i[1]/e(s[0])),s}var r=ps.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},ci(n,r)},ps.layout.pie=function(){function t(s){var a,u=s.length,c=s.map(function(n,r){return+e.call(t,n,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof i?i.apply(this,arguments):i)-l,f=Math.min(Math.abs(h)/u,+("function"==typeof o?o.apply(this,arguments):o)),p=f*(0>h?-1:1),d=ps.sum(c),v=d?(h-u*p)/d:0,g=ps.range(u),y=[];return null!=n&&g.sort(n===Tu?function(t,e){return c[e]-c[t]}:function(t,e){return n(s[t],s[e])}),g.forEach(function(t){y[t]={data:s[t],value:a=c[t],startAngle:l,endAngle:l+=a*v+p,padAngle:f}}),y}var e=Number,n=Tu,r=0,i=Gs,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var Tu={};ps.layout.stack=function(){function t(a,u){if(!(f=a.length))return a;var c=a.map(function(n,r){return e.call(t,n,r)}),l=c.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),s.call(t,e,n)]})}),h=n.call(t,l,u);c=ps.permute(c,h),l=ps.permute(l,h);var f,p,d,v,g=r.call(t,l,u),y=c[0].length;for(d=0;y>d;++d)for(i.call(t,c[0][d],v=g[d],l[0][d][1]),p=1;f>p;++p)i.call(t,c[p][d],v+=l[p-1][d][1],l[p][d][1]);return a}var e=E,n=xi,r=_i,i=mi,o=gi,s=yi;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:Au.get(e)||xi,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:Cu.get(e)||_i,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(i=e,t):i},t};var Au=ps.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(bi),o=t.map(wi),s=ps.range(r).sort(function(t,e){return i[t]-i[e]}),a=0,u=0,c=[],l=[];for(e=0;r>e;++e)n=s[e],u>a?(a+=o[n],c.push(n)):(u+=o[n],l.push(n));return l.reverse().concat(c)},reverse:function(t){return ps.range(t.length).reverse()},"default":xi}),Cu=ps.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,s=[],a=0,u=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>a&&(a=r),s.push(r)}for(n=0;o>n;++n)u[n]=(a-s[n])/2;return u},wiggle:function(t){var e,n,r,i,o,s,a,u,c,l=t.length,h=t[0],f=h.length,p=[];for(p[0]=u=c=0,n=1;f>n;++n){for(e=0,i=0;l>e;++e)i+=t[e][n][1];for(e=0,o=0,a=h[n][0]-h[n-1][0];l>e;++e){for(r=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);e>r;++r)s+=(t[r][n][1]-t[r][n-1][1])/a;o+=s*t[e][n][1]}p[n]=u-=i?o/i*a:0,c>u&&(c=u)}for(n=0;f>n;++n)p[n]-=c;return p},expand:function(t){var e,n,r,i=t.length,o=t[0].length,s=1/i,a=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=s;
}for(n=0;o>n;++n)a[n]=0;return a},zero:_i});ps.layout.histogram=function(){function t(t,o){for(var s,a,u=[],c=t.map(n,this),l=r.call(this,c,o),h=i.call(this,l,c,o),o=-1,f=c.length,p=h.length-1,d=e?1:1/f;++o<p;)s=u[o]=[],s.dx=h[o+1]-(s.x=h[o]),s.y=0;if(p>0)for(o=-1;++o<f;)a=c[o],a>=l[0]&&a<=l[1]&&(s=u[ps.bisect(h,a,1,p)-1],s.y+=d,s.push(t[o]));return u}var e=!0,n=Number,r=Ti,i=Mi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Rt(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return Si(t,e)}:Rt(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ps.layout.pack=function(){function t(t,o){var s=n.call(this,t,o),a=s[0],u=i[0],c=i[1],l=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(a.x=a.y=0,hi(a,function(t){t.r=+l(t.value)}),hi(a,Ri),r){var h=r*(e?1:Math.max(2*a.r/u,2*a.r/c))/2;hi(a,function(t){t.r+=h}),hi(a,Ri),hi(a,function(t){t.r-=h})}return Fi(a,u/2,c/2,e?1:1/Math.max(2*a.r/u,2*a.r/c)),s}var e,n=ps.layout.hierarchy().sort(Ai),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},ci(t,n)},ps.layout.tree=function(){function t(t,i){var l=s.call(this,t,i),h=l[0],f=e(h);if(hi(f,n),f.parent.m=-f.z,li(f,r),c)li(h,o);else{var p=h,d=h,v=h;li(h,function(t){t.x<p.x&&(p=t),t.x>d.x&&(d=t),t.depth>v.depth&&(v=t)});var g=a(p,d)/2-p.x,y=u[0]/(d.x+a(d,p)/2+g),m=u[1]/(v.depth||1);li(h,function(t){t.x=(t.x+g)*y,t.y=t.depth*m})}return l}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,s=0,a=o.length;a>s;++s)r.push((o[s]=i={_:o[s],parent:e,children:(i=o[s].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Ui(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+a(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+a(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,s=e,u=i.parent.children[0],c=i.m,l=o.m,h=s.m,f=u.m;s=Ii(s),i=Bi(i),s&&i;)u=Bi(u),o=Ii(o),o.a=t,r=s.z+h-i.z-c+a(s._,i._),r>0&&(ji(zi(s,t,n),t,r),c+=r,l+=r),h+=s.m,c+=i.m,f+=u.m,l+=o.m;s&&!Ii(o)&&(o.t=s,o.m+=h-l),i&&!Bi(u)&&(u.t=i,u.m+=c-f,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var s=ps.layout.hierarchy().sort(null).value(null),a=Li,u=[1,1],c=null;return t.separation=function(e){return arguments.length?(a=e,t):a},t.size=function(e){return arguments.length?(c=null==(u=e)?o:null,t):c?null:u},t.nodeSize=function(e){return arguments.length?(c=null==(u=e)?null:o,t):c?u:null},ci(t,s)},ps.layout.cluster=function(){function t(t,o){var s,a=e.call(this,t,o),u=a[0],c=0;hi(u,function(t){var e=t.children;e&&e.length?(t.x=Yi(e),t.y=Wi(e)):(t.x=s?c+=n(t,s):0,t.y=0,s=t)});var l=Xi(u),h=Gi(u),f=l.x-n(l,h)/2,p=h.x+n(h,l)/2;return hi(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(p-f)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),a}var e=ps.layout.hierarchy().sort(null).value(null),n=Li,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},ci(t,e)},ps.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var s,a,u,c=h(n),l=[],f=o.slice(),d=1/0,v="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(f,c.dx*c.dy/n.value),l.area=0;(u=f.length)>0;)l.push(s=f[u-1]),l.area+=s.area,"squarify"!==p||(a=r(l,v))<=d?(f.pop(),d=a):(l.area-=l.pop().area,i(l,v,c,!1),v=Math.min(c.dx,c.dy),l.length=l.area=0,d=1/0);l.length&&(i(l,v,c,!0),l.length=l.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,s=h(e),a=r.slice(),u=[];for(t(a,s.dx*s.dy/e.value),u.area=0;o=a.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?s.dx:s.dy,s,!a.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*d/r,r/(e*o*d)):1/0}function i(t,e,n,r){var i,o=-1,s=t.length,a=n.x,c=n.y,l=e?u(t.area/e):0;if(e==n.dx){for((r||l>n.dy)&&(l=n.dy);++o<s;)i=t[o],i.x=a,i.y=c,i.dy=l,a+=i.dx=Math.min(n.x+n.dx-a,l?u(i.area/l):0);i.z=!0,i.dx+=n.x+n.dx-a,n.y+=l,n.dy-=l}else{for((r||l>n.dx)&&(l=n.dx);++o<s;)i=t[o],i.x=a,i.y=c,i.dx=l,c+=i.dy=Math.min(n.y+n.dy-c,l?u(i.area/l):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=l,n.dx-=l}}function o(r){var i=s||a(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=c[0],o.dy=c[1]):o.dx=o.dy=0,s&&a.revalue(o),t([o],o.dx*o.dy/o.value),(s?n:e)(o),f&&(s=i),i}var s,a=ps.layout.hierarchy(),u=Math.round,c=[1,1],l=null,h=qi,f=!1,p="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(c=t,o):c},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?qi(e):Hi(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Hi(e,t)}if(!arguments.length)return l;var r;return h=null==(l=t)?qi:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(f=t,s=null,o):f},o.ratio=function(t){return arguments.length?(d=t,o):d},o.mode=function(t){return arguments.length?(p=t+"",o):p},ci(o,a)},ps.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=ps.random.normal.apply(ps,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ps.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},ps.scale={};var ku={floor:E,ceil:E};ps.scale.linear=function(){return to([0,1],[0,1],Mr,!1)};var Ou={s:1,g:1,p:1,r:1,e:1};ps.scale.log=function(){return uo(ps.scale.linear().domain([0,1]),10,!0,[1,10])};var Ru=ps.format(".0e"),Du={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ps.scale.pow=function(){return co(ps.scale.linear(),1,[0,1])},ps.scale.sqrt=function(){return ps.scale.pow().exponent(.5)},ps.scale.ordinal=function(){return ho([],{t:"range",a:[[]]})},ps.scale.category10=function(){return ps.scale.ordinal().range(Pu)},ps.scale.category20=function(){return ps.scale.ordinal().range(Fu)},ps.scale.category20b=function(){return ps.scale.ordinal().range(Nu)},ps.scale.category20c=function(){return ps.scale.ordinal().range(Lu)};var Pu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mt),Fu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mt),Nu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mt),Lu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mt);ps.scale.quantile=function(){return fo([],[])},ps.scale.quantize=function(){return po(0,1,[0,1])},ps.scale.threshold=function(){return vo([.5],[0,1])},ps.scale.identity=function(){return go([0,1])},ps.svg={},ps.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),l=s.apply(this,arguments)-Hs,h=a.apply(this,arguments)-Hs,f=Math.abs(h-l),p=l>h?0:1;if(t>c&&(d=c,c=t,t=d),f>=qs)return e(c,p)+(t?e(t,1-p):"")+"Z";var d,v,g,y,m,x,_,b,w,E,M,S,T=0,A=0,C=[];if((y=(+u.apply(this,arguments)||0)/2)&&(g=o===Bu?Math.sqrt(t*t+c*c):+o.apply(this,arguments),p||(A*=-1),c&&(A=st(g/c*Math.sin(y))),t&&(T=st(g/t*Math.sin(y)))),c){m=c*Math.cos(l+A),x=c*Math.sin(l+A),_=c*Math.cos(h-A),b=c*Math.sin(h-A);var k=Math.abs(h-l-2*A)<=Xs?0:1;if(A&&Eo(m,x,_,b)===p^k){var O=(l+h)/2;m=c*Math.cos(O),x=c*Math.sin(O),_=b=null}}else m=x=0;if(t){w=t*Math.cos(h-T),E=t*Math.sin(h-T),M=t*Math.cos(l+T),S=t*Math.sin(l+T);var R=Math.abs(l-h+2*T)<=Xs?0:1;if(T&&Eo(w,E,M,S)===1-p^R){var D=(l+h)/2;w=t*Math.cos(D),E=t*Math.sin(D),M=S=null}}else w=E=0;if(f>Ws&&(d=Math.min(Math.abs(c-t)/2,+i.apply(this,arguments)))>.001){v=c>t^p?0:1;var P=d,F=d;if(Xs>f){var N=null==M?[w,E]:null==_?[m,x]:jn([m,x],[M,S],[_,b],[w,E]),L=m-N[0],B=x-N[1],I=_-N[0],j=b-N[1],U=1/Math.sin(Math.acos((L*I+B*j)/(Math.sqrt(L*L+B*B)*Math.sqrt(I*I+j*j)))/2),z=Math.sqrt(N[0]*N[0]+N[1]*N[1]);F=Math.min(d,(t-z)/(U-1)),P=Math.min(d,(c-z)/(U+1))}if(null!=_){var W=Mo(null==M?[w,E]:[M,S],[m,x],c,P,p),Y=Mo([_,b],[w,E],c,P,p);d===P?C.push("M",W[0],"A",P,",",P," 0 0,",v," ",W[1],"A",c,",",c," 0 ",1-p^Eo(W[1][0],W[1][1],Y[1][0],Y[1][1]),",",p," ",Y[1],"A",P,",",P," 0 0,",v," ",Y[0]):C.push("M",W[0],"A",P,",",P," 0 1,",v," ",Y[0])}else C.push("M",m,",",x);if(null!=M){var X=Mo([m,x],[M,S],t,-F,p),G=Mo([w,E],null==_?[m,x]:[_,b],t,-F,p);d===F?C.push("L",G[0],"A",F,",",F," 0 0,",v," ",G[1],"A",t,",",t," 0 ",p^Eo(G[1][0],G[1][1],X[1][0],X[1][1]),",",1-p," ",X[1],"A",F,",",F," 0 0,",v," ",X[0]):C.push("L",G[0],"A",F,",",F," 0 0,",v," ",X[0])}else C.push("L",w,",",E)}else C.push("M",m,",",x),null!=_&&C.push("A",c,",",c," 0 ",k,",",p," ",_,",",b),C.push("L",w,",",E),null!=M&&C.push("A",t,",",t," 0 ",R,",",1-p," ",M,",",S);return C.push("Z"),C.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=mo,r=xo,i=yo,o=Bu,s=_o,a=bo,u=wo;return t.innerRadius=function(e){return arguments.length?(n=Rt(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Rt(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=Rt(e),t):i},t.padRadius=function(e){return arguments.length?(o=e==Bu?Bu:Rt(e),t):o},t.startAngle=function(e){return arguments.length?(s=Rt(e),t):s},t.endAngle=function(e){return arguments.length?(a=Rt(e),t):a},t.padAngle=function(e){return arguments.length?(u=Rt(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-Hs;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Bu="auto";ps.svg.line=function(){return So(E)};var Iu=ps.map({linear:To,"linear-closed":Ao,step:Co,"step-before":ko,"step-after":Oo,basis:Lo,"basis-open":Bo,"basis-closed":Io,bundle:jo,cardinal:Po,"cardinal-open":Ro,"cardinal-closed":Do,monotone:Go});Iu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var ju=[0,2/3,1/3,0],Uu=[0,1/3,2/3,0],zu=[0,1/6,2/3,1/6];ps.svg.line.radial=function(){var t=So(qo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ko.reverse=Oo,Oo.reverse=ko,ps.svg.area=function(){return Ho(E)},ps.svg.area.radial=function(){var t=Ho(qo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ps.svg.chord=function(){function t(t,a){var u=e(this,o,t,a),c=e(this,s,t,a);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,c)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=a.call(t,i,r),s=u.call(t,i,r)-Hs,l=c.call(t,i,r)-Hs;return{r:o,a0:s,a1:l,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(l),o*Math.sin(l)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Xs)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=Mn,s=Sn,a=Vo,u=_o,c=bo;return t.radius=function(e){return arguments.length?(a=Rt(e),t):a},t.source=function(e){return arguments.length?(o=Rt(e),t):o},t.target=function(e){return arguments.length?(s=Rt(e),t):s},t.startAngle=function(e){return arguments.length?(u=Rt(e),t):u},t.endAngle=function(e){return arguments.length?(c=Rt(e),t):c},t},ps.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),s=n.call(this,t,i),a=(o.y+s.y)/2,u=[o,{x:o.x,y:a},{x:s.x,y:a},s];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=Mn,n=Sn,r=Ko;return t.source=function(n){return arguments.length?(e=Rt(n),t):e},t.target=function(e){return arguments.length?(n=Rt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},ps.svg.diagonal.radial=function(){var t=ps.svg.diagonal(),e=Ko,n=t.projection;return t.projection=function(t){return arguments.length?n($o(e=t)):e},t},ps.svg.symbol=function(){function t(t,r){return(Wu.get(e.call(this,t,r))||Qo)(n.call(this,t,r))}var e=Jo,n=Zo;return t.type=function(n){return arguments.length?(e=Rt(n),t):e},t.size=function(e){return arguments.length?(n=Rt(e),t):n},t};var Wu=ps.map({circle:Qo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Xu)),n=e*Xu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Yu),n=e*Yu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Yu),n=e*Yu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ps.svg.symbolTypes=Wu.keys();var Yu=Math.sqrt(3),Xu=Math.tan(30*Vs);Fs.transition=function(t){for(var e,n,r=Gu||++Ku,i=is(t),o=[],s=qu||{time:Date.now(),ease:Rr,delay:0,duration:250},a=-1,u=this.length;++a<u;){o.push(e=[]);for(var c=this[a],l=-1,h=c.length;++l<h;)(n=c[l])&&os(n,l,i,r,s),e.push(n)}return es(o,i,r)},Fs.interrupt=function(t){return this.each(null==t?Hu:ts(is(t)))};var Gu,qu,Hu=ts(is()),Vu=[],Ku=0;Vu.call=Fs.call,Vu.empty=Fs.empty,Vu.node=Fs.node,Vu.size=Fs.size,ps.transition=function(t,e){return t&&t.transition?Gu?t.transition(e):t:ps.selection().transition(t)},ps.transition.prototype=Vu,Vu.select=function(t){var e,n,r,i=this.id,o=this.namespace,s=[];t=P(t);for(var a=-1,u=this.length;++a<u;){s.push(e=[]);for(var c=this[a],l=-1,h=c.length;++l<h;)(r=c[l])&&(n=t.call(r,r.__data__,l,a))?("__data__"in r&&(n.__data__=r.__data__),os(n,l,o,i,r[o][i]),e.push(n)):e.push(null)}return es(s,o,i)},Vu.selectAll=function(t){var e,n,r,i,o,s=this.id,a=this.namespace,u=[];t=F(t);for(var c=-1,l=this.length;++c<l;)for(var h=this[c],f=-1,p=h.length;++f<p;)if(r=h[f]){o=r[a][s],n=t.call(r,r.__data__,f,c),u.push(e=[]);for(var d=-1,v=n.length;++d<v;)(i=n[d])&&os(i,d,a,s,o),e.push(i)}return es(u,a,s)},Vu.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=q(t));for(var o=0,s=this.length;s>o;o++){i.push(e=[]);for(var n=this[o],a=0,u=n.length;u>a;a++)(r=n[a])&&t.call(r,r.__data__,a,o)&&e.push(r)}return es(i,this.namespace,this.id)},Vu.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):V(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Vu.attr=function(t,e){function n(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(a);return n!==t&&(e=s(n,t),function(t){this.setAttribute(a,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(a.space,a.local);return n!==t&&(e=s(n,t),function(t){this.setAttributeNS(a.space,a.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var s="transform"==t?Jr:Mr,a=ps.ns.qualify(t);return ns(this,"attr."+t,e,a.local?o:i)},Vu.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=ps.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Vu.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=s(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=Mr(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return ns(this,"style."+t,e,i)},Vu.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,s(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Vu.text=function(t){return ns(this,"text",t,rs)},Vu.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Vu.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ps.ease.apply(ps,arguments)),V(this,function(r){r[n][e].ease=t}))},Vu.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:V(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Vu.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:V(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Vu.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=qu,o=Gu;try{Gu=n,V(this,function(e,i,o){qu=e[r][n],t.call(e,e.__data__,i,o)})}finally{qu=i,Gu=o}}else V(this,function(i){var o=i[r][n];(o.event||(o.event=ps.dispatch("start","end","interrupt"))).on(t,e)});return this},Vu.transition=function(){for(var t,e,n,r,i=this.id,o=++Ku,s=this.namespace,a=[],u=0,c=this.length;c>u;u++){a.push(t=[]);for(var e=this[u],l=0,h=e.length;h>l;l++)(n=e[l])&&(r=n[s][i],os(n,l,s,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return es(a,s,o)},ps.svg.axis=function(){function t(t){t.each(function(){var t,c=ps.select(this),l=this.__chart__||n,h=this.__chart__=n.copy(),f=null==u?h.ticks?h.ticks.apply(h,a):h.domain():u,p=null==e?h.tickFormat?h.tickFormat.apply(h,a):E:e,d=c.selectAll(".tick").data(f,h),v=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Ws),g=ps.transition(d.exit()).style("opacity",Ws).remove(),y=ps.transition(d.order()).style("opacity",1),m=Math.max(i,0)+s,x=Ki(h),_=c.selectAll(".domain").data([0]),b=(_.enter().append("path").attr("class","domain"),ps.transition(_));v.append("line"),v.append("text");var w,M,S,T,A=v.select("line"),C=y.select("line"),k=d.select("text").text(p),O=v.select("text"),R=y.select("text"),D="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=ss,w="x",S="y",M="x2",T="y2",k.attr("dy",0>D?"0em":".71em").style("text-anchor","middle"),b.attr("d","M"+x[0]+","+D*o+"V0H"+x[1]+"V"+D*o)):(t=as,w="y",S="x",M="y2",T="x2",k.attr("dy",".32em").style("text-anchor",0>D?"end":"start"),b.attr("d","M"+D*o+","+x[0]+"H0V"+x[1]+"H"+D*o)),A.attr(T,D*i),O.attr(S,D*m),C.attr(M,0).attr(T,D*i),R.attr(w,0).attr(S,D*m),h.rangeBand){var P=h,F=P.rangeBand()/2;l=h=function(t){return P(t)+F}}else l.rangeBand?l=h:g.call(t,h,l);v.call(t,l,h),y.call(t,h,h)})}var e,n=ps.scale.linear(),r=$u,i=6,o=6,s=3,a=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Zu?e+"":$u,t):r},t.ticks=function(){return arguments.length?(a=vs(arguments),t):a},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(){return arguments.length&&t},t};var $u="bottom",Zu={top:1,right:1,bottom:1,left:1};ps.svg.brush=function(){function t(o){o.each(function(){var o=ps.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),s=o.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=o.selectAll(".resize").data(v,E);a.exit().remove(),a.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ju[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",t.empty()?"none":null);var u,h=ps.transition(o),f=ps.transition(s);c&&(u=Ki(c),f.attr("x",u[0]).attr("width",u[1]-u[0]),n(h)),l&&(u=Ki(l),f.attr("y",u[0]).attr("height",u[1]-u[0]),r(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function r(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==ps.event.keyCode&&(C||(x=null,R[0]-=h[1],R[1]-=f[1],C=2),k())}function v(){32==ps.event.keyCode&&2==C&&(R[0]+=h[1],R[1]+=f[1],C=0,k())}function g(){var t=ps.mouse(b),i=!1;_&&(t[0]+=_[0],t[1]+=_[1]),C||(ps.event.altKey?(x||(x=[(h[0]+h[1])/2,(f[0]+f[1])/2]),R[0]=h[+(t[0]<x[0])],R[1]=f[+(t[1]<x[1])]):x=null),T&&y(t,c,0)&&(n(M),i=!0),A&&y(t,l,1)&&(r(M),i=!0),i&&(e(M),E({type:"brush",mode:C?"move":"resize"}))}function y(t,e,n){var r,i,s=Ki(e),u=s[0],c=s[1],l=R[n],v=n?f:h,g=v[1]-v[0];return C&&(u-=l,c-=g+l),r=(n?d:p)?Math.max(u,Math.min(c,t[n])):t[n],C?i=(r+=l)+g:(x&&(l=Math.max(u,Math.min(c,2*x[n]-r))),r>l?(i=r,r=l):i=l),v[0]!=r||v[1]!=i?(n?a=null:o=null,v[0]=r,v[1]=i,!0):void 0}function m(){g(),M.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ps.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),O(),E({type:"brushend"})}var x,_,b=this,w=ps.select(ps.event.target),E=u.of(b,arguments),M=ps.select(b),S=w.datum(),T=!/^(n|s)$/.test(S)&&c,A=!/^(e|w)$/.test(S)&&l,C=w.classed("extent"),O=tt(b),R=ps.mouse(b),D=ps.select(s(b)).on("keydown.brush",i).on("keyup.brush",v);if(ps.event.changedTouches?D.on("touchmove.brush",g).on("touchend.brush",m):D.on("mousemove.brush",g).on("mouseup.brush",m),M.interrupt().selectAll("*").interrupt(),C)R[0]=h[0]-R[0],R[1]=f[0]-R[1];else if(S){var P=+/w$/.test(S),F=+/^n/.test(S);_=[h[1-P]-R[0],f[1-F]-R[1]],R[0]=h[P],R[1]=f[F]}else ps.event.altKey&&(x=R.slice());M.style("pointer-events","none").selectAll(".resize").style("display",null),ps.select("body").style("cursor",w.style("cursor")),E({type:"brushstart"}),g()}var o,a,u=R(t,"brushstart","brush","brushend"),c=null,l=null,h=[0,0],f=[0,0],p=!0,d=!0,v=Qu[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:h,y:f,i:o,j:a},n=this.__chart__||e;this.__chart__=e,Gu?ps.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,h=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Sr(h,e.x),r=Sr(f,e.y);return o=a=null,function(i){h=e.x=n(i),f=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(c=e,v=Qu[!c<<1|!l],t):c},t.y=function(e){return arguments.length?(l=e,v=Qu[!c<<1|!l],t):l},t.clamp=function(e){return arguments.length?(c&&l?(p=!!e[0],d=!!e[1]):c?p=!!e:l&&(d=!!e),t):c&&l?[p,d]:c?p:l?d:null},t.extent=function(e){var n,r,i,s,u;return arguments.length?(c&&(n=e[0],r=e[1],l&&(n=n[0],r=r[0]),o=[n,r],c.invert&&(n=c(n),r=c(r)),n>r&&(u=n,n=r,r=u),n==h[0]&&r==h[1]||(h=[n,r])),l&&(i=e[0],s=e[1],c&&(i=i[1],s=s[1]),a=[i,s],l.invert&&(i=l(i),s=l(s)),i>s&&(u=i,i=s,s=u),i==f[0]&&s==f[1]||(f=[i,s])),t):(c&&(o?(n=o[0],r=o[1]):(n=h[0],r=h[1],c.invert&&(n=c.invert(n),r=c.invert(r)),n>r&&(u=n,n=r,r=u))),l&&(a?(i=a[0],s=a[1]):(i=f[0],s=f[1],l.invert&&(i=l.invert(i),s=l.invert(s)),i>s&&(u=i,i=s,s=u))),c&&l?[[n,i],[r,s]]:c?[n,r]:l&&[i,s])},t.clear=function(){return t.empty()||(h=[0,0],f=[0,0],o=a=null),t},t.empty=function(){return!!c&&h[0]==h[1]||!!l&&f[0]==f[1]},ps.rebind(t,u,"on")};var Ju={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Qu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],tc=xa.format=Sa.timeFormat,ec=tc.utc,nc=ec("%Y-%m-%dT%H:%M:%S.%LZ");tc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?us:nc,us.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},us.toString=nc.toString,xa.second=Gt(function(t){return new _a(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),xa.seconds=xa.second.range,xa.seconds.utc=xa.second.utc.range,xa.minute=Gt(function(t){return new _a(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),xa.minutes=xa.minute.range,xa.minutes.utc=xa.minute.utc.range,xa.hour=Gt(function(t){var e=t.getTimezoneOffset()/60;return new _a(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),xa.hours=xa.hour.range,xa.hours.utc=xa.hour.utc.range,xa.month=Gt(function(t){return t=xa.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),xa.months=xa.month.range,xa.months.utc=xa.month.utc.range;var rc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ic=[[xa.second,1],[xa.second,5],[xa.second,15],[xa.second,30],[xa.minute,1],[xa.minute,5],[xa.minute,15],[xa.minute,30],[xa.hour,1],[xa.hour,3],[xa.hour,6],[xa.hour,12],[xa.day,1],[xa.day,2],[xa.week,1],[xa.month,1],[xa.month,3],[xa.year,1]],oc=tc.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Fe]]),sc={range:function(t,e,n){return ps.range(Math.ceil(t/n)*n,+e,n).map(ls)},floor:E,ceil:E};ic.year=xa.year,xa.scale=function(){return cs(ps.scale.linear(),ic,oc)};var ac=ic.map(function(t){return[t[0].utc,t[1]]}),uc=ec.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Fe]]);ac.year=xa.year.utc,xa.scale.utc=function(){return cs(ps.scale.linear(),ac,uc)},ps.text=Dt(function(t){return t.responseText}),ps.json=function(t,e){return Pt(t,"application/json",hs,e)},ps.html=function(t,e){return Pt(t,"text/html",fs,e)},ps.xml=Dt(function(t){return t.responseXML}),this.d3=ps,r=ps,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}()},function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r),t}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}}function a(){var t;try{t=e.storage.debug}catch(n){}return t}function u(){try{return window.localStorage}catch(t){}}e=t.exports=n(489),e.log=o,e.formatArgs=i,e.save=s,e.load=a,e.useColors=r,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(a())},function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(){}var o=Object.prototype.hasOwnProperty,s="function"!=typeof Object.create?"~":!1;i.prototype._events=void 0,i.prototype.eventNames=function(){var t,e=this._events,n=[];if(!e)return n;for(t in e)o.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(t,e){var n=s?s+t:t,r=this._events&&this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);o>i;i++)a[i]=r[i].fn;return a},i.prototype.emit=function(t,e,n,r,i,o){var a=s?s+t:t;if(!this._events||!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,i),!0;case 6:return l.fn.call(l.context,e,n,r,i,o),!0}for(c=1,u=new Array(h-1);h>c;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,p=l.length;for(c=0;p>c;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;default:if(!u)for(f=1,u=new Array(h-1);h>f;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},i.prototype.on=function(t,e,n){var i=new r(e,n||this),o=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):this._events[o]=i,this},i.prototype.once=function(t,e,n){var i=new r(e,n||this,!0),o=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):this._events[o]=i,this},i.prototype.removeListener=function(t,e,n,r){var i=s?s+t:t;if(!this._events||!this._events[i])return this;var o=this._events[i],a=[];if(e)if(o.fn)(o.fn!==e||r&&!o.once||n&&o.context!==n)&&a.push(o);else for(var u=0,c=o.length;c>u;u++)(o[u].fn!==e||r&&!o[u].once||n&&o[u].context!==n)&&a.push(o[u]);return a.length?this._events[i]=1===a.length?a[0]:a:delete this._events[i],this},i.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[s?s+t:t]:this._events=s?{}:Object.create(null),this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=s,t.exports=i},function(t,e,n){t.exports={"default":n(336),__esModule:!0
}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(36);t.exports=function(t){return Object(r(t))}},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){function r(t,e,n){this._run=t,this.value=e,this.sink=n,this.active=!0}function i(t,e,n){n.error(t,e)}function o(t,e,n){n.event(t,e)}function s(t,e,n){n.end(t,e)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var a=n(155);t.exports=r,r.event=function(t,e){return new r(o,t,e)},r.end=function(t,e){return new r(s,t,e)},r.error=function(t,e){return new r(i,t,e)},r.prototype.dispose=function(){this.active=!1},r.prototype.run=function(t){this.active&&this._run(t,this.value,this.sink)},r.prototype.error=function(t,e){return this.active?void this.sink.error(t,e):a(e)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){(function(t,r){var i=n(543),o={"function":!0,object:!0},s=o[typeof e]&&e&&!e.nodeType?e:void 0,a=o[typeof t]&&t&&!t.nodeType?t:void 0,u=i(s&&a&&"object"==typeof r&&r),c=i(o[typeof self]&&self),l=i(o[typeof window]&&window),h=i(o[typeof this]&&this),f=u||l!==(h&&h.window)&&l||c||h||Function("return this")();t.exports=f}).call(e,n(117)(t),function(){return this}())},function(t,e,n){function r(t){return new h(new i(t))}function i(t){this.value=t}function o(t,e,n){n.event(t,e),n.end(t,void 0)}function s(){return d}function a(){}function u(t){return t.dispose()}function c(){return v}function l(){}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var h=n(4),f=n(7),p=n(46);e.of=r,e.empty=s,e.never=c,i.prototype.run=function(t,e){return e.asap(new p(o,this.value,t))},a.prototype.run=function(t,e){var n=p.end(void 0,t);return e.asap(n),f.create(u,n)};var d=new h(new a);l.prototype.run=function(){return f.empty()};var v=new h(new l)},function(t,e){function n(){c=!1,s.length?u=s.concat(u):l=-1,u.length&&r()}function r(){if(!c){var t=setTimeout(n);c=!0;for(var e=u.length;e;){for(s=u,u=[];++l<e;)s&&s[l].run();l=-1,e=u.length}s=null,c=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var s,a=t.exports={},u=[],c=!1,l=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new i(t,e)),1!==u.length||c||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){function n(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}n.prototype.constructor=n,t.exports=n,n.prototype.onContextChange=function(){},n.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(9)("unscopables"),i=Array.prototype;void 0==i[r]&&n(37)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(97),i=n(48),o=r(i,"Map");t.exports=o},function(t,e){function n(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!=t||null==t}t.exports=n},function(t,e,n){function r(t){var e=i(t)?u.call(t):"";return e==o||e==s}var i=n(26),o="[object Function]",s="[object GeneratorFunction]",a=Object.prototype,u=a.toString;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if("number"==typeof t)return t;var e=l["default"].rgb(t),n=function(t){return Math.pow(16,t)};return e.r*n(4)+e.g*n(2)+e.b}function o(t,e){var n=new u["default"](t),r=new u["default"](e),i=e.filter(function(t){return!n.has(t)}),o=t.filter(function(t){return!r.has(t)});return{added:i,removed:o}}function s(t){var e=t.split(".").reduce(function(t,e){var n=t.length-1;return e?n>=0&&"."===t[n].slice(-1)?t[n]=t[n]+e:t.push(e):t[n]=t[n]+".",t},[]).filter(Boolean).map(function(t){return"['"+t+"']"}).join("");return new Function("obj","return obj"+e+";")}Object.defineProperty(e,"__esModule",{value:!0});var a=n(119),u=r(a);e.css2pixi=i,e.venn=o,e.fieldGetter=s;var c=n(38),l=r(c)},function(t,e,n){var r=n(80);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(345);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){t.exports=!n(63)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(13),i=n(124);t.exports=n(62)?function(t,e,n){return r.setDesc(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r=n(359)(!0);n(123)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(35),i=n(207),o=n(204),s=n(8),a=n(25),u=n(218);t.exports=function(t,e,n,c){var l,h,f,p=u(t),d=r(n,c,e?2:1),v=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(o(p))for(l=a(t.length);l>v;v++)e?d(s(h=t[v])[0],h[1]):d(t[v]);else for(f=p.call(t);!(h=f.next()).done;)i(f,d,h.value,e)}},function(t,e){t.exports={}},function(t,e,n){var r=n(3).setDesc,i=n(24),o=n(9)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(71),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),0>t?i(t+e,0):o(t,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){return null!=t&&!("function"==typeof t&&o(t))&&s(i(t))}var i=n(560),o=n(58),s=n(102);t.exports=r},function(t,e,n){function r(t){var e=c(t);if(!e&&!a(t))return o(t);var n=s(t),r=!!n,l=n||[],h=l.length;for(var f in t)!i(t,f)||r&&("length"==f||u(f,h))||e&&"constructor"==f||l.push(f);return l}var i=n(243),o=n(527),s=n(253),a=n(73),u=n(99),c=n(145);t.exports=r},function(t,e,n){function r(t){i.call(this,t)}var i=n(51);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.start=function(){},r.prototype.stop=function(){this.flush()},r.prototype.flush=function(){},r.prototype.render=function(t){}},function(t,e,n){function r(t,e,n,i,o){if(a.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new u.Rectangle(0,0,1,1)),t instanceof r&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=i,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=n||e,this._rotate=+(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw"attempt to use diamond-shaped UVs. If you are sure, set rotation manually";t.hasLoaded?(this.noFrame&&(e=new u.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}var i=n(113),o=n(292),s=n(291),a=n(40),u=n(15),c=n(12);r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}},rotate:{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}}}),r.prototype.update=function(){this.baseTexture.update()},r.prototype.onBaseTextureLoaded=function(t){this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.emit("update",this)},r.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},r.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},r.prototype.clone=function(){return new r(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},r.prototype._updateUvs=function(){this._uvs||(this._uvs=new s),this._uvs.set(this.crop,this.baseTexture,this.rotate)},r.fromImage=function(t,e,n){var o=c.TextureCache[t];return o||(o=new r(i.fromImage(t,e,n)),c.TextureCache[t]=o),o},r.fromFrame=function(t){var e=c.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},r.fromCanvas=function(t,e){return new r(i.fromCanvas(t,e))},r.fromVideo=function(t,e){return"string"==typeof t?r.fromVideoUrl(t,e):new r(o.fromVideo(t,e))},r.fromVideoUrl=function(t,e){return new r(o.fromUrl(t,e))},r.addTextureToCache=function(t,e){c.TextureCache[e]=t},r.removeTextureFromCache=function(t){var e=c.TextureCache[t];return delete c.TextureCache[t],delete c.BaseTextureCache[t],e},r.EMPTY=new r(new i)},function(t,e,n){var r,i,o;!function(s,a){i=[e,n(18)],r=a,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o))}(this,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,n){try{n.event(t,e)}catch(r){n.error(t,r)}}function i(t,e,n){try{n.end(t,e)}catch(r){n.error(t,r)}}function o(t){var e=t.source;return e instanceof l?t:new t.constructor(new l(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.MulticastSource=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e,r){n(this,t),this.source=e,this.sink=r,this.disposed=!1}return s(t,[{key:"dispose",value:function(){if(!this.disposed){this.disposed=!0;var t=this.source.remove(this.sink);return 0===t&&this.source._dispose()}}}]),t}(),u=function(t){return t.dispose()},c={dispose:function(){}},l=function(){function t(e){n(this,t),this.source=e,this.sinks=[],this._disposable=c}return s(t,[{key:"run",value:function(t,e){var n=this.add(t);return 1===n&&(this._disposable=this.source.run(this,e)),new a(this,t)}},{key:"_dispose",value:function(){var t=this._disposable;return this._disposable=c,Promise.resolve(t).then(u)}},{key:"add",value:function(t){return this.sinks=(0,e.append)(t,this.sinks),this.sinks.length}},{key:"remove",value:function(t){var n=(0,e.findIndex)(t,this.sinks);return n>=0&&(this.sinks=(0,e.remove)(n,this.sinks)),this.sinks.length}},{key:"event",value:function(t,e){var n=this.sinks;if(1===n.length)return n[0].event(t,e);for(var i=0;i<n.length;++i)r(t,e,n[i])}},{key:"end",value:function(t,e){for(var n=this.sinks,r=0;r<n.length;++r)i(t,e,n[r])}},{key:"error",value:function(t,e){for(var n=this.sinks,r=0;r<n.length;++r)n[r].error(t,e)}}]),t}();t.MulticastSource=l,t["default"]=o})},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(13).setDesc,i=n(79),o=n(23)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(184),i=n(78);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(78);t.exports=function(t){return Object(r(t))}},function(t,e,n){n(363);var r=n(52);r.NodeList=r.HTMLCollection=r.Array},function(t,e,n){var r=n(35),i=n(90),o=n(44),s=n(25),a=n(374);t.exports=function(t){var e=1==t,n=2==t,u=3==t,c=4==t,l=6==t,h=5==t||l;return function(f,p,d){for(var v,g,y=o(f),m=i(y),x=r(p,d,3),_=s(m.length),b=0,w=e?a(f,_):n?a(f,0):void 0;_>b;b++)if((h||b in m)&&(v=m[b],g=x(v,b,y),t))if(e)w[b]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return b;case 2:w.push(v)}else if(c)return!1;return l?-1:u||c?c:w}}},function(t,e,n){var r=n(42),i=n(9)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=(e=Object(t))[i])?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";var r=n(10),i=n(1),o=n(32),s=n(91),a=n(67),u=n(93),c=n(5),l=n(14),h=n(131),f=n(69);t.exports=function(t,e,n,p,d,v){var g=r[t],y=g,m=d?"set":"add",x=y&&y.prototype,_={},b=function(t){var e=x[t];o(x,t,"delete"==t?function(t){return v&&!c(t)?!1:e.call(this,0===t?0:t)}:"has"==t?function(t){return v&&!c(t)?!1:e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(v||x.forEach&&!l(function(){(new y).entries().next()}))){var w,E=new y,M=E[m](v?{}:-0,1)!=E,S=l(function(){E.has(1)}),T=h(function(t){new y(t)});T||(y=e(function(e,n){u(e,y,t);var r=new g;return void 0!=n&&a(n,d,r[m],r),r}),y.prototype=x,x.constructor=y),v||E.forEach(function(t,e){w=1/e===-(1/0)}),(S||w)&&(b("delete"),b("has"),d&&b("get")),(w||M)&&b(m),v&&x.clear&&delete x.clear}else y=p.getConstructor(e,t,d,m),s(y.prototype,n);return f(y,t),_[t]=y,i(i.G+i.W+i.F*(y!=g),_),v||p.setStrong(y,t,d),y}},function(t,e,n){"use strict";var r=n(37),i=n(32),o=n(14),s=n(36),a=n(9);t.exports=function(t,e,n){var u=a(t),c=""[t];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,n(s,u,c)),r(RegExp.prototype,u,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)}))}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(42);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(32);t.exports=function(t,e){for(var n in e)r(t,n,e[n]);return t}},function(t,e,n){"use strict";var r=n(10),i=n(3),o=n(30),s=n(9)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.setDesc(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError(n+": use the 'new' operator!");return t}},function(t,e,n){var r=n(1),i=n(36),o=n(14),s="	\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff",a="["+s+"]",u="​",c=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),h=function(t,e){var n={};n[t]=e(f),r(r.P+r.F*o(function(){return!!s[t]()||u[t]()!=u}),"String",n)},f=h.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=h},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(581),o=n(582),s=n(583),a=n(584),u=n(585);r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=s,r.prototype.has=a,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(72);t.exports=r},function(t,e,n){function r(t,e){var n=null==t?void 0:t[e];return i(n)?n:void 0}var i=n(595);t.exports=r},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t,e){return t="number"==typeof t||i.test(t)?+t:-1,e=null==e?r:e,t>-1&&t%1==0&&e>t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){var r=n(97),i=r(Object,"create");t.exports=i},function(t,e,n){function r(t){return i(t)&&a.call(t,"callee")&&(!c.call(t,"callee")||u.call(t)==o)}var i=n(148),o="[object Arguments]",s=Object.prototype,a=s.hasOwnProperty,u=s.toString,c=s.propertyIsEnumerable;t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&r>=t}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t,e){return i(f,t,e)}function i(t,e,n){return new c(new o(t,e,n.source))}function o(t,e,n){this.f=t,this.concurrency=e,this.source=n}function s(t,e,n,r,i){this.f=t,this.concurrency=e,this.sink=r,this.scheduler=i,this.pending=[],this.current=new h,this.disposable=l.once(n.run(this,i)),this.active=!0}function a(t,e,n,r){return t(e).source.run(n,r)}function u(t,e,n){this.prev=this.next=null,this.time=t,this.outer=e,this.sink=n,this.disposable=void 0}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var c=n(4),l=n(7),h=n(612),f=n(18).id;e.mergeConcurrently=r,e.mergeMapConcurrently=i,o.prototype.run=function(t,e){return new s(this.f,this.concurrency,this.source,t,e)},s.prototype.event=function(t,e){this._addInner(t,e)},s.prototype._addInner=function(t,e){this.current.length<this.concurrency?this._startInner(t,e):this.pending.push(e)},s.prototype._startInner=function(t,e){try{this._initInner(t,e)}catch(n){this.error(t,n)}},s.prototype._initInner=function(t,e){var n=new u(t,this,this.sink);n.disposable=a(this.f,e,n,this.scheduler),this.current.add(n)},s.prototype.end=function(t,e){this.active=!1,l.tryDispose(t,this.disposable,this.sink),this._checkEnd(t,e)},s.prototype.error=function(t,e){this.active=!1,this.sink.error(t,e)},s.prototype.dispose=function(){return this.active=!1,this.pending.length=0,Promise.all([this.disposable.dispose(),this.current.dispose()])},s.prototype._endInner=function(t,e,n){this.current.remove(n),l.tryDispose(t,n,this),0===this.pending.length?this._checkEnd(t,e):this._startInner(t,this.pending.shift())},s.prototype._checkEnd=function(t,e){!this.active&&this.current.isEmpty()&&this.sink.end(t,e)},u.prototype.event=function(t,e){this.sink.event(Math.max(t,this.time),e)},u.prototype.end=function(t,e){this.outer._endInner(Math.max(t,this.time),e,this)},u.prototype.error=function(t,e){this.outer.error(Math.max(t,this.time),e)},u.prototype.dispose=function(){return this.disposable.dispose()}},function(t,e,n){function r(t,e){return new u(c.create(t,e.source))}function i(t,e){return r(function(){return t},e)}function o(t,e){return new u(new s(t,e.source))}function s(t,e){this.source=e,this.f=t}function a(t,e){this.sink=e,this.f=t}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var u=n(4),c=n(156),l=n(11);e.map=r,e.constant=i,e.tap=o,s.prototype.run=function(t,e){return this.source.run(new a(this.f,t),e)},a.prototype.end=l.prototype.end,a.prototype.error=l.prototype.error,a.prototype.event=function(t,e){var n=this.f;n(e),this.sink.event(t,e)}},function(t,e){function n(t,e,n){try{n.event(t,e)}catch(r){n.error(t,r)}}function r(t,e,n){try{n.end(t,e)}catch(r){n.error(t,r)}}/** @license MIT License (c) copyright 2010-2016 original author or authors */
e.tryEvent=n,e.tryEnd=r},function(t,e,n){t.exports=n(674),t.exports.Resource=n(164),t.exports.middleware={caching:{memory:n(676)},parsing:{blob:n(677)}}},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(50).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=arguments.length<2?!1:a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(107).setImmediate,n(107).clearImmediate)},function(t,e,n){function r(){s.call(this),this.children=[]}var i=n(15),o=n(12),s=n(278),a=n(170),u=new i.Matrix;r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;0!==e?this.scale.x=t/e:this.scale.x=1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;0!==e?this.scale.y=t/e:this.scale.y=1,this._height=t}}}),r.prototype.onChildrenChange=function(){},r.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var n=0;e>n;n++)this.addChild(arguments[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},r.prototype.addChildAt=function(t,e){if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this.onChildrenChange(e),t.emit("added",this),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},r.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);if(0>n||0>r)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[n]=e,this.children[r]=t,this.onChildrenChange(r>n?n:r)}},r.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},r.prototype.setChildIndex=function(t,e){if(0>e||e>=this.children.length)throw new Error("The supplied index is out of bounds");var n=this.getChildIndex(t);o.removeItems(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},r.prototype.getChildAt=function(t){if(0>t||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},r.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var n=0;e>n;n++)this.removeChild(arguments[n]);else{var r=this.children.indexOf(t);if(-1===r)return;t.parent=null,o.removeItems(this.children,r,1),this.onChildrenChange(r),t.emit("removed",this)}return t},r.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,o.removeItems(this.children,t,1),this.onChildrenChange(t),e.emit("removed",this),e},r.prototype.removeChildren=function(t,e){var n,r,i=t||0,o="number"==typeof e?e:this.children.length,s=o-i;if(s>0&&o>=s){for(n=this.children.splice(i,s),r=0;r<n.length;++r)n[r].parent=null;for(this.onChildrenChange(t),r=0;r<n.length;++r)n[r].emit("removed",this);return n}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.generateTexture=function(t,e,n){var r=this.getLocalBounds(),i=new a(t,0|r.width,0|r.height,n,e);return u.tx=-r.x,u.ty=-r.y,i.render(this,u),i},r.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var t=0,e=this.children.length;e>t;++t)this.children[t].updateTransform()}},r.prototype.containerUpdateTransform=r.prototype.updateTransform,r.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return i.Rectangle.EMPTY;for(var t,e,n,r=1/0,o=1/0,s=-(1/0),a=-(1/0),u=!1,c=0,l=this.children.length;l>c;++c){var h=this.children[c];h.visible&&(u=!0,t=this.children[c].getBounds(),r=r<t.x?r:t.x,o=o<t.y?o:t.y,e=t.width+t.x,n=t.height+t.y,s=s>e?s:e,a=a>n?a:n)}if(!u)return i.Rectangle.EMPTY;var f=this._bounds;f.x=r,f.y=o,f.width=s-r,f.height=a-o,this._currentBounds=f}return this._currentBounds},r.prototype.containerGetBounds=r.prototype.getBounds,r.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=i.Matrix.IDENTITY;for(var e=0,n=this.children.length;n>e;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(i.Matrix.IDENTITY)},r.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var e,n;if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&this._filters.length&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,n=this.children.length;n>e;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,n=this.children.length;n>e;++e)this.children[e].renderWebGL(t)}},r.prototype._renderWebGL=function(t){},r.prototype._renderCanvas=function(t){},r.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,n=this.children.length;n>e;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},r.prototype.destroy=function(t){if(s.prototype.destroy.call(this),t)for(var e=0,n=this.children.length;n>e;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},function(t,e,n){function r(t,e,n){n=n||{},i.call(this,"WebGL",t,e,n),this.type=d.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!n.forceFXAA&&n.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:n.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new o(this),this.maskManager=new s(this),this.stencilManager=new a(this),this.filterManager=new u(this),this.blendModeManager=new c(this),this.currentRenderTarget=null,this.currentRenderer=new h(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._managedTextures=[],this._renderTargetStack=[]}var i=n(282),o=n(287),s=n(698),a=n(699),u=n(286),c=n(697),l=n(112),h=n(75),f=n(284),p=n(12),d=n(6);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,p.pluginTarget.mixin(r),r.glContextId=0,r.prototype._createContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=r.glContextId++,t.id=this.glContextId,t.renderer=this},r.prototype._initContext=function(){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new l(t,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new f])},r.prototype.render=function(t){if(this.emit("prerender"),!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter);var e=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e;var n=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?n.clearColor(0,0,0,0):n.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),n.clear(n.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget),this.emit("postrender")}},r.prototype.renderDisplayObject=function(t,e,n){this.setRenderTarget(e),n&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},r.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},r.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},r.prototype.resize=function(t,e){i.prototype.resize.call(this,t,e),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},r.prototype.updateTexture=function(t){if(t=t.baseTexture||t,t.hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},r.prototype.destroyTexture=function(t,e){if(t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.gl.id]&&(this.gl.deleteTexture(t._glTextures[this.gl.id]),delete t._glTextures[this.gl.id],!e)){var n=this._managedTextures.indexOf(t);-1!==n&&p.removeItems(this._managedTextures,n,1)}},r.prototype.handleContextLost=function(t){t.preventDefault()},r.prototype.handleContextRestored=function(){this._initContext();for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.gl.id]&&delete e._glTextures[this.gl.id]}},r.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);for(var e=0;e<this._managedTextures.length;++e){var n=this._managedTextures[e];this.destroyTexture(n,!0),n.off("update",this.updateTexture,this),n.off("dispose",this.destroyTexture,this)}i.prototype.destroy.call(this,t),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.blendModeManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this._managedTextures=null,this.drawCount=0,this.gl.useProgram(null),this.gl.flush(),this.gl=null},r.prototype._mapGlModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[d.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],this.blendModes[d.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],this.blendModes[d.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[d.DRAW_MODES.POINTS]=t.POINTS,this.drawModes[d.DRAW_MODES.LINES]=t.LINES,this.drawModes[d.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,this.drawModes[d.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLES]=t.TRIANGLES,this.drawModes[d.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN)}},function(t,e,n){function r(t,e,n,r,o){if(!e||!n)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=i.uid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=r||{},this.attributes=o||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=n,this.init()}var i=n(12);r.prototype.constructor=r,t.exports=r,r.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},r.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},r.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},r.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),n=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),r=t.createProgram();return t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(r,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(r)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(r)),t.deleteProgram(r),r=null),t.deleteShader(e),t.deleteShader(n),this.program=r},r.prototype.syncUniform=function(t){var e,n,r=t._location,o=t.value,s=this.gl;switch(t.type){case"b":case"bool":case"boolean":s.uniform1i(r,o?1:0);break;case"i":case"1i":s.uniform1i(r,o);break;case"f":case"1f":s.uniform1f(r,o);break;case"2f":s.uniform2f(r,o[0],o[1]);break;case"3f":s.uniform3f(r,o[0],o[1],o[2]);break;case"4f":s.uniform4f(r,o[0],o[1],o[2],o[3]);break;case"v2":s.uniform2f(r,o.x,o.y);break;case"v3":s.uniform3f(r,o.x,o.y,o.z);break;case"v4":s.uniform4f(r,o.x,o.y,o.z,o.w);break;case"1iv":s.uniform1iv(r,o);break;case"2iv":s.uniform2iv(r,o);break;case"3iv":s.uniform3iv(r,o);break;case"4iv":s.uniform4iv(r,o);break;case"1fv":s.uniform1fv(r,o);break;case"2fv":s.uniform2fv(r,o);break;case"3fv":s.uniform3fv(r,o);break;case"4fv":s.uniform4fv(r,o);break;case"m2":case"mat2":case"Matrix2fv":s.uniformMatrix2fv(r,t.transpose,o);break;case"m3":case"mat3":case"Matrix3fv":s.uniformMatrix3fv(r,t.transpose,o);break;case"m4":case"mat4":case"Matrix4fv":s.uniformMatrix4fv(r,t.transpose,o);break;case"c":"number"==typeof o&&(o=i.hex2rgb(o)),s.uniform3f(r,o[0],o[1],o[2]);break;case"iv1":s.uniform1iv(r,o);break;case"iv":s.uniform3iv(r,o);break;case"fv1":s.uniform1fv(r,o);break;case"fv":s.uniform3fv(r,o);break;case"v2v":for(t._array||(t._array=new Float32Array(2*o.length)),e=0,n=o.length;n>e;++e)t._array[2*e]=o[e].x,t._array[2*e+1]=o[e].y;s.uniform2fv(r,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*o.length)),e=0,n=o.length;n>e;++e)t._array[3*e]=o[e].x,t._array[3*e+1]=o[e].y,t._array[3*e+2]=o[e].z;s.uniform3fv(r,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*o.length)),e=0,n=o.length;n>e;++e)t._array[4*e]=o[e].x,t._array[4*e+1]=o[e].y,t._array[4*e+2]=o[e].z,t._array[4*e+3]=o[e].w;s.uniform4fv(r,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;s.activeTexture(s["TEXTURE"+this.textureCount]);var a=t.value.baseTexture._glTextures[s.id];a||(this.initSampler2D(t),a=t.value.baseTexture._glTextures[s.id]),s.bindTexture(s.TEXTURE_2D,a),s.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},r.prototype.syncUniforms=function(){this.textureCount=1;for(var t in this.uniforms)this.syncUniform(this.uniforms[t])},r.prototype.initSampler2D=function(t){var e=this.gl,n=t.value.baseTexture;if(n.hasLoaded)if(t.textureData){var r=t.textureData;n._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,n._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,r.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r.magFilter?r.magFilter:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r.wrapS?r.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,r.wrapS?r.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,r.wrapT?r.wrapT:e.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(n)},r.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},r.prototype._glCompile=function(t,e){var n=this.gl.createShader(t);return this.gl.shaderSource(n,e),this.gl.compileShader(n),this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS)?n:(console.log(this.gl.getShaderInfoLog(n)),null)}},function(t,e,n){function r(t,e,n,o,s){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(o)for(var u in o)a[u]=o[u];var c={aVertexPosition:0,aTextureCoord:0,aColor:0};if(s)for(var l in s)c[l]=s[l];e=e||r.defaultVertexSrc,n=n||r.defaultFragmentSrc,i.call(this,t,e,n,a,c)}var i=n(110);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),r.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},function(t,e,n){var r=n(15),i=n(12),o=n(6),s=n(701),a=function(t,e,n,a,u,c){if(this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new r.Rectangle(0,0,1,1),this.resolution=u||o.RESOLUTION,this.projectionMatrix=new r.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new s,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||o.SCALE_MODES.DEFAULT,this.root=c,!this.root){this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST);var l=i.isPowerOfTwo(e,n);l?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}this.resize(e,n)};a.prototype.constructor=a,t.exports=a,a.prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var t=this.gl;this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},a.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},a.prototype.resize=function(t,e){if(t=0|t,e=0|e,this.size.width!==t||this.size.height!==e){if(this.size.width=t,this.size.height=e,!this.root){var n=this.gl;n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t*this.resolution,e*this.resolution,0,n.RGBA,n.UNSIGNED_BYTE,null),this.stencilBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencilBuffer),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t*this.resolution,e*this.resolution))}var r=this.frame||this.size;this.calculateProjection(r)}},a.prototype.destroy=function(){var t=this.gl;t.deleteRenderbuffer(this.stencilBuffer),t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},function(t,e,n){function r(t,e,n){s.call(this),this.uid=i.uid(),this.resolution=n||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||o.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures={},t&&this.loadSource(t)}var i=n(12),o=n(6),s=n(40);r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=i.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},r.prototype.loadSource=function(t){var e=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!t.getContext){this.isLoading=!0;var n=this;t.onload=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),n.emit("loaded",n))},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this))}},r.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},r.prototype.destroy=function(){this.imageUrl?(delete i.BaseTextureCache[this.imageUrl],delete i.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete i.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},r.fromImage=function(t,e,n){var o=i.BaseTextureCache[t];if(void 0===e&&0!==t.indexOf("data:")&&(e=!0),!o){var s=new Image;e&&(s.crossOrigin=""),o=new r(s,n),o.imageUrl=t,s.src=t,i.BaseTextureCache[t]=o,o.resolution=i.getResolutionOfUrl(t)}return o},r.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+i.uid());var n=i.BaseTextureCache[t._pixiId];return n||(n=new r(t,e),i.BaseTextureCache[t._pixiId]=n),n}},function(t,e,n){function r(){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n,r){var i=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(i,e,n,r);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(i,s,a,!0);var c=a;a=s,s=c}t.filterManager.applyFilter(i,s,n,r),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},function(t,e,n){(function(e){n(746);var r=t.exports=n(2);r.extras=n(171),r.filters=n(293),r.interaction=n(737),r.loaders=n(738),r.mesh=n(302),r.accessibility=n(683),r.loader=new r.loaders.Loader,Object.assign(r,n(707)),e.PIXI=r}).call(e,function(){return this}())},function(t,e,n){function r(t,e,n,o,s){i.Container.call(this),this._texture=null,this.uvs=n||new Float32Array([0,0,1,0,1,1,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=o||new Uint16Array([0,1,3,2]),this.dirty=!0,this.blendMode=i.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=s||r.DRAW_MODES.TRIANGLE_MESH,this.texture=t,this.shader=null}var i=n(2),o=new i.Point,s=new i.Polygon;r.prototype=Object.create(i.Container.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),r.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},r.prototype._renderCanvas=function(t){var e=t.context,n=this.worldTransform,i=t.resolution;t.roundPixels?e.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):e.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),this.drawMode===r.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},r.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,n=this.uvs,r=e.length/2,i=0;r-2>i;i++){var o=2*i;this._renderCanvasDrawTriangle(t,e,n,o,o+2,o+4)}},r.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,n=this.uvs,r=this.indices,i=r.length,o=0;i>o;o+=3){var s=2*r[o],a=2*r[o+1],u=2*r[o+2];this._renderCanvasDrawTriangle(t,e,n,s,a,u)}},r.prototype._renderCanvasDrawTriangle=function(t,e,n,r,i,o){var s=this._texture.baseTexture,a=s.source,u=s.width,c=s.height,l=e[r],h=e[i],f=e[o],p=e[r+1],d=e[i+1],v=e[o+1],g=n[r]*s.width,y=n[i]*s.width,m=n[o]*s.width,x=n[r+1]*s.height,_=n[i+1]*s.height,b=n[o+1]*s.height;if(this.canvasPadding>0){var w=this.canvasPadding/this.worldTransform.a,E=this.canvasPadding/this.worldTransform.d,M=(l+h+f)/3,S=(p+d+v)/3,T=l-M,A=p-S,C=Math.sqrt(T*T+A*A);l=M+T/C*(C+w),p=S+A/C*(C+E),T=h-M,A=d-S,C=Math.sqrt(T*T+A*A),h=M+T/C*(C+w),d=S+A/C*(C+E),T=f-M,A=v-S,C=Math.sqrt(T*T+A*A),f=M+T/C*(C+w),v=S+A/C*(C+E)}t.save(),t.beginPath(),t.moveTo(l,p),t.lineTo(h,d),t.lineTo(f,v),t.closePath(),t.clip();var k=g*_+x*m+y*b-_*m-x*y-g*b,O=l*_+x*f+h*b-_*f-x*h-l*b,R=g*h+l*m+y*f-h*m-l*y-g*f,D=g*_*f+x*h*m+l*y*b-l*_*m-x*y*f-g*h*b,P=p*_+x*v+d*b-_*v-x*d-p*b,F=g*d+p*m+y*v-d*m-p*y-g*v,N=g*_*v+x*d*m+p*y*b-p*_*m-x*y*v-g*d*b;t.transform(O/k,P/k,R/k,F/k,D/k,N/k),t.drawImage(a,0,0,u*s.resolution,c*s.resolution,0,0,u,c),t.restore()},r.prototype.renderMeshFlat=function(t){var e=this.context,n=t.vertices,r=n.length/2;e.beginPath();for(var i=1;r-2>i;i++){var o=2*i,s=n[o],a=n[o+2],u=n[o+4],c=n[o+1],l=n[o+3],h=n[o+5];e.moveTo(s,c),e.lineTo(a,l),e.lineTo(u,h)}e.fillStyle="#FF0000",e.fill(),e.closePath()},r.prototype._onTextureUpdate=function(){this.updateFrame=!0},r.prototype.getBounds=function(t){if(!this._currentBounds){for(var e=t||this.worldTransform,n=e.a,r=e.b,o=e.c,s=e.d,a=e.tx,u=e.ty,c=-(1/0),l=-(1/0),h=1/0,f=1/0,p=this.vertices,d=0,v=p.length;v>d;d+=2){var g=p[d],y=p[d+1],m=n*g+o*y+a,x=s*y+r*g+u;h=h>m?m:h,f=f>x?x:f,c=m>c?m:c,l=x>l?x:l}if(h===-(1/0)||l===1/0)return i.Rectangle.EMPTY;var _=this._bounds;_.x=h,_.width=c-h,_.y=f,_.height=l-f,this._currentBounds=_}return this._currentBounds},r.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;
this.worldTransform.applyInverse(t,o);var e,n,i=this.vertices,a=s.points;if(this.drawMode===r.DRAW_MODES.TRIANGLES){var u=this.indices;for(n=this.indices.length,e=0;n>e;e+=3){var c=2*u[e],l=2*u[e+1],h=2*u[e+2];if(a[0]=i[c],a[1]=i[c+1],a[2]=i[l],a[3]=i[l+1],a[4]=i[h],a[5]=i[h+1],s.contains(o.x,o.y))return!0}}else for(n=i.length,e=0;n>e;e+=6)if(a[0]=i[e],a[1]=i[e+1],a[2]=i[e+2],a[3]=i[e+3],a[4]=i[e+4],a[5]=i[e+5],s.contains(o.x,o.y))return!0;return!1},r.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){t.exports={"default":n(335),__esModule:!0}},function(t,e,n){t.exports={"default":n(342),__esModule:!0}},function(t,e,n){var r=n(121),i=n(23)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=(e=Object(t))[i])?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(61),i=n(186),o=n(185),s=n(60),a=n(194),u=n(127);t.exports=function(t,e,n,c){var l,h,f,p=u(t),d=r(n,c,e?2:1),v=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(o(p))for(l=a(t.length);l>v;v++)e?d(s(h=t[v])[0],h[1]):d(t[v]);else for(f=p.call(t);!(h=f.next()).done;)i(f,d,h.value,e)}},function(t,e,n){"use strict";var r=n(188),i=n(34),o=n(125),s=n(65),a=n(79),u=n(52),c=n(353),l=n(81),h=n(13).getProto,f=n(23)("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",g="values",y=function(){return this};t.exports=function(t,e,n,m,x,_,b){c(n,e,m);var w,E,M=function(t){if(!p&&t in C)return C[t];switch(t){case v:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",T=x==g,A=!1,C=t.prototype,k=C[f]||C[d]||x&&C[x],O=k||M(x);if(k){var R=h(O.call(new t));l(R,S,!0),!r&&a(C,d)&&s(R,f,y),T&&k.name!==g&&(A=!0,O=function(){return k.call(this)})}if(r&&!b||!p&&!A&&C[f]||s(C,f,O),u[e]=O,u[S]=y,x)if(w={values:T?O:M(g),keys:_?O:M(v),entries:T?M("entries"):O},b)for(E in w)E in C||o(C,E,w[E]);else i(i.P+i.F*(p||A),e,w);return w}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){t.exports=n(65)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(120),i=n(23)("iterator"),o=n(52);t.exports=n(17).getIteratorMethod=function(t){return void 0!=t?t[i]||t["@@iterator"]||o[r(t)]:void 0}},function(t,e,n){var r=n(9)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},function(t,e,n){var r=n(42);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(132),i=n(1),o=n(32),s=n(37),a=n(24),u=n(68),c=n(208),l=n(69),h=n(3).getProto,f=n(9)("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",g="values",y=function(){return this};t.exports=function(t,e,n,m,x,_,b){c(n,e,m);var w,E,M=function(t){if(!p&&t in C)return C[t];switch(t){case v:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",T=x==g,A=!1,C=t.prototype,k=C[f]||C[d]||x&&C[x],O=k||M(x);if(k){var R=h(O.call(new t));l(R,S,!0),!r&&a(C,d)&&s(R,f,y),T&&k.name!==g&&(A=!0,O=function(){return k.call(this)})}if(r&&!b||!p&&!A&&C[f]||s(C,f,O),u[e]=O,u[S]=y,x)if(w={values:T?O:M(g),keys:_?O:M(v),entries:T?M("entries"):O},b)for(E in w)E in C||o(C,E,w[E]);else i(i.P+i.F*(p||A),e,w);return w}},function(t,e,n){var r=n(9)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){n=!0},o[r]=function(){return s},t(o)}catch(a){}return n}},function(t,e){t.exports=!1},function(t,e){t.exports=Math.expm1||function(t){return 0==(t=+t)?t:t>-1e-6&&1e-6>t?t+t*t/2:Math.exp(t)-1}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1}},function(t,e,n){var r=n(3).getDesc,i=n(5),o=n(8),s=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(35)(Function.call,r(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return s(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:s}},function(t,e,n){var r=n(71),i=n(36);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),c=a.length;return 0>u||u>=c?t?"":void 0:(o=a.charCodeAt(u),55296>o||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):(o-55296<<10)+(s-56320)+65536)}}},function(t,e,n){var r=n(206),i=n(36);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){"use strict";function r(t){this._isDirected=c.has(t,"directed")?t.directed:!0,this._isMultigraph=c.has(t,"multigraph")?t.multigraph:!1,this._isCompound=c.has(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=c.constant(void 0),this._defaultEdgeLabelFn=c.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[h]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(t,e){t[e]?t[e]++:t[e]=1}function o(t,e){--t[e]||delete t[e]}function s(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}return i+f+o+f+(c.isUndefined(r)?l:r)}function a(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}var a={v:i,w:o};return r&&(a.name=r),a}function u(t,e){return s(t,e.v,e.w,e.name)}var c=n(19);t.exports=r;var l="\x00",h="\x00",f="";r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(t){return this._label=t,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(t){return c.isFunction(t)||(t=c.constant(t)),this._defaultNodeLabelFn=t,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return c.keys(this._nodes)},r.prototype.sources=function(){return c.filter(this.nodes(),function(t){return c.isEmpty(this._in[t])},this)},r.prototype.sinks=function(){return c.filter(this.nodes(),function(t){return c.isEmpty(this._out[t])},this)},r.prototype.setNodes=function(t,e){var n=arguments;return c.each(t,function(t){n.length>1?this.setNode(t,e):this.setNode(t)},this),this},r.prototype.setNode=function(t,e){return c.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=h,this._children[t]={},this._children[h][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},r.prototype.node=function(t){return this._nodes[t]},r.prototype.hasNode=function(t){return c.has(this._nodes,t)},r.prototype.removeNode=function(t){var e=this;if(c.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],c.each(this.children(t),function(t){this.setParent(t)},this),delete this._children[t]),c.each(c.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],c.each(c.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},r.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(c.isUndefined(e))e=h;else{e+="";for(var n=e;!c.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},r.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},r.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==h)return e}},r.prototype.children=function(t){if(c.isUndefined(t)&&(t=h),this._isCompound){var e=this._children[t];if(e)return c.keys(e)}else{if(t===h)return this.nodes();if(this.hasNode(t))return[]}},r.prototype.predecessors=function(t){var e=this._preds[t];return e?c.keys(e):void 0},r.prototype.successors=function(t){var e=this._sucs[t];return e?c.keys(e):void 0},r.prototype.neighbors=function(t){var e=this.predecessors(t);return e?c.union(e,this.successors(t)):void 0},r.prototype.filterNodes=function(t){function e(t){var o=r.parent(t);return void 0===o||n.hasNode(o)?(i[t]=o,o):o in i?i[o]:e(o)}var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph()),c.each(this._nodes,function(e,r){t(r)&&n.setNode(r,e)},this),c.each(this._edgeObjs,function(t){n.hasNode(t.v)&&n.hasNode(t.w)&&n.setEdge(t,this.edge(t))},this);var r=this,i={};return this._isCompound&&c.each(n.nodes(),function(t){n.setParent(t,e(t))}),n},r.prototype.setDefaultEdgeLabel=function(t){return c.isFunction(t)||(t=c.constant(t)),this._defaultEdgeLabelFn=t,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return c.values(this._edgeObjs)},r.prototype.setPath=function(t,e){var n=this,r=arguments;return c.reduce(t,function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i}),this},r.prototype.setEdge=function(){var t,e,n,r,o=!1,u=arguments[0];"object"==typeof u&&null!==u&&"v"in u?(t=u.v,e=u.w,n=u.name,2===arguments.length&&(r=arguments[1],o=!0)):(t=u,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),t=""+t,e=""+e,c.isUndefined(n)||(n=""+n);var l=s(this._isDirected,t,e,n);if(c.has(this._edgeLabels,l))return o&&(this._edgeLabels[l]=r),this;if(!c.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[l]=o?r:this._defaultEdgeLabelFn(t,e,n);var h=a(this._isDirected,t,e,n);return t=h.v,e=h.w,Object.freeze(h),this._edgeObjs[l]=h,i(this._preds[e],t),i(this._sucs[t],e),this._in[e][l]=h,this._out[t][l]=h,this._edgeCount++,this},r.prototype.edge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return this._edgeLabels[r]},r.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return c.has(this._edgeLabels,r)},r.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):s(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],o(this._preds[e],t),o(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},r.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=c.values(n);return e?c.filter(r,function(t){return t.v===e}):r}},r.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=c.values(n);return e?c.filter(r,function(t){return t.w===e}):r}},r.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);return n?n.concat(this.outEdges(t,e)):void 0}},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(573),o=n(574),s=n(575),a=n(576),u=n(577);r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=s,r.prototype.has=a,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(48),i=r.Symbol;t.exports=i},function(t,e){function n(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e,n){function r(t,e,n){return i(t,e,n)}var i=n(249);t.exports=r},function(t,e,n){function r(t,e,n){if(!a(n))return!1;var r=typeof e;return("number"==r?o(n)&&s(e,n.length):"string"==r&&e in n)?i(n[e],t):!1}var i=n(72),o=n(73),s=n(99),a=n(26);t.exports=r},function(t,e,n){function r(t,e){return"number"==typeof t?!0:!i(t)&&(s.test(t)||!o.test(t)||null!=e&&t in Object(e))}var i=n(20),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e,n){function r(t){var e=t&&t.constructor,n=i(e)&&e.prototype||o;return t===n}var i=n(58),o=Object.prototype;t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(t,e,n){function r(){x&&clearTimeout(x),v&&clearTimeout(v),b=0,d=v=m=x=_=void 0}function c(e,n){n&&clearTimeout(n),v=x=_=void 0,e&&(b=o(),g=t.apply(m,d),x||v||(d=m=void 0))}function l(){var t=e-(o()-y);0>=t||t>e?c(_,v):x=setTimeout(l,t)}function h(){return(x&&_||v&&M)&&(g=t.apply(m,d)),r(),g}function f(){c(M,x)}function p(){if(d=arguments,y=o(),m=this,_=M&&(x||!w),E===!1)var n=w&&!x;else{b||v||w||(b=y);var r=E-(y-b),i=(0>=r||r>E)&&(w||v);i?(v&&(v=clearTimeout(v)),b=y,g=t.apply(m,d)):v||(v=setTimeout(f,r))}return i&&x?x=clearTimeout(x):x||e===E||(x=setTimeout(l,e)),n&&(i=!0,g=t.apply(m,d)),!i||x||v||(d=m=void 0),g}var d,v,g,y,m,x,_,b=0,w=!1,E=!1,M=!0;if("function"!=typeof t)throw new TypeError(a);return e=s(e)||0,i(n)&&(w=!!n.leading,E="maxWait"in n&&u(s(n.maxWait)||0,e),M="trailing"in n?!!n.trailing:M),p.cancel=r,p.flush=h,p}var i=n(26),o=n(603),s=n(152),a="Expected a function",u=Math.max;t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)}var i=n(73),o=n(45);t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t.length)&&!!k[R.call(t)]}var i=n(102),o=n(45),s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",h="[object Function]",f="[object Map]",p="[object Number]",d="[object Object]",v="[object RegExp]",g="[object Set]",y="[object String]",m="[object WeakMap]",x="[object ArrayBuffer]",_="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",M="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",A="[object Uint16Array]",C="[object Uint32Array]",k={};k[_]=k[b]=k[w]=k[E]=k[M]=k[S]=k[T]=k[A]=k[C]=!0,k[s]=k[a]=k[x]=k[u]=k[c]=k[l]=k[h]=k[f]=k[p]=k[d]=k[v]=k[g]=k[y]=k[m]=!1;var O=Object.prototype,R=O.toString;t.exports=r},function(t,e,n){function r(t){for(var e=-1,n=a(t),r=i(t),u=r.length,l=o(t),h=!!l,f=l||[],p=f.length;++e<u;){var d=r[e];h&&("length"==d||s(d,p))||"constructor"==d&&(n||!c.call(t,d))||f.push(d)}return f}var i=n(528),o=n(253),s=n(99),a=n(145),u=Object.prototype,c=u.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){if("function"!=typeof t)throw new TypeError(s);return e=a(void 0===e?t.length-1:o(e),0),function(){for(var n=arguments,r=-1,o=a(n.length-e,0),s=Array(o);++r<o;)s[r]=n[e+r];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}var u=Array(e+1);for(r=-1;++r<e;)u[r]=n[r];return u[e]=s,i(t,this,u)}}var i=n(230),o=n(608),s="Expected a function",a=Math.max;t.exports=r},function(t,e,n){function r(t){if(o(t)){var e=i(t.valueOf)?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=c.test(t);return n||l.test(t)?h(t.slice(2),n?2:8):u.test(t)?s:+t}var i=n(58),o=n(26),s=NaN,a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt;t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(null==t)return"";if(o(t))return i?u.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}var i=n(140),o=n(597),s=1/0,a=i?i.prototype:void 0,u=i?a.toString:void 0;t.exports=r},function(t,e){function n(t){return null!==t&&"object"==typeof t&&"function"==typeof t.then}/** @license MIT License (c) copyright 2010-2016 original author or authors */
e.isPromise=n},function(t,e){function n(t){setTimeout(function(){throw t},0)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
t.exports=n},function(t,e,n){function r(t,e){this.f=t,this.source=e}function i(t,e){this.f=t,this.sink=e}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var o=n(11),s=n(266),a=n(636),u=n(18);t.exports=r,r.create=function(t,e){return e instanceof r?new r(u.compose(t,e.f),e.source):e instanceof s?new a(e.p,t,e.source):new r(t,e)},r.prototype.run=function(t,e){return this.source.run(new i(this.f,t),e)},i.prototype.end=o.prototype.end,i.prototype.error=o.prototype.error,i.prototype.event=function(t,e){var n=this.f;this.sink.event(t,n(e))}},function(t,e){function n(t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);case 5:return t(e[0],e[1],e[2],e[3],e[4]);default:return t.apply(void 0,e)}}/** @license MIT License (c) copyright 2010-2016 original author or authors */
t.exports=n},function(t,e,n){(function(e){/** @license MIT License (c) copyright 2010-2016 original author or authors */
var r=n(640),i=n(642),o=n(641),s="object"==typeof e&&"function"==typeof e.nextTick;t.exports=new r(s?o:i)}).call(e,n(50))},function(t,e,n){function r(t,e){this.sink=e,this.index=t,this.active=!0,this.value=void 0}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var i=n(11);t.exports=r,r.prototype.event=function(t,e){this.active&&(this.value=e,this.sink.event(t,this))},r.prototype.end=function(t,e){this.active&&(this.active=!1,this.sink.end(t,{index:this.index,value:e}))},r.prototype.error=i.prototype.error},function(t,e){function n(t){var e=Object.create(null);return{on:function(n,r,i){if("function"!=typeof r)throw new Error("callback is expected to be a function");var o=e[n];return o||(o=e[n]=[]),o.push({callback:r,ctx:i}),t},off:function(n,r){var i="undefined"==typeof n;if(i)return e=Object.create(null),t;if(e[n]){var o="function"!=typeof r;if(o)delete e[n];else for(var s=e[n],a=0;a<s.length;++a)s[a].callback===r&&s.splice(a,1)}return t},fire:function(n){var r=e[n];if(!r)return t;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var o=0;o<r.length;++o){var s=r[o];s.callback.apply(s.ctx,i)}return t}}}function r(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],n=0;n<e.length;++n)if(t.hasOwnProperty(e[n]))throw new Error("Subject cannot be eventified, since it already has property '"+e[n]+"'")}t.exports=function(t){r(t);var e=n(t);return t.on=e.on,t.off=e.off,t.fire=e.fire,t}},function(t,e){function n(t,e,n){var i="[object Array]"===Object.prototype.toString.call(n);if(i)for(var o=0;o<n.length;++o)r(t,e,n[o]);else for(var s in t)r(t,e,s)}function r(t,e,n){if(t.hasOwnProperty(n)){if("function"==typeof e[n])return;e[n]=function(r){return void 0!==r?(t[n]=r,e):t[n]}}}t.exports=n},function(t,e){function n(t,e){var r;if(t||(t={}),e)for(r in e)if(e.hasOwnProperty(r)){var i=t.hasOwnProperty(r),o=typeof e[r],s=!i||typeof t[r]!==o;s?t[r]=e[r]:"object"===o&&(t[r]=n(t[r],e[r]))}return t}t.exports=n},function(t,e){function n(t){var e="number"==typeof t?t:+new Date,n=function(){return e=e+2127912214+(e<<12)&4294967295,e=4294967295&(3345072700^e^e>>>19),e=e+374761393+(e<<5)&4294967295,e=4294967295&(e+3550635116^e<<9),e=e+4251993797+(e<<3)&4294967295,e=4294967295&(3042594569^e^e>>>16),(268435455&e)/268435456};return{next:function(t){return Math.floor(n()*t)},nextDouble:function(){return n()}}}function r(t,e){var r=e||n();if("function"!=typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(e){var n,i,o;for(n=t.length-1;n>0;--n)i=r.next(n+1),o=t[i],t[i]=t[n],t[n]=o,e(o);t.length&&e(t[0])},shuffle:function(){var e,n,i;for(e=t.length-1;e>0;--e)n=r.next(e+1),i=t[n],t[n]=t[e],t[e]=i;return t}}}t.exports={random:n,randomIterator:r}},function(t,e,n){function r(t,e,n){if(s.call(this),n=n||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function i(t){return t.toString().replace("object ","")}function o(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}var s=n(40),a=n(304),u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),c=null;r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},r.prototype.load=function(t){switch(this.emit("start",this),t&&this.once("complete",t),this.crossOrigin!==!1&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case r.LOAD_TYPE.IMAGE:this._loadImage();break;case r.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case r.LOAD_TYPE.VIDEO:this._loadElement("video");break;case r.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},r.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},r.prototype._loadElement=function(t){if("audio"===t&&"undefined"!=typeof Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return this.error=new Error("Unsupported element "+t),void this.complete();if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},r.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===r.XHR_RESPONSE_TYPE.JSON||this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=r.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},r.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},r.prototype._createSource=function(t,e,n){n||(n=t+"/"+e.substr(e.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=e,r.type=n,r},r.prototype._onError=function(t){this.error=new Error("Failed to load element using "+t.target.nodeName),this.complete()},r.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},r.prototype._xhrOnError=function(){this.error=new Error(i(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},r.prototype._xhrOnAbort=function(){this.error=new Error(i(this.xhr)+" Request was aborted by the user."),this.complete()},r.prototype._xdrOnTimeout=function(){this.error=new Error(i(this.xhr)+" Request timed out."),this.complete()},r.prototype._xhrOnLoad=function(){var t=this.xhr,e=void 0!==t.status?t.status:200;if(200===e||204===e||0===e&&t.responseText.length>0)if(this.xhrType===r.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===r.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(n){this.error=new Error("Error trying to parse loaded json:",n)}else if(this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(t.responseText,"text/xml")}else{var o=document.createElement("div");o.innerHTML=t.responseText,this.data=o}this.isXml=!0}catch(n){this.error=new Error("Error trying to parse loaded xml:",n)}else this.data=t.response||t.responseText;else this.error=new Error("["+t.status+"]"+t.statusText+":"+t.responseURL);this.complete()},r.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,c||(c=document.createElement("a")),c.href=t,t=a.parse(c.href);var n=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&n&&t.protocol===e.protocol?"":"anonymous"},r.prototype._determineXhrType=function(){return r._xhrTypeMap[this._getExtension()]||r.XHR_RESPONSE_TYPE.TEXT},r.prototype._determineLoadType=function(){return r._loadTypeMap[this._getExtension()]||r.LOAD_TYPE.XHR},r.prototype._getExtension=function(){var t,e=this.url;if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var r=e.indexOf("?");-1!==r&&(e=e.substring(0,r)),t=e.substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},r.prototype._getMimeFromXhrType=function(t){switch(t){case r.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case r.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case r.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case r.XHR_RESPONSE_TYPE.JSON:return"application/json";case r.XHR_RESPONSE_TYPE.DEFAULT:case r.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},r.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},r.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},r._loadTypeMap={gif:r.LOAD_TYPE.IMAGE,png:r.LOAD_TYPE.IMAGE,bmp:r.LOAD_TYPE.IMAGE,jpg:r.LOAD_TYPE.IMAGE,jpeg:r.LOAD_TYPE.IMAGE,tif:r.LOAD_TYPE.IMAGE,tiff:r.LOAD_TYPE.IMAGE,webp:r.LOAD_TYPE.IMAGE,tga:r.LOAD_TYPE.IMAGE,"svg+xml":r.LOAD_TYPE.IMAGE},r._xhrTypeMap={xhtml:r.XHR_RESPONSE_TYPE.DOCUMENT,html:r.XHR_RESPONSE_TYPE.DOCUMENT,htm:r.XHR_RESPONSE_TYPE.DOCUMENT,xml:r.XHR_RESPONSE_TYPE.DOCUMENT,tmx:r.XHR_RESPONSE_TYPE.DOCUMENT,tsx:r.XHR_RESPONSE_TYPE.DOCUMENT,svg:r.XHR_RESPONSE_TYPE.DOCUMENT,gif:r.XHR_RESPONSE_TYPE.BLOB,png:r.XHR_RESPONSE_TYPE.BLOB,bmp:r.XHR_RESPONSE_TYPE.BLOB,jpg:r.XHR_RESPONSE_TYPE.BLOB,jpeg:r.XHR_RESPONSE_TYPE.BLOB,tif:r.XHR_RESPONSE_TYPE.BLOB,tiff:r.XHR_RESPONSE_TYPE.BLOB,webp:r.XHR_RESPONSE_TYPE.BLOB,tga:r.XHR_RESPONSE_TYPE.BLOB,json:r.XHR_RESPONSE_TYPE.JSON,text:r.XHR_RESPONSE_TYPE.TEXT,txt:r.XHR_RESPONSE_TYPE.TEXT},r.setExtensionLoadType=function(t,e){o(r._loadTypeMap,t,e)},r.setExtensionXhrType=function(t,e){o(r._xhrTypeMap,t,e)}},function(t,e){function n(t,e){this.x=t||0,this.y=e||0}n.prototype.constructor=n,t.exports=n,n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copy=function(t){this.set(t.x,t.y)},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},function(t,e,n){function r(t,e,n,r){this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this.type=i.SHAPES.RECT}var i=n(6);r.prototype.constructor=r,t.exports=r,r.EMPTY=new r(0,0,0,0),r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}},function(t,e){function n(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}n.prototype.constructor=n,t.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},n.prototype.destroy=function(){this.context=null,this.canvas=null}},function(t,e,n){var r=n(6),i={};t.exports=i,i.renderGraphics=function(t,e){var n=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var i=0;i<t.graphicsData.length;i++){var o=t.graphicsData[i],s=o.shape,a=o._fillTint,u=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===r.SHAPES.POLY){e.beginPath();var c=s.points;e.moveTo(c[0],c[1]);for(var l=1;l<c.length/2;l++)e.lineTo(c[2*l],c[2*l+1]);s.closed&&e.lineTo(c[0],c[1]),c[0]===c[c.length-2]&&c[1]===c[c.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===r.SHAPES.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===r.SHAPES.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke());else if(o.type===r.SHAPES.ELIP){var h=2*s.width,f=2*s.height,p=s.x-h/2,d=s.y-f/2;e.beginPath();var v=.5522848,g=h/2*v,y=f/2*v,m=p+h,x=d+f,_=p+h/2,b=d+f/2;e.moveTo(p,b),e.bezierCurveTo(p,b-y,_-g,d,_,d),e.bezierCurveTo(_+g,d,m,b-y,m,b),e.bezierCurveTo(m,b+y,_+g,x,_,x),e.bezierCurveTo(_-g,x,p,b+y,p,b),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===r.SHAPES.RREC){var w=s.x,E=s.y,M=s.width,S=s.height,T=s.radius,A=Math.min(M,S)/2|0;T=T>A?A:T,e.beginPath(),e.moveTo(w,E+T),e.lineTo(w,E+S-T),e.quadraticCurveTo(w,E+S,w+T,E+S),e.lineTo(w+M-T,E+S),e.quadraticCurveTo(w+M,E+S,w+M,E+S-T),e.lineTo(w+M,E+T),e.quadraticCurveTo(w+M,E,w+M-T,E),e.lineTo(w+T,E),e.quadraticCurveTo(w,E,w,E+T),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}}},i.renderGraphicsMask=function(t,e){var n=t.graphicsData.length;if(0!==n){e.beginPath();for(var i=0;n>i;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===r.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===r.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===r.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===r.SHAPES.ELIP){var c=2*s.width,l=2*s.height,h=s.x-c/2,f=s.y-l/2,p=.5522848,d=c/2*p,v=l/2*p,g=h+c,y=f+l,m=h+c/2,x=f+l/2;e.moveTo(h,x),e.bezierCurveTo(h,x-v,m-d,f,m,f),e.bezierCurveTo(m+d,f,g,x-v,g,x),e.bezierCurveTo(g,x+v,m+d,y,m,y),e.bezierCurveTo(m-d,y,h,x+v,h,x),e.closePath()}else if(o.type===r.SHAPES.RREC){var _=s.x,b=s.y,w=s.width,E=s.height,M=s.radius,S=Math.min(w,E)/2|0;M=M>S?S:M,e.moveTo(_,b+M),e.lineTo(_,b+E-M),e.quadraticCurveTo(_,b+E,_+M,b+E),e.lineTo(_+w-M,b+E),e.quadraticCurveTo(_+w,b+E,_+w,b+E-M),e.lineTo(_+w,b+M),e.quadraticCurveTo(_+w,b,_+w-M,b),e.lineTo(_+M,b),e.quadraticCurveTo(_,b,_,b+M),e.closePath()}}}},i.updateGraphicsTint=function(t){if(16777215!==t.tint||t._prevTint!==t.tint){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,r=(255&t.tint)/255,i=0;i<t.graphicsData.length;i++){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*r*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*r*255}}}},function(t,e,n){function r(t,e,n){this.shaders=[],this.padding=0,this.uniforms=n||{},this.vertexSrc=t||i.defaultVertexSrc,this.fragmentSrc=e||i.defaultFragmentSrc}var i=n(111);r.prototype.constructor=r,t.exports=r,r.prototype.getShader=function(t){var e=t.gl,n=this.shaders[e.id];return n||(n=new i(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=n),n},r.prototype.applyFilter=function(t,e,n,r){var i=this.getShader(t);t.filterManager.applyFilter(i,e,n,r)},r.prototype.syncUniform=function(t){for(var e=0,n=this.shaders.length;n>e;++e)this.shaders[e].syncUniform(t)}},function(t,e,n){function r(t,e,n,r,h){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,n=n||100,h=h||l.RESOLUTION;var f=new i;if(f.width=e,f.height=n,f.resolution=h,f.scaleMode=r||l.SCALE_MODES.DEFAULT,f.hasLoaded=!0,o.call(this,f,new c.Rectangle(0,0,e,n)),this.width=e,this.height=n,this.resolution=h,this.render=null,this.renderer=t,this.renderer.type===l.RENDERER_TYPE.WEBGL){var p=this.renderer.gl;this.textureBuffer=new s(p,this.width,this.height,f.scaleMode,this.resolution),this.baseTexture._glTextures[p.id]=this.textureBuffer.texture,this.filterManager=new a(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,n),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new u(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var i=n(113),o=n(76),s=n(112),a=n(286),u=n(167),c=n(15),l=n(6),h=new c.Matrix;r.prototype=Object.create(o.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.resize=function(t,e,n){t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,n&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},r.prototype.clear=function(){this.valid&&(this.renderer.type===l.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},r.prototype.renderWebGL=function(t,e,n,r){if(this.valid){if(r=void 0!==r?r:!0,this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=1,r){t.worldTransform.identity(),t.currentBounds=null;var i,o,s=t.children;for(i=0,o=s.length;o>i;++i)s[i].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,n),this.renderer.filterManager=a}},r.prototype.renderCanvas=function(t,e,n,r){if(this.valid){r=!!r;var i=h;i.identity(),e&&i.append(e);var o=t.worldTransform;t.worldTransform=i,t.worldAlpha=1;var s,a,u=t.children;for(s=0,a=u.length;a>s;++s)u[s].updateTransform();n&&this.textureBuffer.clear();var c=this.textureBuffer.context,l=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,c),this.renderer.resolution=l,t.worldTransform===i&&(t.worldTransform=o)}},r.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},r.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},r.prototype.getBase64=function(){return this.getCanvas().toDataURL()},r.prototype.getCanvas=function(){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.size.width,n=this.textureBuffer.size.height,r=new Uint8Array(4*e*n);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,n,t.RGBA,t.UNSIGNED_BYTE,r),t.bindFramebuffer(t.FRAMEBUFFER,null);var i=new u(e,n),o=i.context.getImageData(0,0,e,n);return o.data.set(r),i.context.putImageData(o,0,0),i.canvas}return this.textureBuffer.canvas},r.prototype.getPixels=function(){var t,e;if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var n=this.renderer.gl;t=this.textureBuffer.size.width,e=this.textureBuffer.size.height;var r=new Uint8Array(4*t*e);return n.bindFramebuffer(n.FRAMEBUFFER,this.textureBuffer.frameBuffer),n.readPixels(0,0,t,e,n.RGBA,n.UNSIGNED_BYTE,r),n.bindFramebuffer(n.FRAMEBUFFER,null),r}return t=this.textureBuffer.canvas.width,e=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,t,e).data},r.prototype.getPixel=function(t,e){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var n=this.renderer.gl,r=new Uint8Array(4);return n.bindFramebuffer(n.FRAMEBUFFER,this.textureBuffer.frameBuffer),n.readPixels(t,e,1,1,n.RGBA,n.UNSIGNED_BYTE,r),n.bindFramebuffer(n.FRAMEBUFFER,null),r}return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data}},function(t,e,n){/**
	 * @file        Main export of the PIXI extras library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
	 */
n(711),n(712),n(713),t.exports={MovieClip:n(709),TilingSprite:n(710),BitmapText:n(708)}},function(t,e,n){function r(){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n,r){var i=this.getShader(t);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(i,e,n,r);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(i,s,a,!0);var c=a;a=s,s=c}t.filterManager.applyFilter(i,s,n,r),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},function(t,e,n){var r,i;(function(n,o,s){/*!
	 * async
	 * https://github.com/caolan/async
	 *
	 * Copyright 2010-2014 Caolan McMahon
	 * Released under the MIT license
	 */
!function(){function a(){}function u(t){return t}function c(t){return!!t}function l(t){return!t}function h(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function f(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}function p(t){return Y(t)||"number"==typeof t.length&&t.length>=0&&t.length%1===0}function d(t,e){for(var n=-1,r=t.length;++n<r;)e(t[n],n,t)}function v(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function g(t){return v(Array(t),function(t,e){return e})}function y(t,e,n){return d(t,function(t,r,i){n=e(n,t,r,i)}),n}function m(t,e){d(G(t),function(n){e(t[n],n)})}function x(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function _(t){var e,n,r=-1;return p(t)?(e=t.length,function(){return r++,e>r?r:null}):(n=G(t),e=n.length,function(){return r++,e>r?n[r]:null})}function b(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;n>i;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r)}}}function w(t){return function(e,n,r){return t(e,r)}}function E(t){return function(e,n,r){r=f(r||a),e=e||[];var i=_(e);if(0>=t)return r(null);var o=!1,s=0,u=!1;!function c(){if(o&&0>=s)return r(null);for(;t>s&&!u;){var a=i();if(null===a)return o=!0,void(0>=s&&r(null));s+=1,n(e[a],a,h(function(t){s-=1,t?(r(t),u=!0):c()}))}}()}}function M(t){return function(e,n,r){return t(U.eachOf,e,n,r)}}function S(t){return function(e,n,r,i){return t(E(n),e,r,i)}}function T(t){return function(e,n,r){return t(U.eachOfSeries,e,n,r)}}function A(t,e,n,r){r=f(r||a),e=e||[];var i=p(e)?[]:{};t(e,function(t,e,r){n(t,function(t,n){i[e]=n,r(t)})},function(t){r(t,i)})}function C(t,e,n,r){var i=[];t(e,function(t,e,r){n(t,function(n){n&&i.push({index:e,value:t}),r()})},function(){r(v(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function k(t,e,n,r){C(t,e,function(t,e){n(t,function(t){e(!t)})},r)}function O(t,e,n){return function(r,i,o,s){function a(){s&&s(n(!1,void 0))}function u(t,r,i){return s?void o(t,function(r){s&&e(r)&&(s(n(!0,t)),s=o=!1),i()}):i()}arguments.length>3?t(r,i,u,a):(s=o,o=i,t(r,u,a))}}function R(t,e){return e}function D(t,e,n){n=n||a;var r=p(e)?[]:{};t(e,function(t,e,n){t(b(function(t,i){i.length<=1&&(i=i[0]),r[e]=i,n(t)}))},function(t){n(t,r)})}function P(t,e,n,r){var i=[];t(e,function(t,e,r){n(t,function(t,e){i=i.concat(e||[]),r(t)})},function(t){r(t,i)})}function F(t,e,n){function r(t,e,n,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");return t.started=!0,Y(e)||(e=[e]),0===e.length&&t.idle()?U.setImmediate(function(){t.drain()}):(d(e,function(e){var i={data:e,callback:r||a};n?t.tasks.unshift(i):t.tasks.push(i),t.tasks.length===t.concurrency&&t.saturated()}),void U.setImmediate(t.process))}function i(t,e){return function(){o-=1;var n=!1,r=arguments;d(e,function(t){d(s,function(e,r){e!==t||n||(s.splice(r,1),n=!0)}),t.callback.apply(t,r)}),t.tasks.length+o===0&&t.drain(),t.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var o=0,s=[],u={tasks:[],concurrency:e,payload:n,saturated:a,empty:a,drain:a,started:!1,paused:!1,push:function(t,e){r(u,t,!1,e)},kill:function(){u.drain=a,u.tasks=[]},unshift:function(t,e){r(u,t,!0,e)},process:function(){for(;!u.paused&&o<u.concurrency&&u.tasks.length;){var e=u.payload?u.tasks.splice(0,u.payload):u.tasks.splice(0,u.tasks.length),n=v(e,function(t){return t.data});0===u.tasks.length&&u.empty(),o+=1,s.push(e[0]);var r=h(i(u,e));t(n,r)}},length:function(){return u.tasks.length},running:function(){return o},workersList:function(){return s},idle:function(){return u.tasks.length+o===0},pause:function(){u.paused=!0},resume:function(){if(u.paused!==!1){u.paused=!1;for(var t=Math.min(u.concurrency,u.tasks.length),e=1;t>=e;e++)U.setImmediate(u.process)}}};return u}function N(t){return b(function(e,n){e.apply(null,n.concat([b(function(e,n){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&d(n,function(e){console[t](e)}))})]))})}function L(t){return function(e,n,r){t(g(e),n,r)}}function B(t){return b(function(e,n){var r=b(function(n){var r=this,i=n.pop();return t(e,function(t,e,i){t.apply(r,n.concat([i]))},i)});return n.length?r.apply(this,n):r})}function I(t){return b(function(e){var n=e.pop();e.push(function(){var t=arguments;r?U.setImmediate(function(){n.apply(null,t)}):n.apply(null,t)});var r=!0;t.apply(this,e),r=!1})}var j,U={},z="object"==typeof self&&self.self===self&&self||"object"==typeof n&&n.global===n&&n||this;null!=z&&(j=z.async),U.noConflict=function(){return z.async=j,U};var W=Object.prototype.toString,Y=Array.isArray||function(t){return"[object Array]"===W.call(t)},X=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},G=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},q="function"==typeof o&&o,H=q?function(t){q(t)}:function(t){setTimeout(t,0)};"object"==typeof s&&"function"==typeof s.nextTick?U.nextTick=s.nextTick:U.nextTick=H,U.setImmediate=q?H:U.nextTick,U.forEach=U.each=function(t,e,n){return U.eachOf(t,w(e),n)},U.forEachSeries=U.eachSeries=function(t,e,n){return U.eachOfSeries(t,w(e),n)},U.forEachLimit=U.eachLimit=function(t,e,n,r){return E(e)(t,w(n),r)},U.forEachOf=U.eachOf=function(t,e,n){function r(t){s--,t?n(t):null===i&&0>=s&&n(null)}n=f(n||a),t=t||[];for(var i,o=_(t),s=0;null!=(i=o());)s+=1,e(t[i],i,h(r));0===s&&n(null)},U.forEachOfSeries=U.eachOfSeries=function(t,e,n){function r(){var s=!0;return null===o?n(null):(e(t[o],o,h(function(t){if(t)n(t);else{if(o=i(),null===o)return n(null);s?U.setImmediate(r):r()}})),void(s=!1))}n=f(n||a),t=t||[];var i=_(t),o=i();r()},U.forEachOfLimit=U.eachOfLimit=function(t,e,n,r){E(e)(t,n,r)},U.map=M(A),U.mapSeries=T(A),U.mapLimit=S(A),U.inject=U.foldl=U.reduce=function(t,e,n,r){U.eachOfSeries(t,function(t,r,i){n(e,t,function(t,n){e=n,i(t)})},function(t){r(t,e)})},U.foldr=U.reduceRight=function(t,e,n,r){var i=v(t,u).reverse();U.reduce(i,e,n,r)},U.transform=function(t,e,n,r){3===arguments.length&&(r=n,n=e,e=Y(t)?[]:{}),U.eachOf(t,function(t,r,i){n(e,t,r,i)},function(t){r(t,e)})},U.select=U.filter=M(C),U.selectLimit=U.filterLimit=S(C),U.selectSeries=U.filterSeries=T(C),U.reject=M(k),U.rejectLimit=S(k),U.rejectSeries=T(k),U.any=U.some=O(U.eachOf,c,u),U.someLimit=O(U.eachOfLimit,c,u),U.all=U.every=O(U.eachOf,l,l),U.everyLimit=O(U.eachOfLimit,l,l),U.detect=O(U.eachOf,u,R),U.detectSeries=O(U.eachOfSeries,u,R),U.detectLimit=O(U.eachOfLimit,u,R),U.sortBy=function(t,e,n){function r(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0}U.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){return t?n(t):void n(null,v(e.sort(r),function(t){return t.value}))})},U.auto=function(t,e,n){function r(t){p.unshift(t)}function i(t){var e=x(p,t);e>=0&&p.splice(e,1)}function o(){u--,d(p.slice(0),function(t){t()})}"function"==typeof arguments[1]&&(n=e,e=null),n=f(n||a);var s=G(t),u=s.length;if(!u)return n(null);e||(e=u);var c={},l=0,h=!1,p=[];r(function(){u||n(null,c)}),d(s,function(s){function a(){return e>l&&y(v,function(t,e){return t&&c.hasOwnProperty(e)},!0)&&!c.hasOwnProperty(s)}function u(){a()&&(l++,i(u),p[p.length-1](d,c))}if(!h){for(var f,p=Y(t[s])?t[s]:[t[s]],d=b(function(t,e){if(l--,e.length<=1&&(e=e[0]),t){var r={};m(c,function(t,e){r[e]=t}),r[s]=e,h=!0,n(t,r)}else c[s]=e,U.setImmediate(o)}),v=p.slice(0,p.length-1),g=v.length;g--;){if(!(f=t[v[g]]))throw new Error("Has nonexistent dependency in "+v.join(", "));if(Y(f)&&x(f,s)>=0)throw new Error("Has cyclic dependencies")}a()?(l++,p[p.length-1](d,c)):r(u)}})},U.retry=function(t,e,n){function r(t,e){if("number"==typeof e)t.times=parseInt(e,10)||o;else{if("object"!=typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||o,t.interval=parseInt(e.interval,10)||s}}function i(t,e){function n(t,n){return function(r){t(function(t,e){r(!t||n,{err:t,result:e})},e)}}function r(t){return function(e){setTimeout(function(){e(null)},t)}}for(;u.times;){var i=!(u.times-=1);a.push(n(u.task,i)),!i&&u.interval>0&&a.push(r(u.interval))}U.series(a,function(e,n){n=n[n.length-1],(t||u.callback)(n.err,n.result)})}var o=5,s=0,a=[],u={times:o,interval:s},c=arguments.length;if(1>c||c>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=c&&"function"==typeof t&&(n=e,e=t),"function"!=typeof t&&r(u,t),u.callback=n,u.task=e,u.callback?i():i},U.waterfall=function(t,e){function n(t){return b(function(r,i){if(r)e.apply(null,[r].concat(i));else{var o=t.next();o?i.push(n(o)):i.push(e),I(t).apply(null,i)}})}if(e=f(e||a),!Y(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}return t.length?void n(U.iterator(t))():e()},U.parallel=function(t,e){D(U.eachOf,t,e)},U.parallelLimit=function(t,e,n){D(E(e),t,n)},U.series=function(t,e){D(U.eachOfSeries,t,e)},U.iterator=function(t){function e(n){function r(){return t.length&&t[n].apply(null,arguments),r.next()}return r.next=function(){return n<t.length-1?e(n+1):null},r}return e(0)},U.apply=b(function(t,e){return b(function(n){return t.apply(null,e.concat(n))})}),U.concat=M(P),U.concatSeries=T(P),U.whilst=function(t,e,n){if(n=n||a,t()){var r=b(function(i,o){i?n(i):t.apply(this,o)?e(r):n.apply(null,[null].concat(o))});e(r)}else n(null)},U.doWhilst=function(t,e,n){var r=0;return U.whilst(function(){return++r<=1||e.apply(this,arguments)},t,n)},U.until=function(t,e,n){return U.whilst(function(){return!t.apply(this,arguments)},e,n)},U.doUntil=function(t,e,n){return U.doWhilst(t,function(){return!e.apply(this,arguments)},n)},U.during=function(t,e,n){n=n||a;var r=b(function(e,r){e?n(e):(r.push(i),t.apply(this,r))}),i=function(t,i){t?n(t):i?e(r):n(null)};t(i)},U.doDuring=function(t,e,n){var r=0;U.during(function(t){r++<1?t(null,!0):e.apply(this,arguments)},t,n)},U.queue=function(t,e){var n=F(function(e,n){t(e[0],n)},e,1);return n},U.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function r(t,e,n){for(var r=-1,i=t.length-1;i>r;){var o=r+(i-r+1>>>1);n(e,t[o])>=0?r=o:i=o-1}return r}function i(t,e,i,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return t.started=!0,Y(e)||(e=[e]),0===e.length?U.setImmediate(function(){t.drain()}):void d(e,function(e){var s={data:e,priority:i,callback:"function"==typeof o?o:a};t.tasks.splice(r(t.tasks,s,n)+1,0,s),t.tasks.length===t.concurrency&&t.saturated(),U.setImmediate(t.process)})}var o=U.queue(t,e);return o.push=function(t,e,n){i(o,t,e,n)},delete o.unshift,o},U.cargo=function(t,e){return F(t,1,e)},U.log=N("log"),U.dir=N("dir"),U.memoize=function(t,e){var n={},r={},i=Object.prototype.hasOwnProperty;e=e||u;var o=b(function(o){var s=o.pop(),a=e.apply(null,o);i.call(n,a)?U.setImmediate(function(){s.apply(null,n[a])}):i.call(r,a)?r[a].push(s):(r[a]=[s],t.apply(null,o.concat([b(function(t){n[a]=t;var e=r[a];delete r[a];for(var i=0,o=e.length;o>i;i++)e[i].apply(null,t)})])))});return o.memo=n,o.unmemoized=t,o},U.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},U.times=L(U.map),U.timesSeries=L(U.mapSeries),U.timesLimit=function(t,e,n,r){return U.mapLimit(g(t),e,n,r)},U.seq=function(){var t=arguments;return b(function(e){var n=this,r=e[e.length-1];"function"==typeof r?e.pop():r=a,U.reduce(t,e,function(t,e,r){e.apply(n,t.concat([b(function(t,e){r(t,e)})]))},function(t,e){r.apply(n,[t].concat(e))})})},U.compose=function(){return U.seq.apply(null,Array.prototype.reverse.call(arguments))},U.applyEach=B(U.eachOf),U.applyEachSeries=B(U.eachOfSeries),U.forever=function(t,e){function n(t){return t?r(t):void i(n)}var r=h(e||a),i=I(t);n()},U.ensureAsync=I,U.constant=b(function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}}),U.wrapSync=U.asyncify=function(t){return b(function(e){var n,r=e.pop();try{n=t.apply(this,e)}catch(i){return r(i)}X(n)&&"function"==typeof n.then?n.then(function(t){r(null,t)})["catch"](function(t){r(t.message?t:new Error(t))}):r(null,n)})},"object"==typeof t&&t.exports?t.exports=U:(r=[],i=function(){return U}.apply(e,r),!(void 0!==i&&(t.exports=i)))}()}).call(e,function(){return this}(),n(107).setImmediate,n(50))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(41),o=r(i),s=n(27),a=r(s),u=n(16),c=r(u),l=n(22),h=r(l),f=n(29),p=r(f),d=n(28),v=r(d),g=n(38),y=r(g),m=n(261),x=r(m),_=n(21),b=r(_),w=n(39)("poincare:events"),Events=function(t){function Events(t,e){(0,c["default"])(this,Events);var n=(0,p["default"])(this,(0,a["default"])(Events).call(this));return n._options=(0,o["default"])({mouseRadius:20},e||{}),n._pn=t,n._throttledFind=(0,x["default"])(n._findNearestObjects.bind(n),20),n._focusedItem=null,n._installMouseHandlers(),n}return(0,v["default"])(Events,t),(0,h["default"])(Events,[{key:"_installMouseHandlers",value:function(){var t=this,e=this._pn.container();y["default"].select(e).on("mousemove.events",function(){var n=y["default"].mouse(e);t._throttledFind(n)}).on("click.events",function(){return w("CLICK"),y["default"].event.defaultPrevented?void 0:null!=t._focusedItem?(y["default"].event.stopImmediatePropagation(),t._pn.emit(t._focusedItem.type+"click",t._focusedItem.id),!1):void 0}).on("contextmenu.events",function(){return w("CONTEXTMENU"),y["default"].event.defaultPrevented?void 0:null!=t._focusedItem?(y["default"].event.preventDefault(),t._pn.emit(t._focusedItem.type+"menu",t._focusedItem.id),!1):void 0}).on("mousedown.events",function(){w("MOUSEDOWN"),null!=t._focusedItem&&y["default"].event.stopImmediatePropagation()})}},{key:"_findNearestObjects",value:function(t){var e=this._pn,n=e.zoom.containerToGraphPoint(t),r=e.zoom.scale(),i=this._options.mouseRadius,o=r>1?i/r:i*r,s=e.radius.nearest(n,o),a=e.lineindex.nearest(n,o),u=null;s?u={id:s,type:"node"}:a&&(u={id:a,type:"link"});var c=this._focusedItem;null==u&&null==c||(null==u&&null!=c?(e.emit(c.type+"out",c.id),e.emit("itemblur")):null!=u&&null==c?(e.emit(u.type+"over",u.id),e.emit("itemfocus")):u.id===c.id&&u.type===c.type||(e.emit(c.type+"out",c.id),e.emit(u.type+"over",u.id)),this._focusedItem=u)}}]),Events}(b["default"]);e["default"]=Events,Events.priority=0,"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.plugins&&(window.poincare.plugins={}),window.poincare.plugins.Events=Events)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Transitioner=void 0;var i=n(180),o=r(i),s=n(22),a=r(s),u=n(27),c=r(u),l=n(16),h=r(l),f=n(29),p=r(f),d=n(28),v=r(d),g=n(303),y=r(g),m=n(21),x=r(m),_=n(59),b=n(39)("poincare:transitioner"),Tween=function(t){function Tween(t,e){(0,h["default"])(this,Tween);var n=(0,p["default"])(this,(0,c["default"])(Tween).call(this));return t.on("frame",y["default"].update.bind(y["default"])),n}return(0,v["default"])(Tween,t),Tween}(x["default"]);e["default"]=Tween;var w=function(){function t(e){(0,h["default"])(this,t),this._pn=e,this._current=[],this._props={},this._tweens={},this._duration=250,this._easing=y["default"].Easing.Linear.None,this._backEasing=this._easing,this._backDuration=this._duration,this._subscribed=!1,this._bindedRender=this._render.bind(this),this._createTweenBinded=this._createTween.bind(this),this._rollbackTweenBinded=this._rollbackTween.bind(this)}return(0,a["default"])(t,[{key:"render",value:function(t){return this._renderItem=t,this}},{key:"from",value:function(t){return this._initProp=t,this}},{key:"to",value:function(t){return this._destProp=t,this}},{key:"easing",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this._easing=t,this._backEasing=null!=e?e:t,this}},{key:"duration",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this._duration=t,this._backDuration=null!=e?e:t,this}},{key:"_removeTween",value:function(t){b("remove tween",t),this._tweens[t].stop(),y["default"].remove(this._tweens[t])}},{key:"_createTween",value:function(t){t in this._tweens?this._removeTween(t):this._props[t]=this._initProp(),this._tweens[t]=new y["default"].Tween(this._props[t]).to(this._destProp(),this._duration).easing(this._easing).start()}},{key:"_removeProp",value:function(t){delete this._props[t],delete this._tweens[t],0===(0,o["default"])(this._props).length&&this._unsubscribe()}},{key:"_rollbackTween",value:function(t){var e=this;this._removeTween(t);var n=this._tweens[t]=new y["default"].Tween(this._props[t]).easing(this._backEasing).to(this._initProp(),this._backDuration).onComplete(function(){n===e._tweens[t]&&e._removeProp(t)}).start()}},{key:"_createNewTweens",value:function(t){t.length>0&&t.forEach(this._createTweenBinded)}},{key:"_rollbackRemovedTweens",value:function(t){t.length>0&&t.forEach(this._rollbackTweenBinded)}},{key:"_subscribe",value:function(){this._subscribed||(this._pn.on("frame",this._bindedRender,this),this._subscribed=!0,b("Subscribed to rendering"))}},{key:"_unsubscribe",value:function(){this._subscribed&&(this._subscribed=!1,this._pn.off("frame",this._bindedRender,this),b("Unsubscribed from rendering"))}},{key:"beforeRendering",value:function(t){return this._beforeRendering=t,this}},{key:"_render",value:function(){var t=this,e=this._pn._core,n=e.xScale,r=e.yScale;this._beforeRendering(),(0,o["default"])(this._props).forEach(function(e){var i=t._props[e];t._renderItem(e,i,n,r)})}},{key:"transition",value:function(t){var e=(0,_.venn)(this._current,t);this._current=t,this._createNewTweens(e.added),this._rollbackRemovedTweens(e.removed),this._subscribe()}}]),t}();e.Transitioner=w,"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.plugins&&(window.poincare.plugins={}),window.poincare.plugins.Tween=Tween)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(41),o=r(i),s=n(27),a=r(s),u=n(16),c=r(u),l=n(22),h=r(l),f=n(29),p=r(f),d=n(28),v=r(d),g=n(38),y=r(g),m=n(147),x=(r(m),n(261)),_=(r(x),n(21)),b=r(_),w=n(39)("poincare:zoom"),Zoom=function(t){function Zoom(t,e){(0,c["default"])(this,Zoom);var n=(0,p["default"])(this,(0,a["default"])(Zoom).call(this));n._options=(0,o["default"])({min:0,max:1/0},e||{});var r=n._zoom=y["default"].behavior.zoom(),i=n._$container=y["default"].select(t._container);n._group=t._core._group;n._pn=t,r(i),r.scaleExtent([n._options.min,n._options.max]),r.size([200,200]),t.on("dimensions",function(e){r.size(e),t.emit("viewreset",r.translate(),r.scale())}),r.x(t._core.xScale),r.y(t._core.yScale);var s=void 0,u=function(){null!=s&&(clearTimeout(s),s=null)},l=function(){u(),s=setTimeout(function(){t.emit("viewreset",r.translate(),r.scale()),s=null},40)};return r.on("zoomstart",function(){u()}),r.on("zoomend",function(){l()}),n._wasSwitch=!1,n}return(0,v["default"])(Zoom,t),(0,h["default"])(Zoom,[{key:"scale",value:function(){return this._zoom.scale()}},{key:"bbox",value:function(){var t=this._zoom.translate(),e=this._zoom.scale(),n=this._pn.size();return{x:-t[0]/e,y:-t[1]/e,w:n[0]/e,h:n[1]/e}}},{key:"truncatedScale",value:function(){return Math.min(this._zoom.scale(),1)}},{key:"alignToCenter",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this.transform(this._pn.size().map(function(t){return t/2}),null,t)}},{key:"transform",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];null==t&&null==e||(w("Transforming to %o / %o",t||this._zoom.translate(),e||this._zoom.scale()),n?(this._pn._core.stop(),null!=t&&this._zoom.translate(t),null!=e&&this._zoom.scale(e),this._zoom.event(y["default"].transition().duration(1e3)),this._pn._core.run()):(null!=t&&this._zoom.translate(t),null!=e&&this._zoom.scale(e),this._zoom.event(y["default"].transition().duration(0))))}},{key:"fitBounds",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?100:arguments[1],n=arguments.length<=2||void 0===arguments[2]?3:arguments[2],r=this._pn._dims,i=r.map(function(t){return t-2*e}),o=r.map(function(t){return t/2}),s=t.width,a=t.height,u=t.x,c=t.y,l=function(t,e,n,r){var i=t/n;return r*i>=e&&(i=e/r*i*i),i},h=s>a?l(i[0],i[1],s,a):l(i[1],i[0],a,s);h=Math.min(h,n);var f=[(u+s/2)*h,(c+a/2)*h],p=o.map(function(t,e){return t-f[e]});this.transform(p,h)}},{key:"containerToGraphPoint",value:function(t){return[this._pn._core.xScale.invert(t[0]),this._pn._core.yScale.invert(t[1])]}},{key:"zoomNodes",value:function(t){var e=this,n=8,r=t.map(function(t){return e._pn._core.node(t).pos}),i=y["default"].extent(r,function(t){return t.x}),o=y["default"].extent(r,function(t){return t.y}),s={x:i[0]-n,y:o[0]-n,width:i[1]-i[0]+2*n,height:o[1]-o[0]+2*n};this.fitBounds(s)}},{key:"unplug",value:function(){this._zoom.on("zoom",null),this._$container.on(".zoom",null)}}]),Zoom}(b["default"]);"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.plugins&&(window.poincare.plugins={}),window.poincare.plugins.Zoom=Zoom),e["default"]=Zoom},function(t,e,n){t.exports={"default":n(332),__esModule:!0}},function(t,e,n){t.exports={"default":n(333),__esModule:!0}},function(t,e,n){t.exports={"default":n(338),__esModule:!0}},function(t,e,n){t.exports={"default":n(340),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(41),o=r(i);e["default"]=o["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(325),o=r(i),s=n(178),a=r(s);e["default"]=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=(0,a["default"])(t);!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,o["default"])(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i="function"==typeof _Symbol&&"symbol"==typeof _Symbol$iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof _Symbol&&t.constructor===_Symbol?"symbol":typeof t};e.__esModule=!0;var o=n(329),s=r(o),a=n(328),u=r(a);e["default"]="function"==typeof u["default"]&&"symbol"===i(s["default"])?function(t){return"undefined"==typeof t?"undefined":i(t)}:function(t){return t&&"function"==typeof u["default"]&&t.constructor===u["default"]?"symbol":"undefined"==typeof t?"undefined":i(t)}},function(t,e,n){var r=n(121);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(52),i=n(23)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(60);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var s=t["return"];throw void 0!==s&&r(s.call(t)),o}}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=!0},function(t,e,n){var r=n(34),i=n(17),o=n(63);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",s)}},function(t,e,n){var r=n(125);t.exports=function(t,e){for(var n in e)r(t,n,e[n]);return t}},function(t,e,n){var r=n(64),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError(n+": use the 'new' operator!");return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(193),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){},function(t,e,n){var r=n(33),i=n(25),o=n(70);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if(a=u[l++],a!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l;return!t&&-1}}},function(t,e,n){"use strict";var r=n(3),i=n(37),o=n(91),s=n(35),a=n(93),u=n(36),c=n(67),l=n(130),h=n(209),f=n(55)("id"),p=n(24),d=n(5),v=n(92),g=n(30),y=Object.isExtensible||d,m=g?"_s":"size",x=0,_=function(t,e){if(!d(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!p(t,f)){if(!y(t))return"F";if(!e)return"E";i(t,f,++x)}return"O"+t[f]},b=function(t,e){var n,r=_(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,i){var l=t(function(t,o){a(t,l,e),t._i=r.create(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=o&&c(o,n,t[i],t)});return o(l.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[m]=0},"delete":function(t){var e=this,n=b(e,t);if(n){var r=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e._f==n&&(e._f=r),e._l==n&&(e._l=i),e[m]--}return!!n},forEach:function(t){for(var e,n=s(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!b(this,t)}}),g&&r.setDesc(l.prototype,"size",{get:function(){return u(this[m])}}),l},def:function(t,e,n){var r,i,o=b(t,e);return o?o.v=n:(t._l=o={i:i=_(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:b,setStrong:function(t,e,n){l(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?h(0,n.k):"values"==e?h(0,n.v):h(0,[n.k,n.v]):(t._t=void 0,h(1))},n?"entries":"values",!n,!0),v(e)}}},function(t,e,n){var r=n(67),i=n(86);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");var e=[];return r(this,!1,e.push,e),e}}},function(t,e,n){"use strict";var r=n(37),i=n(91),o=n(8),s=n(5),a=n(93),u=n(67),c=n(85),l=n(24),h=n(55)("weak"),f=Object.isExtensible||s,p=c(5),d=c(6),v=0,g=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},m=function(t,e){return p(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=m(this,t);return e?e[1]:void 0},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},"delete":function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var o=t(function(t,i){a(t,o,e),t._i=v++,t._l=void 0,void 0!=i&&u(i,n,t[r],t)});return i(o.prototype,{"delete":function(t){return s(t)?f(t)?l(t,h)&&l(t[h],this._i)&&delete t[h][this._i]:g(this)["delete"](t):!1},has:function(t){return s(t)?f(t)?l(t,h)&&l(t[h],this._i):g(this).has(t):!1}}),o},def:function(t,e,n){return f(o(e))?(l(e,h)||r(e,h,{}),e[h][t._i]=n):g(t).set(e,n),t},frozenStore:g,WEAK:h}},function(t,e,n){var r=n(5),i=n(10).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){"use strict";var r=n(8);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(33),i=n(3).getNames,o={}.toString,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return s.slice()}};t.exports.get=function(t){return s&&"[object Window]"==o.call(t)?a(t):i(r(t))}},function(t,e,n){t.exports=n(10).document&&document.documentElement},function(t,e,n){var r=n(68),i=n(9)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(5),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){var r=n(5),i=n(42),o=n(9)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(8);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var s=t["return"];throw void 0!==s&&r(s.call(t)),o}}},function(t,e,n){"use strict";var r=n(3),i=n(47),o=n(69),s={};n(37)(s,n(9)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r.create(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&1e-8>t?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(3),i=n(33),o=r.isEnum;t.exports=function(t){return function(e){for(var n,s=i(e),a=r.getKeys(s),u=a.length,c=0,l=[];u>c;)o.call(s,n=a[c++])&&l.push(t?[n,s[n]]:s[n]);return l}}},function(t,e,n){var r=n(3),i=n(8),o=n(10).Reflect;t.exports=o&&o.ownKeys||function(t){var e=r.getNames(i(t)),n=r.getSymbols;return n?e.concat(n(t)):e}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,n){var r=n(10),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(25),i=n(216),o=n(36);t.exports=function(t,e,n,s){var a=String(o(t)),u=a.length,c=void 0===n?" ":String(n),l=r(e);if(u>=l)return a;""==c&&(c=" ");var h=l-u,f=i.call(c,Math.ceil(h/c.length));return f.length>h&&(f=f.slice(0,h)),s?f+a:a+f}},function(t,e,n){"use strict";var r=n(71),i=n(36);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(0>o||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){var r,i,o,s=n(35),a=n(89),u=n(203),c=n(200),l=n(10),h=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=0,g={},y="onreadystatechange",m=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},x=function(t){m.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++v]=function(){a("function"==typeof t?t:Function(t),e)},r(v),v},p=function(t){delete g[t]},"process"==n(42)(h)?r=function(t){h.nextTick(s(m,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=x,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",x,!1)):r=y in c("script")?function(t){u.appendChild(c("script"))[y]=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(s(m,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){var r=n(86),i=n(9)("iterator"),o=n(68);t.exports=n(43).getIteratorMethod=function(t){return void 0!=t?t[i]||t["@@iterator"]||o[r(t)]:void 0}},function(t,e,n){"use strict";var r=n(54),i=n(209),o=n(68),s=n(33);t.exports=n(130)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){var r=n(500);t.exports={Graph:r.Graph,json:n(227),alg:n(495),version:r.version}},function(t,e,n){function r(t,e,n){o.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),s=[],a={};return o.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);
i(t,e,"post"===n,a,r,s)}),s}function i(t,e,n,r,s,a){o.has(r,e)||(r[e]=!0,n||a.push(e),o.each(s(e),function(e){i(t,e,n,r,s,a)}),n&&a.push(e))}var o=n(19);t.exports=r},function(t,e,n){function r(t,e,n,r){return i(t,String(e),n||a,r||function(e){return t.outEdges(e)})}function i(t,e,n,r){var i,o,a={},u=new s,c=function(t){var e=t.v!==i?t.v:t.w,r=a[e],s=n(t),c=o.distance+s;if(0>s)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+s);c<r.distance&&(r.distance=c,r.predecessor=i,u.decrease(e,c))};for(t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;a[t]={distance:n},u.add(t,n)});u.size()>0&&(i=u.removeMin(),o=a[i],o.distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return a}var o=n(19),s=n(226);t.exports=r;var a=o.constant(1)},function(t,e,n){function r(t){function e(a){var u=o[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),t.successors(a).forEach(function(t){i.has(o,t)?o[t].onStack&&(u.lowlink=Math.min(u.lowlink,o[t].index)):(e(t),u.lowlink=Math.min(u.lowlink,o[t].lowlink))}),u.lowlink===u.index){var c,l=[];do c=r.pop(),o[c].onStack=!1,l.push(c);while(a!==c);s.push(l)}}var n=0,r=[],o={},s=[];return t.nodes().forEach(function(t){i.has(o,t)||e(t)}),s}var i=n(19);t.exports=r},function(t,e,n){function r(t){function e(a){if(o.has(r,a))throw new i;o.has(n,a)||(r[a]=!0,n[a]=!0,o.each(t.predecessors(a),e),delete r[a],s.push(a))}var n={},r={},s=[];if(o.each(t.sinks(),e),o.size(n)!==t.nodeCount())throw new i;return s}function i(){}var o=n(19);t.exports=r,r.CycleException=i},function(t,e,n){function r(){this._arr=[],this._keyIndices={}}var i=n(19);t.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(t){return t.key})},r.prototype.has=function(t){return i.has(this._keyIndices,t)},r.prototype.priority=function(t){var e=this._keyIndices[t];return void 0!==e?this._arr[e].priority:void 0},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!i.has(n,t)){var r=this._arr,o=r.length;return n[t]=o,r.push({key:t,priority:e}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},r.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},r.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},r.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&(e=t>>1,!(n[e].priority<r));)this._swap(t,e),t=e},r.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e}},function(t,e,n){function r(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:o(t)};return a.isUndefined(t.graph())||(e.value=a.clone(t.graph())),e}function i(t){return a.map(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return a.isUndefined(n)||(i.value=n),a.isUndefined(r)||(i.parent=r),i})}function o(t){return a.map(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return a.isUndefined(e.name)||(r.name=e.name),a.isUndefined(n)||(r.value=n),r})}function s(t){var e=new u(t.options).setGraph(t.value);return a.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),a.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}var a=n(19),u=n(138);t.exports={write:r,read:s}},function(t,e,n){var r=n(97),i=n(48),o=r(i,"Set");t.exports=o},function(t,e,n){var r=n(48),i=r.Uint8Array;t.exports=i},function(t,e){function n(t,e,n){var r=n.length;switch(r){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e){function n(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}t.exports=n},function(t,e,n){function r(t,e,n){(void 0===n||i(t[e],n))&&("number"!=typeof e||void 0!==n||e in t)||(t[e]=n)}var i=n(72);t.exports=r},function(t,e,n){function r(t,e,n){var r=t[e];s.call(t,e)&&i(r,n)&&(void 0!==n||e in t)||(t[e]=n)}var i=n(72),o=Object.prototype,s=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=i(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():s.call(t,n,1),!0}var i=n(96),o=Array.prototype,s=o.splice;t.exports=r},function(t,e,n){function r(t,e){var n=i(t,e);return 0>n?void 0:t[n][1]}var i=n(96);t.exports=r},function(t,e,n){function r(t,e){return i(t,e)>-1}var i=n(96);t.exports=r},function(t,e,n){function r(t,e,n){var r=i(t,e);0>r?t.push([e,n]):t[r][1]=n}var i=n(96);t.exports=r},function(t,e,n){function r(t){return i(t)?t:o(t)}var i=n(20),o=n(586);t.exports=r},function(t,e,n){function r(t,e,n,u){u||(u=[]);for(var c=-1,l=t.length;++c<l;){var h=t[c];e>0&&a(h)&&(n||s(h)||o(h))?e>1?r(h,e-1,n,u):i(u,h):n||(u[u.length]=h)}return u}var i=n(514),o=n(101),s=n(20),a=n(148);t.exports=r},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(522),o=n(74);t.exports=r},function(t,e,n){function r(t,e){e=o(e,t)?[e+""]:i(e);for(var n=0,r=e.length;null!=t&&r>n;)t=t[e[n++]];return n&&n==r?t:void 0}var i=n(239),o=n(144);t.exports=r},function(t,e){function n(t,e){return i.call(t,e)||"object"==typeof t&&e in t&&null===o(t)}var r=Object.prototype,i=r.hasOwnProperty,o=Object.getPrototypeOf;t.exports=n},function(t,e,n){function r(t,e,n,a,u){return t===e?!0:null==t||null==e||!o(t)&&!s(e)?t!==t&&e!==e:i(t,e,r,n,a,u)}var i=n(525),o=n(26),s=n(45);t.exports=r},function(t,e,n){function r(t){var e=typeof t;return"function"==e?t:null==t?s:"object"==e?a(t)?o(t[0],t[1]):i(t):u(t)}var i=n(530),o=n(531),s=n(593),a=n(20),u=n(604);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){var e=t.constructor,n=new e(t.byteLength),r=new i(n);return r.set(new i(t)),n}var i=n(229);t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function r(t,e,n,r){n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=r?r(n[a],t[a],a,n,t):t[a];i(n,a,u)}return n}var i=n(234);t.exports=r},function(t,e,n){function r(t){return o(function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s="function"==typeof s?(o--,s):void 0,a&&i(n[0],n[1],a)&&(s=3>o?void 0:s,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,s)}return e})}var i=n(143),o=n(151);t.exports=r},function(t,e,n){function r(t){return p.call(t)}var i=n(56),o=n(228),s=n(509),a="[object Map]",u="[object Object]",c="[object Set]",l="[object WeakMap]",h=Object.prototype,f=Function.prototype.toString,p=h.toString,d=i?f.call(i):"",v=o?f.call(o):"",g=s?f.call(s):"";(i&&r(new i)!=a||o&&r(new o)!=c||s&&r(new s)!=l)&&(r=function(t){var e=p.call(t),n=e==u?t.constructor:null,r="function"==typeof n?f.call(n):"";if(r)switch(r){case d:return a;case v:return c;case g:return l}return e}),t.exports=r},function(t,e,n){function r(t,e){return i?void 0!==t[e]:s.call(t,e)}var i=n(100),o=Object.prototype,s=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=t?t.length:void 0;return a(e)&&(s(t)||u(t)||o(t))?i(e,String):null}var i=n(537),o=n(101),s=n(20),a=n(102),u=n(258);t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e){var n=/<%=([\s\S]+?)%>/g;t.exports=n},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(242);t.exports=r},function(t,e,n){function r(t){return i(t)?a.call(t)==o||"string"==typeof t.message&&"string"==typeof t.name:!1}var i=n(45),o="[object Error]",s=Object.prototype,a=s.toString;t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||!i(t)&&o(t)&&u.call(t)==s}var i=n(20),o=n(45),s="[object String]",a=Object.prototype,u=a.toString;t.exports=r},function(t,e,n){function r(t,e){var n=a(t)?i:s;return n(t,o(e,3))}var i=n(141),o=n(245),s=n(529),a=n(20);t.exports=r},function(t,e,n){var r=n(532),i=n(250),o=i(function(t,e,n){r(t,e,n)});t.exports=o},function(t,e,n){function r(t,e,n){var r=!0,a=!0;if("function"!=typeof t)throw new TypeError(s);return o(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),i(t,e,{leading:r,maxWait:e,trailing:a})}var i=n(147),o=n(26),s="Expected a function";t.exports=r},function(t,e,n){function r(t){return i(t,m(arguments))}function i(t,e){var n=e.length;return 0===n?h.empty():1===n?l.map(t,e[0]):new c(o(t,e))}function o(t,e){return new a(t,y(s,e))}function s(t){return t.source}function a(t,e){this.f=t,this.sources=e}function u(t,e,n,r){this.sink=n,this.disposables=t,this.sinks=e,this.f=r;var i=e.length;this.awaiting=i,this.values=new Array(i),this.hasValue=new Array(i);for(var o=0;i>o;++o)this.hasValue[o]=!1;this.activeCount=e.length}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var c=n(4),l=n(104),h=n(49),f=n(11),p=n(159),d=n(7),v=n(18),g=n(157),y=v.map,m=v.tail;e.combineArray=i,e.combine=r,a.prototype.run=function(t,e){for(var n,r=this.sources.length,i=new Array(r),o=new Array(r),s=new u(i,o,t,this.f),a=0;r>a;++a)n=o[a]=new p(a,s),i[a]=this.sources[a].run(n,e);return d.all(i)},u.prototype.error=f.prototype.error,u.prototype.event=function(t,e){var n=e.index,r=this._updateReady(n);this.values[n]=e.value,0===r&&this.sink.event(t,g(this.f,this.values))},u.prototype._updateReady=function(t){return this.awaiting>0&&(this.hasValue[t]||(this.hasValue[t]=!0,this.awaiting-=1)),this.awaiting},u.prototype.end=function(t,e){d.tryDispose(t,this.disposables[e.index],this.sink),0===--this.activeCount&&this.sink.end(t,e.value)}},function(t,e,n){function r(t,e){return new s(new i(t,e.source))}function i(t,e){this.f=t,this.source=e}function o(t,e,n,r){this.f=t,this.sink=n,this.scheduler=r,this.active=!0,this.disposable=u.once(e.run(this,r))}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var s=n(4),a=n(11),u=n(7);n(154).isPromise;e.continueWith=r,i.prototype.run=function(t,e){return new o(this.f,this.source,t,e)},o.prototype.error=a.prototype.error,o.prototype.event=function(t,e){this.active&&this.sink.event(t,e)},o.prototype.end=function(t,e){this.active&&(u.tryDispose(t,this.disposable,this.sink),this._startNext(t,e,this.sink))},o.prototype._startNext=function(t,e,n){try{this.disposable=this._continue(this.f,e,n)}catch(r){n.error(t,r)}},o.prototype._continue=function(t,e,n){return t(e).source.run(n,this.scheduler)},o.prototype.dispose=function(){return this.active=!1,this.disposable.dispose()}},function(t,e,n){function r(t,e){return s(t,1/0,e)}function i(t){return o(1/0,t)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var o=n(103).mergeConcurrently,s=n(103).mergeMapConcurrently;e.flatMap=r,e.join=i},function(t,e){function n(t){return Promise.resolve(t).then(r)}function r(t){try{return t.run()}catch(e){return t.error(e)}}/** @license MIT License (c) copyright 2010-2016 original author or authors */
t.exports=n},function(t,e,n){function r(t,e){this.p=t,this.source=e}function i(t,e){this.p=t,this.sink=e}function o(t,e){return function(n){return t(n)&&e(n)}}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var s=n(11);t.exports=r,r.create=function(t,e){return e instanceof r?new r(o(e.p,t),e.source):new r(t,e)},r.prototype.run=function(t,e){return this.source.run(new i(this.p,t),e)},i.prototype.end=s.prototype.end,i.prototype.error=s.prototype.error,i.prototype.event=function(t,e){var n=this.p;n(e)&&this.sink.event(t,e)}},function(t,e){function n(t){return"function"==typeof t[o]}function r(t){return t[o]()}function i(t,e){return e[o]=t,e}/** @license MIT License (c) copyright 2010-2016 original author or authors */
e.isIterable=n,e.getIterator=r,e.makeIterable=i;var o;o="function"==typeof Set&&"function"==typeof(new Set)["@@iterator"]?"@@iterator":"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_"},function(t,e,n){function r(t){return i(t,c)}function i(t,e){return new Promise(function(n,r){o(t,e,n,r)})}function o(t,e,n,r){var i=u.settable(),o=new s(n,r,i);i.setDisposable(t.run(o,e))}function s(t,e,n){this._end=t,this._error=e,this._disposable=n,this.active=!0}function a(t,e,n,r){Promise.resolve(n.dispose()).then(function(){t(r)},e)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var u=n(7),c=n(158);e.withDefaultScheduler=r,e.withScheduler=i,s.prototype.event=function(t,e){},s.prototype.end=function(t,e){this.active&&(this.active=!1,a(this._end,this._error,this._disposable,e))},s.prototype.error=function(t,e){this.active=!1,a(this._error,this._error,this._disposable,e)}},function(t,e,n){function r(t){this.sink=t,this.events=[],this.active=!0}function i(t,e){this.sink=t,this.events=e}function o(t,e,n){this.time=t,this.value=e,this.sink=n}function s(t,e,n){this.time=t,this.value=e,this.sink=n}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var a=n(265);t.exports=r,r.prototype.event=function(t,e){this.active&&(0===this.events.length&&a(new i(this.sink,this.events)),this.events.push({time:t,value:e}))},r.prototype.error=function(t,e){this._end(new s(t,e,this.sink))},r.prototype.end=function(t,e){this._end(new o(t,e,this.sink))},r.prototype._end=function(t){this.active=!1,this.events=void 0,a(t)},i.prototype.run=function(){for(var t,e=this.events,n=this.sink,r=0,i=e.length;i>r;++r)t=e[r],n.event(t.time,t.value);e.length=0},i.prototype.error=function(t){this.sink.error(0,t)},o.prototype.run=function(){this.sink.end(this.time,this.value)},o.prototype.error=function(t){this.sink.error(this.time,t)},s.prototype.run=function(){this.sink.error(this.time,this.value)},s.prototype.error=function(t){throw t}},function(t,e,n){function r(t){function e(){function t(){return W.beginUpdate=U=S,W.endUpdate=z=T,I=n,j=r,W.on=e,e.apply(W,arguments)}var e=W.on;W.on=t}function n(t,e){B.push({link:t,changeType:e})}function r(t,e){B.push({node:t,changeType:e})}function u(t,e){if(void 0===t)throw new Error("Invalid node identifier");U();var n=h(t);return n?j(n,"update"):(n=new o(t),P++,j(n,"add")),n.data=e,O[t]=n,z(),n}function h(t){return O[t]}function f(t){var e=h(t);if(!e)return!1;if(U(),e.links)for(;e.links.length;){var n=e.links[0];y(n)}return delete O[t],P--,j(e,"remove"),z(),!0}function p(t,e,n){U();var r=h(t)||u(t),i=h(e)||u(e),o=L(t,e,n);return R.push(o),s(r,o),t!==e&&s(i,o),I(o,"add"),z(),o}function d(t,e,n){var r=c(t,e);return new a(t,e,n,r)}function v(t,e,n){var r=c(t,e),i=D.hasOwnProperty(r);if(i||m(t,e)){i||(D[r]=0);var o="@"+ ++D[r];r=c(t+o,e+o)}return new a(t,e,n,r)}function g(t){var e=h(t);return e?e.links:null}function y(t){if(!t)return!1;var e=i(t,R);if(0>e)return!1;U(),R.splice(e,1);var n=h(t.fromId),r=h(t.toId);return n&&(e=i(t,n.links),e>=0&&n.links.splice(e,1)),r&&(e=i(t,r.links),e>=0&&r.links.splice(e,1)),I(t,"remove"),z(),!0}function m(t,e){var n,r=h(t);if(!r||!r.links)return null;for(n=0;n<r.links.length;++n){var i=r.links[n];if(i.fromId===t&&i.toId===e)return i}return null}function x(){U(),N(function(t){f(t.id)}),z()}function _(t){var e,n;if("function"==typeof t)for(e=0,n=R.length;n>e;++e)t(R[e])}function b(t,e,n){var r=h(t);return r&&r.links&&"function"==typeof e?n?E(r.links,t,e):w(r.links,t,e):void 0}function w(t,e,n){for(var r,i=0;i<t.length;++i){var o=t[i],s=o.fromId===e?o.toId:o.fromId;if(r=n(O[s],o))return!0}}function E(t,e,n){for(var r,i=0;i<t.length;++i){var o=t[i];if(o.fromId===e&&(r=n(O[o.toId],o)))return!0}}function M(){}function S(){F+=1}function T(){F-=1,0===F&&B.length>0&&(W.fire("changed",B),B.length=0)}function A(){return Object.keys?C:k}function C(t){if("function"==typeof t)for(var e=Object.keys(O),n=0;n<e.length;++n)if(t(O[e[n]]))return!0}function k(t){if("function"==typeof t){var e;for(e in O)if(t(O[e]))return!0}}t=t||{},void 0===t.uniqueLinkId&&(t.uniqueLinkId=!0);var O="function"==typeof Object.create?Object.create(null):{},R=[],D={},P=0,F=0,N=A(),L=t.uniqueLinkId?v:d,B=[],I=M,j=M,U=M,z=M,W={addNode:u,addLink:p,removeLink:y,removeNode:f,getNode:h,getNodesCount:function(){return P},getLinksCount:function(){return R.length},getLinks:g,forEachNode:N,forEachLinkedNode:b,forEachLink:_,beginUpdate:U,endUpdate:z,clear:x,hasLink:m,getLink:m};return l(W),e(),W}function i(t,e){if(!e)return-1;if(e.indexOf)return e.indexOf(t);var n,r=e.length;for(n=0;r>n;n+=1)if(e[n]===t)return n;return-1}function o(t){this.id=t,this.links=null,this.data=null}function s(t,e){t.links?t.links.push(e):t.links=[e]}function a(t,e,n,r){this.fromId=t,this.toId=e,this.data=n,this.id=r}function u(t){var e,n,r,i=0;if(0==t.length)return i;for(e=0,r=t.length;r>e;e++)n=t.charCodeAt(e),i=(i<<5)-i+n,i|=0;return i}function c(t,e){return u(t.toString()+"👉 "+e.toString())}t.exports=r;var l=n(160)},function(t,e,n){function r(t){function e(){var t,e=p.length;if(e)for(v.insertBodies(p);e--;)t=p[e],t.isPinned||(t.force.reset(),v.updateBodyForce(t),m.update(t));for(e=d.length;e--;)y.update(d[e])}var r=n(663),i=n(161),o=n(162),s=n(160);t=o(t,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20,stableThreshold:.009});var a=t.createQuadTree||n(665),u=t.createBounds||n(659),c=t.createDragForce||n(661),l=t.createSpringForce||n(664),h=t.integrator||n(662),f=t.createBody||n(660),p=[],d=[],v=a(t),g=u(p,t),y=l(t),m=c(t),x=0,_=!1,b={bodies:p,springs:d,settings:t,step:function(){e(),x=h(p,t.timeStep),g.update();var n=x<t.stableThreshold;return _!==n&&b.fire("stable",n),_=n,n},addBody:function(t){if(!t)throw new Error("Body is required");return p.push(t),t},addBodyAt:function(t){if(!t)throw new Error("Body position is required");var e=f(t);return p.push(e),e},removeBody:function(t){if(t){var e=p.indexOf(t);if(!(0>e))return p.splice(e,1),0===p.length&&g.reset(),!0}},addSpring:function(t,e,n,i,o){if(!t||!e)throw new Error("Cannot add null spring to force simulator");"number"!=typeof n&&(n=-1);var s=new r(t,e,n,o>=0?o:-1,i);return d.push(s),s},getTotalMovement:function(){return x},removeSpring:function(t){if(t){var e=d.indexOf(t);return e>-1?(d.splice(e,1),!0):void 0}},getBestNewBodyPosition:function(t){return g.getBestNewPosition(t)},getBBox:function(){return g.box},gravity:function(e){return void 0!==e?(t.gravity=e,v.options({gravity:e}),this):t.gravity},theta:function(e){return void 0!==e?(t.theta=e,v.options({theta:e}),this):t.theta}};return i(t,b),s(b),b}t.exports=r},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===s(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;s>u;u++)if(i[u]!==o[u]){a=u;break}for(var c=[],u=a;u<i.length;u++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(e,n(50))},function(t,e,n){"use strict";function r(t,e,n,r){for(var s,u,c=t.data,l=[],h=t.toBBox,f=new a(null,i);c;){for(s=0;s<c.children.length;s++)u=c.children[s],f.push({node:u,isItem:c.leaf,dist:o(e,c.leaf?h(u):u.bbox)});for(;f.length&&f.peek().isItem;){var p=f.pop().node;if(r&&!r(p)||l.push(p),l.length===n)return l}c=f.pop(),c&&(c=c.node)}return l}function i(t,e){return t.dist-e.dist}function o(t,e){var n=s(t[0],e[0],e[2]),r=s(t[1],e[1],e[3]);return n*n+r*r}function s(t,e,n){return e>t?e-t:n>=t?0:t-n}var a=n(681);t.exports=r},function(t,e,n){var r;!function(){"use strict";function i(t,e){return this instanceof i?(this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),void this.clear()):new i(t,e)}function o(t,e){t.bbox=s(t,0,t.children.length,e)}function s(t,e,n,r){for(var i,o=a(),s=e;n>s;s++)i=t.children[s],u(o,t.leaf?r(i):i.bbox);return o}function a(){return[1/0,1/0,-(1/0),-(1/0)]}function u(t,e){return t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t}function c(t,e){return t.bbox[0]-e.bbox[0]}function l(t,e){return t.bbox[1]-e.bbox[1]}function h(t){return(t[2]-t[0])*(t[3]-t[1])}function f(t){return t[2]-t[0]+(t[3]-t[1])}function p(t,e){return(Math.max(e[2],t[2])-Math.min(e[0],t[0]))*(Math.max(e[3],t[3])-Math.min(e[1],t[1]))}function d(t,e){var n=Math.max(t[0],e[0]),r=Math.max(t[1],e[1]),i=Math.min(t[2],e[2]),o=Math.min(t[3],e[3]);return Math.max(0,i-n)*Math.max(0,o-r)}function v(t,e){return t[0]<=e[0]&&t[1]<=e[1]&&e[2]<=t[2]&&e[3]<=t[3]}function g(t,e){return e[0]<=t[2]&&e[1]<=t[3]&&e[2]>=t[0]&&e[3]>=t[1]}function y(t,e,n,r,i){for(var o,s=[e,n];s.length;)n=s.pop(),e=s.pop(),r>=n-e||(o=e+Math.ceil((n-e)/r/2)*r,m(t,e,n,o,i),s.push(e,o,o,n))}function m(t,e,n,r,i){for(var o,s,a,u,c,l,h,f,p;n>e;){for(n-e>600&&(o=n-e+1,s=r-e+1,a=Math.log(o),u=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*u*(o-u)/o)*(0>s-o/2?-1:1),l=Math.max(e,Math.floor(r-s*u/o+c)),h=Math.min(n,Math.floor(r+(o-s)*u/o+c)),m(t,l,h,r,i)),f=t[r],s=e,p=n,x(t,e,r),i(t[n],f)>0&&x(t,e,n);p>s;){for(x(t,s,p),s++,p--;i(t[s],f)<0;)s++;for(;i(t[p],f)>0;)p--}0===i(t[e],f)?x(t,e,p):(p++,x(t,p,n)),r>=p&&(e=p+1),p>=r&&(n=p-1)}}function x(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!g(t,e.bbox))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;o>i;i++)s=e.children[i],a=e.leaf?r(s):s.bbox,g(t,a)&&(e.leaf?n.push(s):v(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!g(t,e.bbox))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;i>r;r++)if(o=e.children[r],s=e.leaf?n(o):o.bbox,g(t,s)){if(e.leaf||v(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;n>e;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data={children:[],height:1,bbox:a(),leaf:!0},this},remove:function(t){if(!t)return this;for(var e,n,r,i,o=this.data,s=this.toBBox(t),a=[],u=[];o||a.length;){if(o||(o=a.pop(),n=a[a.length-1],e=u.pop(),i=!0),o.leaf&&(r=o.children.indexOf(t),-1!==r))return o.children.splice(r,1),a.push(o),this._condense(a),this;i||o.leaf||!v(o.bbox,s)?n?(e++,o=n.children[e],i=!1):o=null:(a.push(o),u.push(e),e=0,n=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:function(t,e){return t[0]-e[0]},compareMinY:function(t,e){return t[1]-e[1]},toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,s=n-e+1,a=this._maxEntries;if(a>=s)return i={children:t.slice(e,n+1),height:1,bbox:null,leaf:!0},o(i,this.toBBox),i;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),i={children:[],height:r,bbox:null,leaf:!1};var u,c,l,h,f=Math.ceil(s/a),p=f*Math.ceil(Math.sqrt(a));for(y(t,e,n,p,this.compareMinX),u=e;n>=u;u+=p)for(l=Math.min(u+p-1,n),y(t,u,l,f,this.compareMinY),c=u;l>=c;c+=f)h=Math.min(c+f-1,l),i.children.push(this._build(t,c,h,r-1));return o(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,c,l,f;;){if(r.push(e),e.leaf||r.length-1===n)break;for(l=f=1/0,i=0,o=e.children.length;o>i;i++)s=e.children[i],u=h(s.bbox),c=p(t,s.bbox)-u,f>c?(f=c,l=l>u?u:l,a=s):c===f&&l>u&&(l=u,a=s);e=a}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t.bbox:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),u(s.bbox,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var s=this._chooseSplitIndex(n,i,r),a={children:n.children.splice(s,n.children.length-s),height:n.height,bbox:null,leaf:!1};n.leaf&&(a.leaf=!0),o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data={children:[t,e],height:t.height+1,bbox:null,leaf:!1},o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,u,c,l,f;for(c=l=1/0,r=e;n-e>=r;r++)i=s(t,0,r,this.toBBox),o=s(t,r,n,this.toBBox),a=d(i,o),u=h(i)+h(o),c>a?(c=a,f=r,l=l>u?u:l):a===c&&l>u&&(l=u,f=r);return f},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:c,i=t.leaf?this.compareMinY:l,o=this._allDistMargin(t,e,n,r),s=this._allDistMargin(t,e,n,i);s>o&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,c=s(t,0,e,a),l=s(t,n-e,n,a),h=f(c)+f(l);for(i=e;n-e>i;i++)o=t.children[i],u(c,t.leaf?a(o):o.bbox),h+=f(c);for(i=n-e-1;i>=e;i--)o=t.children[i],u(l,t.leaf?a(o):o.bbox),h+=f(l);return h},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)u(e[r].bbox,t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():o(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return [a"+t.join(", a")+"];")}},r=function(){return i}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}()},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],e))}else{for(var s=[],o=0;o<r.parts.length;o++)s.push(c(r.parts[o],e));p[r.id]={id:r.id,refs:1,parts:s}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],s=i[1],a=i[2],u=i[3],c={css:s,media:a,sourceMap:u};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(t,e){var n=g(),r=x[x.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),x.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=x.indexOf(t);e>=0&&x.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function c(t,e){var n,r,i;if(e.singleton){var o=m++;n=y||(y=a(e)),r=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=f.bind(null,n),i=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),r=h.bind(null,n),i=function(){s(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function l(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function h(t,e){var n=e.css,r=e.media;e.sourceMap;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function f(t,e){var n=e.css,r=(e.media,e.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var p={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=d(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,m=0,x=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],u=p[a.id];u.refs--,o.push(u)}if(t){var c=i(t);r(c,e)}for(var s=0;s<o.length;s++){var u=o[s];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete p[u.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){(function(e){"use strict";t.exports=n(680)(e||window||this)}).call(e,function(){return this}())},function(t,e){var n={accessible:!1,accessibleTitle:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};t.exports=n},function(t,e,n){function r(){s.call(this),this.position=new i.Point,this.scale=new i.Point(1,1),this.pivot=new i.Point(0,0),this.skew=new i.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new i.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new i.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null}var i=n(15),o=n(170),s=n(40),a=n(6),u=new i.Matrix,c={worldTransform:new i.Matrix,worldAlpha:1,children:[]};r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),r.prototype.updateTransform=function(){var t,e,n,r,i,o,s=this.parent.worldTransform,c=this.worldTransform;this.skew.x||this.skew.y?(u.setTransform(this.position.x,this.position.y,this.pivot.x,this.pivot.y,this.scale.x,this.scale.y,this.rotation,this.skew.x,this.skew.y),c.a=u.a*s.a+u.b*s.c,c.b=u.a*s.b+u.b*s.d,c.c=u.c*s.a+u.d*s.c,c.d=u.c*s.b+u.d*s.d,c.tx=u.tx*s.a+u.ty*s.c+s.tx,c.ty=u.tx*s.b+u.ty*s.d+s.ty):this.rotation%a.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,n=-this._sr*this.scale.y,r=this._cr*this.scale.y,i=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(i-=this.pivot.x*t+this.pivot.y*n,o-=this.pivot.x*e+this.pivot.y*r),c.a=t*s.a+e*s.c,c.b=t*s.b+e*s.d,c.c=n*s.a+r*s.c,c.d=n*s.b+r*s.d,c.tx=i*s.a+o*s.c+s.tx,c.ty=i*s.b+o*s.d+s.ty):(t=this.scale.x,r=this.scale.y,i=this.position.x-this.pivot.x*t,o=this.position.y-this.pivot.y*r,c.a=t*s.a,c.b=t*s.b,c.c=r*s.c,c.d=r*s.d,c.tx=i*s.a+o*s.c+s.tx,c.ty=i*s.b+o*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},r.prototype.displayObjectUpdateTransform=r.prototype.updateTransform,r.prototype.getBounds=function(t){return i.Rectangle.EMPTY},r.prototype.getLocalBounds=function(){return this.getBounds(i.Matrix.IDENTITY)},r.prototype.toGlobal=function(t){return this.parent?this.displayObjectUpdateTransform():(this.parent=c,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.apply(t)},r.prototype.toLocal=function(t,e,n){return e&&(t=e.toGlobal(t)),this.parent?this.displayObjectUpdateTransform():(this.parent=c,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.applyInverse(t,n)},r.prototype.renderWebGL=function(t){},r.prototype.renderCanvas=function(t){},r.prototype.generateTexture=function(t,e,n){var r=this.getLocalBounds(),i=new o(t,0|r.width,0|r.height,e,n);return u.tx=-r.x,u.ty=-r.y,i.render(this,u),i},r.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},r.prototype.setTransform=function(t,e,n,r,i,o,s,a,u){return this.position.x=t||0,this.position.y=e||0,this.scale.x=n?n:1,this.scale.y=r?r:1,this.rotation=i||0,this.skew.x=o||0,this.skew.y=s||0,this.pivot.x=a||0,this.pivot.y=u||0,this},r.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.skew=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},function(t,e){function n(t,e,n,r,i,o,s){this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this._lineTint=e,this.fillColor=r,this.fillAlpha=i,this._fillTint=r,this.fill=o,this.shape=s,this.type=s.type}n.prototype.constructor=n,t.exports=n,n.prototype.clone=function(){return new n(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},n.prototype.destroy=function(){this.shape=null}},function(t,e,n){function r(t){return 0>t?-1:t>0?1:0}function i(){for(var t=0;16>t;t++){var e=[];h.push(e);for(var n=0;16>n;n++)for(var i=r(o[t]*o[n]+a[t]*s[n]),f=r(s[t]*o[n]+u[t]*s[n]),p=r(o[t]*a[n]+a[t]*u[n]),d=r(s[t]*a[n]+u[t]*u[n]),v=0;16>v;v++)if(o[v]===i&&s[v]===f&&a[v]===p&&u[v]===d){e.push(v);break}}for(t=0;16>t;t++){var g=new l;g.set(o[t],s[t],a[t],u[t],0,0),c.push(g)}}var o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],c=[],l=n(281),h=[];i();var f={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return o[t]},uY:function(t){return s[t]},vX:function(t){return a[t]},vY:function(t){return u[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return h[t][e]},sub:function(t,e){return h[t][f.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?f.S:f.N:2*Math.abs(e)<=Math.abs(t)?t>0?f.E:f.W:e>0?t>0?f.SE:f.SW:t>0?f.NE:f.NW},matrixAppendRotationInv:function(t,e,n,r){var i=c[f.inv(e)];n=n||0,r=r||0,i.tx=n,i.ty=r,t.append(i)}};t.exports=f},function(t,e,n){function r(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var i=n(165);r.prototype.constructor=r,t.exports=r,r.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},r.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},r.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},r.prototype.apply=function(t,e){e=e||new i;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},r.prototype.applyInverse=function(t,e){e=e||new i;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,o=t.y;return e.x=this.d*n*r+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*o+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},r.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},r.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},r.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},r.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},r.prototype.setTransform=function(t,e,n,r,i,o,s,a,u){var c,l,h,f,p,d,v,g,y,m;return p=Math.sin(s),d=Math.cos(s),v=Math.cos(u),g=Math.sin(u),y=-Math.sin(a),m=Math.cos(a),c=d*i,l=p*i,h=-p*o,f=d*o,this.a=v*c+g*h,this.b=v*l+g*f,this.c=y*c+m*h,this.d=y*l+m*f,this.tx=t+(n*c+r*h),this.ty=e+(n*l+r*f),this},r.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},r.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},r.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},r.prototype.clone=function(){var t=new r;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},r.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},r.IDENTITY=new r,r.TEMP_MATRIX=new r},function(t,e,n){function r(t,e,n,r){if(a.call(this),i.sayHello(t),r)for(var u in s.DEFAULT_RENDER_OPTIONS)"undefined"==typeof r[u]&&(r[u]=s.DEFAULT_RENDER_OPTIONS[u]);else r=s.DEFAULT_RENDER_OPTIONS;this.type=s.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=n||600,this.view=r.view||document.createElement("canvas"),this.resolution=r.resolution,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this.roundPixels=r.roundPixels,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=r.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new o.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var i=n(12),o=n(15),s=n(6),a=n(40);r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=i.hex2string(t),i.hex2rgb(t,this._backgroundColorRgb)}}}),r.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},r.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},function(t,e,n){var r=n(12),i={};t.exports=i,i.getTintedTexture=function(t,e){var n=t.texture;e=i.roundColor(e);var r="#"+("00000"+(0|e).toString(16)).substr(-6);if(n.tintCache=n.tintCache||{},n.tintCache[r])return n.tintCache[r];var o=i.canvas||document.createElement("canvas");if(i.tintMethod(n,e,o),i.convertTintToImage){var s=new Image;s.src=o.toDataURL(),n.tintCache[r]=s}else n.tintCache[r]=o,i.canvas=null;return o},i.tintWithMultiply=function(t,e,n){var r=n.getContext("2d"),i=t.baseTexture.resolution,o=t.crop.clone();o.x*=i,o.y*=i,o.width*=i,o.height*=i,n.width=o.width,n.height=o.height,r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,o.width,o.height),r.globalCompositeOperation="multiply",r.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},i.tintWithOverlay=function(t,e,n){var r=n.getContext("2d"),i=t.baseTexture.resolution,o=t.crop.clone();o.x*=i,o.y*=i,o.width*=i,o.height*=i,n.width=o.width,n.height=o.height,r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,o.width,o.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},i.tintWithPerPixel=function(t,e,n){var i=n.getContext("2d"),o=t.baseTexture.resolution,s=t.crop.clone();s.x*=o,s.y*=o,s.width*=o,s.height*=o,n.width=s.width,n.height=s.height,i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height);for(var a=r.hex2rgb(e),u=a[0],c=a[1],l=a[2],h=i.getImageData(0,0,s.width,s.height),f=h.data,p=0;p<f.length;p+=4)f[p+0]*=u,f[p+1]*=c,f[p+2]*=l;i.putImageData(h,0,0)},i.roundColor=function(t){var e=i.cacheStepsPerColorChannel,n=r.hex2rgb(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),r.rgb2hex(n)},i.cacheStepsPerColorChannel=8,i.convertTintToImage=!1,i.canUseMultiply=r.canUseNewCanvasBlendModes(),i.tintMethod=i.canUseMultiply?i.tintWithMultiply:i.tintWithPerPixel},function(t,e,n){function r(){i.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{
resolution:{type:"v2",value:{x:1,y:1}}})}var i=n(169);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager,i=this.getShader(t);r.applyFilter(i,e,n)}},function(t,e,n){function r(t){var e=new o.Matrix;i.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:e.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=e}var i=n(169),o=n(15);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,r.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var i=this.getShader(t);r.applyFilter(i,e,n)},Object.defineProperties(r.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},function(t,e,n){function r(t){i.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new u.Rectangle(0,0,t.width,t.height),this.currentFrame=null}var i=n(51),o=n(112),s=n(6),a=n(700),u=n(15);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new a(t)},r.prototype.setFilterStack=function(t){this.filterStack=t},r.prototype.pushFilter=function(t,e){var n=t.filterArea?t.filterArea.clone():t.getBounds();n.x=0|n.x,n.y=0|n.y,n.width=0|n.width,n.height=0|n.height;var r=0|e[0].padding;if(n.x-=r,n.y-=r,n.width+=2*r,n.height+=2*r,this.renderer.currentRenderTarget.transform){var i=this.renderer.currentRenderTarget.transform;n.x+=i.tx,n.y+=i.ty,this.capFilterArea(n),n.x-=i.tx,n.y-=i.ty}else this.capFilterArea(n);if(n.width>0&&n.height>0){this.currentFrame=n;var o=this.getRenderTarget();this.renderer.setRenderTarget(o),o.clear(),this.filterStack.push({renderTarget:o,filter:e})}else this.filterStack.push({renderTarget:null,filter:e})},r.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],n=t.renderTarget;if(t.renderTarget){var r=e.renderTarget,i=this.renderer.gl;this.currentFrame=n.frame,this.quad.map(this.textureSize,n.frame),i.bindBuffer(i.ARRAY_BUFFER,this.quad.vertexBuffer),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=t.filter;if(i.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,i.FLOAT,!1,0,0),i.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,i.FLOAT,!1,0,32),i.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,i.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,n,r),this.returnRenderTarget(n);else{for(var a=n,u=this.getRenderTarget(!0),c=0;c<o.length-1;c++){var l=o[c];l.uniforms.dimensions&&(l.uniforms.dimensions.value[0]=this.renderer.width,l.uniforms.dimensions.value[1]=this.renderer.height,l.uniforms.dimensions.value[2]=this.quad.vertices[0],l.uniforms.dimensions.value[3]=this.quad.vertices[5]),l.applyFilter(this.renderer,a,u);var h=a;a=u,u=h}o[o.length-1].applyFilter(this.renderer,a,r),this.returnRenderTarget(a),this.returnRenderTarget(u)}return t.filter}},r.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new o(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution*s.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},r.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},r.prototype.applyFilter=function(t,e,n,r){var i=this.renderer.gl;this.renderer.setRenderTarget(n),r&&n.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e.texture),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),this.renderer.drawCount++},r.prototype.calculateMappedMatrix=function(t,e,n){var r=e.worldTransform.copy(u.Matrix.TEMP_MATRIX),i=e._texture.baseTexture,o=n.identity(),s=this.textureSize.height/this.textureSize.width;o.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),o.scale(1,s);var a=this.textureSize.width/i.width,c=this.textureSize.height/i.height;return r.tx/=i.width*a,r.ty/=i.width*a,r.invert(),o.prepend(r),o.scale(1,1/s),o.scale(a,c),o.translate(e.anchor.x,e.anchor.y),o},r.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},r.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var n=0;n<this.texturePool.length;n++)this.texturePool[n].resize(t,e)},r.prototype.destroy=function(){this.quad.destroy(),i.prototype.destroy.call(this),this.filterStack=null,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},function(t,e,n){function r(t){i.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var i=n(51),o=n(111),s=n(288),a=n(289),u=n(12);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,u.pluginTarget.mixin(r),t.exports=r,r.prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new o(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new s(this)},r.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(var n in t)this.tempAttribState[t[n]]=!0;var r=this.renderer.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.attribState[e]?r.enableVertexAttribArray(e):r.disableVertexAttribArray(e))},r.prototype.setShader=function(t){return this._currentId===t.uid?!1:(this._currentId=t.uid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},r.prototype.destroy=function(){this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),i.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},function(t,e,n){function r(t){i.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var i=n(110);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(t){i.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var i=n(110);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(t){s.call(this),this.anchor=new i.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=c.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||o.EMPTY}var i=n(15),o=n(76),s=n(108),a=n(283),u=n(12),c=n(6),l=new i.Point,h=i.GroupD8,f=new i.Matrix;r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.texture._frame.width},set:function(t){var e=u.sign(this.scale.x)||1;this.scale.x=e*t/this.texture._frame.width,this._width=t}},height:{get:function(){return Math.abs(this.scale.y)*this.texture._frame.height},set:function(t){var e=u.sign(this.scale.y)||1;this.scale.y=e*t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),r.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=u.sign(this.scale.x)*this._width/this.texture.frame.width),this._height&&(this.scale.y=u.sign(this.scale.y)*this._height/this.texture.frame.height)},r.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},r.prototype.getBounds=function(t){if(!this._currentBounds){var e,n,r,i,o=this._texture._frame.width,s=this._texture._frame.height,a=o*(1-this.anchor.x),u=o*-this.anchor.x,c=s*(1-this.anchor.y),l=s*-this.anchor.y,h=t||this.worldTransform,f=h.a,p=h.b,d=h.c,v=h.d,g=h.tx,y=h.ty,m=f*u+d*l+g,x=v*l+p*u+y,_=f*a+d*l+g,b=v*l+p*a+y,w=f*a+d*c+g,E=v*c+p*a+y,M=f*u+d*c+g,S=v*c+p*u+y;if(e=m,e=e>_?_:e,e=e>w?w:e,e=e>M?M:e,r=x,r=r>b?b:r,r=r>E?E:r,r=r>S?S:r,n=m,n=_>n?_:n,n=w>n?w:n,n=M>n?M:n,i=x,i=b>i?b:i,i=E>i?E:i,i=S>i?S:i,this.children.length){var T=this.containerGetBounds();a=T.x,u=T.x+T.width,c=T.y,l=T.y+T.height,e=a>e?e:a,r=c>r?r:c,n=n>u?n:u,i=i>l?i:l}var A=this._bounds;A.x=e,A.width=n-e,A.y=r,A.height=i-r,this._currentBounds=A}return this._currentBounds},r.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e,n=this._texture._frame.width,r=this._texture._frame.height,i=-n*this.anchor.x;return l.x>i&&l.x<i+n&&(e=-r*this.anchor.y,l.y>e&&l.y<e+r)},r.prototype._renderCanvas=function(t){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)){var e=t.blendModes[this.blendMode];if(e!==t.context.globalCompositeOperation&&(t.context.globalCompositeOperation=e),this.texture.valid){var n,r,i=this._texture,o=this.worldTransform,s=i.crop.width,u=i.crop.height;t.context.globalAlpha=this.worldAlpha;var l=i.baseTexture.scaleMode===c.SCALE_MODES.LINEAR;t.smoothProperty&&t.context[t.smoothProperty]!==l&&(t.context[t.smoothProperty]=l),2===(3&i.rotate)&&(s=i.crop.height,u=i.crop.width),i.trim?(n=i.crop.width/2+i.trim.x-this.anchor.x*i.trim.width,r=i.crop.height/2+i.trim.y-this.anchor.y*i.trim.height):(n=(.5-this.anchor.x)*i._frame.width,r=(.5-this.anchor.y)*i._frame.height),i.rotate&&(o.copy(f),o=f,h.matrixAppendRotationInv(o,i.rotate,n,r),n=0,r=0),n-=s/2,r-=u/2,t.roundPixels?(t.context.setTransform(o.a,o.b,o.c,o.d,o.tx*t.resolution|0,o.ty*t.resolution|0),n=0|n,r=0|r):t.context.setTransform(o.a,o.b,o.c,o.d,o.tx*t.resolution,o.ty*t.resolution);var p=i.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,s*p,u*p,n*t.resolution,r*t.resolution,s*t.resolution,u*t.resolution)):t.context.drawImage(i.baseTexture.source,i.crop.x*p,i.crop.y*p,s*p,u*p,n*t.resolution,r*t.resolution,s*t.resolution,u*t.resolution)}}},r.prototype.destroy=function(t,e){s.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},r.fromFrame=function(t){var e=u.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new r(e)},r.fromImage=function(t,e,n){return new r(o.fromImage(t,e,n))}},function(t,e,n){function r(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}t.exports=r;var i=n(280);r.prototype.set=function(t,e,n){var r=e.width,o=e.height;if(n){var s=i.isSwapWidthHeight(n),a=(s?t.height:t.width)/2/r,u=(s?t.width:t.height)/2/o,c=t.x/r+a,l=t.y/o+u;n=i.add(n,i.NW),this.x0=c+a*i.uX(n),this.y0=l+u*i.uY(n),n=i.add(n,2),this.x1=c+a*i.uX(n),this.y1=l+u*i.uY(n),n=i.add(n,2),this.x2=c+a*i.uX(n),this.y2=l+u*i.uY(n),n=i.add(n,2),this.x3=c+a*i.uX(n),this.y3=l+u*i.uY(n)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o}},function(t,e,n){function r(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),o.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function i(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=t,n.type=e,n}var o=n(113),s=n(12);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,t.exports=r,r.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},r.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},r.prototype._onPlayStop=function(){this.autoUpdate=!1},r.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},r.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete s.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),o.prototype.destroy.call(this)},r.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+s.uid());var n=s.BaseTextureCache[t._pixiId];return n||(n=new r(t,e),s.BaseTextureCache[t._pixiId]=n),n},r.fromUrl=function(t,e){var n=document.createElement("video");if(Array.isArray(t))for(var o=0;o<t.length;++o)n.appendChild(i(t[o].src||t[o],t[o].mime));else n.appendChild(i(t.src||t,t.mime));return n.load(),n.play(),r.fromVideo(n,e)},r.fromUrls=r.fromUrl},function(t,e,n){/**
	 * @file        Main export of the PIXI filters library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
	 */
t.exports={AsciiFilter:n(714),BloomFilter:n(715),BlurFilter:n(717),BlurXFilter:n(114),BlurYFilter:n(172),BlurDirFilter:n(716),ColorMatrixFilter:n(719),ColorStepFilter:n(720),ConvolutionFilter:n(721),CrossHatchFilter:n(722),DisplacementFilter:n(723),DotScreenFilter:n(724),GrayFilter:n(727),DropShadowFilter:n(726),InvertFilter:n(728),NoiseFilter:n(729),PixelateFilter:n(730),RGBSplitFilter:n(731),ShockwaveFilter:n(733),SepiaFilter:n(732),SmartBlurFilter:n(718),TiltShiftFilter:n(734),TiltShiftXFilter:n(295),TiltShiftYFilter:n(296),TwistFilter:n(735)}},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(r.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(t){this.uniforms.gradientBlur.value=t}},start:{get:function(){return this.uniforms.start.value},set:function(t){this.uniforms.start.value=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(t){this.uniforms.end.value=t,this.updateDelta()}}})},function(t,e,n){function r(){i.call(this)}var i=n(294);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=t/n,this.uniforms.delta.value.y=e/n}},function(t,e,n){function r(){i.call(this)}var i=n(294);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=-e/n,this.uniforms.delta.value.y=t/n}},function(t,e,n){function r(){this.global=new i.Point,this.target=null,this.originalEvent=null}var i=n(2);r.prototype.constructor=r,t.exports=r,r.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)}},function(t,e){var n={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};t.exports=n},function(t,e,n){function r(t,e){var n={},r=t.data.getElementsByTagName("info")[0],i=t.data.getElementsByTagName("common")[0];n.font=r.getAttribute("face"),n.size=parseInt(r.getAttribute("size"),10),n.lineHeight=parseInt(i.getAttribute("lineHeight"),10),n.chars={};for(var a=t.data.getElementsByTagName("char"),u=0;u<a.length;u++){var c=parseInt(a[u].getAttribute("id"),10),l=new o.Rectangle(parseInt(a[u].getAttribute("x"),10)+e.frame.x,parseInt(a[u].getAttribute("y"),10)+e.frame.y,parseInt(a[u].getAttribute("width"),10),parseInt(a[u].getAttribute("height"),10));n.chars[c]={xOffset:parseInt(a[u].getAttribute("xoffset"),10),yOffset:parseInt(a[u].getAttribute("yoffset"),10),xAdvance:parseInt(a[u].getAttribute("xadvance"),10),kerning:{},texture:new o.Texture(e.baseTexture,l)}}var h=t.data.getElementsByTagName("kerning");for(u=0;u<h.length;u++){var f=parseInt(h[u].getAttribute("first"),10),p=parseInt(h[u].getAttribute("second"),10),d=parseInt(h[u].getAttribute("amount"),10);n.chars[p]&&(n.chars[p].kerning[f]=d)}t.bitmapFont=n,s.BitmapText.fonts[n.font]=n}var i=n(106).Resource,o=n(2),s=n(171),a=n(272);t.exports=function(){return function(t,e){if(!t.data||!t.isXml)return e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return e();var n=a.dirname(t.url);"."===n&&(n=""),this.baseUrl&&n&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/"),n=n.replace(this.baseUrl,"")),n&&"/"!==n.charAt(n.length-1)&&(n+="/");var s=n+t.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[s])r(t,o.utils.TextureCache[s]),e();else{var u={crossOrigin:t.crossOrigin,loadType:i.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata};this.add(t.name+"_image",s,u,function(n){r(t,n.texture),e()})}}}},function(t,e,n){var r=n(106).Resource,i=n(272),o=n(2),s=n(173),a=1e3;t.exports=function(){return function(t,e){var n=t.name+"_image";if(!t.data||!t.isJson||!t.data.frames||this.resources[n])return e();var u={crossOrigin:t.crossOrigin,loadType:r.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata},c=i.dirname(t.url.replace(this.baseUrl,""));this.add(n,c+"/"+t.data.meta.image,u,function(n){function r(e,r){for(var i=e;r>i-e&&i<l.length;){var s=c[l[i]],a=s.frame;if(a){var u=null,f=null;if(u=s.rotated?new o.Rectangle(a.x,a.y,a.h,a.w):new o.Rectangle(a.x,a.y,a.w,a.h),s.trimmed&&(f=new o.Rectangle(s.spriteSourceSize.x/h,s.spriteSourceSize.y/h,s.sourceSize.w/h,s.sourceSize.h/h)),s.rotated){var p=u.width;u.width=u.height,u.height=p}u.x/=h,u.y/=h,u.width/=h,u.height/=h,t.textures[l[i]]=new o.Texture(n.texture.baseTexture,u,u.clone(),f,s.rotated),o.utils.TextureCache[l[i]]=t.textures[l[i]]}i++}}function i(){return f*a<l.length}function u(t){r(f*a,a),f++,setTimeout(t,0)}t.textures={};var c=t.data.frames,l=Object.keys(c),h=o.utils.getResolutionOfUrl(t.url),f=0;l.length<=a?(r(0,a),e()):s.whilst(i,u,e)})}}},function(t,e,n){var r=n(2);t.exports=function(){return function(t,e){if(t.data&&t.isImage){var n=new r.BaseTexture(t.data,null,r.utils.getResolutionOfUrl(t.url));n.imageUrl=t.url,t.texture=new r.Texture(n),r.utils.BaseTextureCache[t.url]=n,r.utils.TextureCache[t.url]=t.texture}e()}}},function(t,e,n){/**
	 * @file        Main export of the PIXI extras library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
	 */
t.exports={Mesh:n(116),Plane:n(740),Rope:n(741),MeshRenderer:n(742),MeshShader:n(743)}},function(t,e,n){var r,i;!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var t=window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now();window.performance.now=function(){return Date.now()-t}}}();var o=o||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},update:function(e){if(0===t.length)return!1;var n=0;for(e=void 0!==e?e:window.performance.now();n<t.length;)t[n].update(e)?n++:t.splice(n,1);return!0}}}();o.Tween=function(t){var e=t,n={},r={},i={},s=1e3,a=0,u=!1,c=!1,l=!1,h=0,f=null,p=o.Easing.Linear.None,d=o.Interpolation.Linear,v=[],g=null,y=!1,m=null,x=null,_=null;for(var b in t)n[b]=parseFloat(t[b],10);this.to=function(t,e){return void 0!==e&&(s=e),r=t,this},this.start=function(t){o.add(this),c=!0,y=!1,f=void 0!==t?t:window.performance.now(),f+=h;for(var s in r){if(r[s]instanceof Array){if(0===r[s].length)continue;r[s]=[e[s]].concat(r[s])}void 0!==n[s]&&(n[s]=e[s],n[s]instanceof Array==!1&&(n[s]*=1),i[s]=n[s]||0)}return this},this.stop=function(){return c?(o.remove(this),c=!1,null!==_&&_.call(e),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var t=0,e=v.length;e>t;t++)v[t].stop()},this.delay=function(t){return h=t,this},this.repeat=function(t){return a=t,this},this.yoyo=function(t){return u=t,this},this.easing=function(t){return p=t,this},this.interpolation=function(t){return d=t,this},this.chain=function(){return v=arguments,this},this.onStart=function(t){return g=t,this},this.onUpdate=function(t){return m=t,this},this.onComplete=function(t){return x=t,this},this.onStop=function(t){return _=t,this},this.update=function(t){var o,c,_;if(f>t)return!0;y===!1&&(null!==g&&g.call(e),y=!0),c=(t-f)/s,c=c>1?1:c,_=p(c);for(o in r)if(void 0!==n[o]){var b=n[o]||0,w=r[o];w instanceof Array?e[o]=d(w,_):("string"==typeof w&&(w=w.startsWith("+")||w.startsWith("-")?b+parseFloat(w,10):parseFloat(w,10)),"number"==typeof w&&(e[o]=b+(w-b)*_))}if(null!==m&&m.call(e,_),1===c){if(a>0){isFinite(a)&&a--;for(o in i){if("string"==typeof r[o]&&(i[o]=i[o]+parseFloat(r[o],10)),u){var E=i[o];i[o]=r[o],r[o]=E}n[o]=i[o]}return u&&(l=!l),f=t+h,!0}null!==x&&x.call(e);for(var M=0,S=v.length;S>M;M++)v[M].start(f+s);return!1}return!0}},o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)))},Out:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},InOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return.5>t?.5*o.Easing.Bounce.In(2*t):.5*o.Easing.Bounce.Out(2*t-1)+.5}}},o.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),s=o.Interpolation.Utils.Linear;return 0>e?s(t[0],t[1],r):e>1?s(t[n],t[n-1],n-r):s(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,s=o.Interpolation.Utils.Bernstein,a=0;r>=a;a++)n+=i(1-e,r-a)*i(e,a)*t[a]*s(r,a);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),s=o.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(0>e&&(i=Math.floor(r=n*(1+e))),s(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):0>e?t[0]-(s(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(s(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):s(t[i?i-1:0],t[i],t[i+1>n?n:i+1],t[i+2>n?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=o.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),s=.5*(r-e),a=i*i,u=i*a;return(2*e-2*n+o+s)*u+(-3*e+3*n-2*o-s)*a+o*i+e}}},function(n){r=[],i=function(){return o}.apply(e,r),!(void 0!==i&&(t.exports=i))}(this)},function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&c(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return u(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function s(t,e){return i(t,!1,!0).resolve(e)}function a(t,e){return t?i(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function c(t){return"object"==typeof t&&null!==t}function l(t){return null===t}function h(t){return null==t}var f=n(748);e.parse=i,e.resolve=s,e.resolveObject=a,e.format=o,e.Url=r;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","	"],g=["{","}","|","\\","^","`"].concat(v),y=["'"].concat(g),m=["%","/","?",";","#"].concat(y),x=["/","?","#"],_=255,b=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},M={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=n(672);r.prototype.parse=function(t,e,n){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var i=p.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===r.substr(0,2);!s||i&&M[i]||(r=r.substr(2),this.slashes=!0)}if(!M[i]&&(s||i&&!S[i])){for(var a=-1,c=0;c<x.length;c++){var l=r.indexOf(x[c]);-1!==l&&(-1===a||a>l)&&(a=l)}var h,d;d=-1===a?r.lastIndexOf("@"):r.lastIndexOf("@",a),-1!==d&&(h=r.slice(0,d),r=r.slice(d+1),this.auth=decodeURIComponent(h)),a=-1;for(var c=0;c<m.length;c++){var l=r.indexOf(m[c]);-1!==l&&(-1===a||a>l)&&(a=l)}-1===a&&(a=r.length),this.host=r.slice(0,a),r=r.slice(a),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),c=0,A=g.length;A>c;c++){var C=g[c];if(C&&!C.match(b)){for(var k="",O=0,R=C.length;R>O;O++)k+=C.charCodeAt(O)>127?"x":C[O];if(!k.match(b)){var D=g.slice(0,c),P=g.slice(c+1),F=C.match(w);F&&(D.push(F[1]),P.unshift(F[2])),P.length&&(r="/"+P.join(".")+r),this.hostname=D.join(".");break}}}if(this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),!v){for(var N=this.hostname.split("."),L=[],c=0;c<N.length;++c){var B=N[c];L.push(B.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(B):B)}this.hostname=L.join(".")}var I=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+I,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!E[o])for(var c=0,A=y.length;A>c;c++){var U=y[c],z=encodeURIComponent(U);z===U&&(z=escape(U)),r=r.split(U).join(z)}var W=r.indexOf("#");-1!==W&&(this.hash=r.substr(W),r=r.slice(0,W));var Y=r.indexOf("?");if(-1!==Y?(this.search=r.substr(Y),this.query=r.substr(Y+1),e&&(this.query=T.parse(this.query)),r=r.slice(0,Y)):e&&(this.search="",this.query={}),r&&(this.pathname=r),S[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var I=this.pathname||"",B=this.search||"";this.path=I+B}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(o=T.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||S[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+i+n+s+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),S[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!S[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||M[t.protocol])n.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var o=n.pathname||"",s=n.search||"";n.path=o+s}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var a=n.pathname&&"/"===n.pathname.charAt(0),c=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=c||a||n.host&&t.pathname,p=f,d=n.pathname&&n.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],v=n.protocol&&!S[n.protocol];if(v&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),f=f&&(""===i[0]||""===d[0])),c)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,d=i;else if(i.length)d||(d=[]),d.pop(),d=d.concat(i),n.search=t.search,n.query=t.query;else if(!h(t.search)){if(v){n.hostname=n.host=d.shift();var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=t.search,n.query=t.query,l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=d.slice(-1)[0],m=(n.host||t.host)&&("."===y||".."===y)||""===y,x=0,_=d.length;_>=0;_--)y=d[_],"."==y?d.splice(_,1):".."===y?(d.splice(_,1),x++):x&&(d.splice(_,1),x--);if(!f&&!p)for(;x--;x)d.unshift("..");!f||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),m&&"/"!==d.join("/").substr(-1)&&d.push("");var b=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(v){n.hostname=n.host=b?"":d.length?d.shift():"";var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return f=f||n.host&&d.length,f&&!b&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&T(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return x(i)||(i=u(t,i,r)),i}var o=c(t,n);if(o)return o;var s=Object.keys(n),v=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),S(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(n);if(0===s.length){if(T(n)){var g=n.name?": "+n.name:"";return t.stylize("[Function"+g+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(M(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return l(n)}var y="",m=!1,_=["{","}"];if(d(n)&&(m=!0,_=["[","]"]),T(n)){var b=n.name?": "+n.name:"";y=" [Function"+b+"]"}if(w(n)&&(y=" "+RegExp.prototype.toString.call(n)),M(n)&&(y=" "+Date.prototype.toUTCString.call(n)),S(n)&&(y=" "+l(n)),0===s.length&&(!m||0==n.length))return _[0]+y+_[1];if(0>r)return w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var E;return E=m?h(t,n,r,v,s):s.map(function(e){return f(t,n,r,v,e,m)}),t.seen.pop(),p(E,y,_)}function c(t,e){if(b(e))return t.stylize("undefined","undefined");if(x(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i){for(var o=[],s=0,a=e.length;a>s;++s)R(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))}),o}function f(t,e,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),R(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=g(n)?u(t,c.value,null):u(t,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return null==t}function m(t){return"number"==typeof t}function x(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function b(t){return void 0===t}function w(t){return E(t)&&"[object RegExp]"===C(t)}function E(t){return"object"==typeof t&&null!==t}function M(t){return E(t)&&"[object Date]"===C(t)}function S(t){return E(t)&&("[object Error]"===C(t)||t instanceof Error)}function T(t){return"function"==typeof t}function A(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function C(t){return Object.prototype.toString.call(t)}function k(t){return 10>t?"0"+t.toString(10):t.toString(10)}function O(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var D=/%[sdj%]/g;e.format=function(t){if(!x(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(D,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),a=r[n];o>n;a=r[++n])s+=g(a)||!E(a)?" "+a:" "+i(a);return s},e.deprecate=function(n,i){function o(){if(!s){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),s=!0}return n.apply(this,arguments)}if(b(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var s=!1;return o};var P,F={};e.debuglog=function(t){if(b(P)&&(P={NODE_ENV:"production"}.NODE_DEBUG||""),t=t.toUpperCase(),!F[t])if(new RegExp("\\b"+t+"\\b","i").test(P)){var n=r.pid;F[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else F[t]=function(){};return F[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=v,e.isNull=g,e.isNullOrUndefined=y,e.isNumber=m,e.isString=x,e.isSymbol=_,e.isUndefined=b,e.isRegExp=w,e.isObject=E,e.isDate=M,e.isError=S,e.isFunction=T,e.isPrimitive=A,e.isBuffer=n(749);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",O(),e.format.apply(e,arguments))},e.inherits=n(503),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(50))},function(t,e,n){"use strict";n(309),n(317),n(312)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.message=t}Object.defineProperty(e,"__esModule",{value:!0}),e.SpriteManager=e.IconSpriteGenerator=e.LinkSpriteGenerator=void 0;var o=n(118),s=r(o),a=n(180),u=r(a),c=n(182),l=r(c),h=n(16),f=r(h),p=n(22),d=r(p);e.PoincareCoreError=i;var v=n(305),g=r(v),y=n(504),m=n(600),x=r(m),_=n(259),b=r(_),w=n(591),E=r(w),M=n(115),S=r(M),T=n(38),A=r(T),C=n(39)("poincare:core");g["default"].inherits(i,Error),i.prototype.name="PoincareCoreError";var k=1e3,O=e.LinkSpriteGenerator=function(t,e){var n=new S["default"].Graphics;n.lineStyle(1,13421772,1),n.moveTo(0,0),n.lineTo(k,0);var r=n.generateTexture(1,S["default"].SCALE_MODES.DEFAULT);return function(t){return new S["default"].Sprite(r)}},R=e.IconSpriteGenerator=function(t,e){var n=new y.MD5;return function(t){var r=e.source(t),i=n.hex(""+r),o=S["default"].Sprite.fromImage(r);return o.anchor.x=o.anchor.y=.5,[i,o]}},D=e.SpriteManager=function(){function t(e,n,r){(0,f["default"])(this,t),this._getName=r.nodeView,this._options=r,this._generator=(0,x["default"])(this._getGenerator.bind(this)),this._container=(0,x["default"])(this._getNewContainer.bind(this)),this._renderer=n,this._parent=e,this._nodeCount=5e3,this._linkCount=5e3}return(0,d["default"])(t,[{key:"create",value:function(t){var e=this._getName(t),n=this._generator(e)(t),r=(0,l["default"])(n,2),i=r[0],o=r[1],s=this._container(i);return s.addChild(o),o}},{key:"createLink",value:function(t){var e=this._container("links",2*this._linkCount),n=this._generator("links")(t);return e.addChild(n),n}},{key:"setSizes",value:function(t,e){this._nodeCount=t,this._linkCount=e}},{key:"_getGenerator",value:function(t){if("icons"===t)return R(this._renderer,this._options[t]);if("links"===t)return O(this._renderer,this._options[t]);throw new i('No available views with name "'+t+'"')}},{key:"createSpriteContainer",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?"nodes":arguments[1],n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],r="nodes"===e?this._nodeCount*n:this._linkCount*n,i=new S["default"].ParticleContainer(r,{scale:!0,position:!0,rotation:!0,alpha:!1});return null!=t?this._parent.addChildAt(i,t):this._parent.addChild(i),i}},{key:"_getNewContainer",value:function(t,e){var n=new S["default"].ParticleContainer(2*this._nodeCount||e,{scale:!0,position:!0,rotation:!0,alpha:!1});return this._parent.addChild(n),n}}]),t}(),P=function(){function t(e){var n=this;(0,f["default"])(this,t);var r=e.options,i=(e.dims,e.container),o=e.layout,s=e.pn;this._stopped=!0,this._layoutStopped=!1,this._stage=new S["default"].Container,this._layout=o,this._dataViews={node:function(t){return t},link:function(t){return t}},this._data={nodes:{},links:{}},this._sprites={nodes:{},links:{}},this._pn=s,this._pixi=S["default"].autoDetectRenderer(200,200,{antialias:r.antialias,backgroundColor:r.background,transparent:r.transparent}),i.appendChild(this._pixi.view),this._bindedRun=this._run.bind(this),this._stage=new S["default"].Container,this._group=new S["default"].Container,this._stage.addChild(this._group),this._spriteManager=new D(this._group,this._pixi,r),this.xScale=A["default"].scale.linear(),this.yScale=A["default"].scale.linear(),s.on("dimensions",function(t){n._pixi.resize(t[0],t[1])})}return(0,d["default"])(t,[{key:"_renderFrame",value:function(t){this._pn.emit("frame",t),this._pn.zoom&&this._pn.zoom.scale()<1&&!this._zoomedOut?this._zoomedOut=!0:this._pn.zoom&&this._pn.zoom.scale()>=1&&this._zoomedOut&&(this._zoomedOut=!1,this._zoomSwitch=!0),(0,u["default"])(this._data.nodes).forEach(this._moveNode.bind(this)),(0,u["default"])(this._data.links).forEach(this._moveLine.bind(this)),this._zoomSwitch=!1,this._pixi.render(this._stage)}},{key:"_run",value:function(t){this._stopped||(this._frame=requestAnimationFrame(this._bindedRun),this._layoutStopped||(this._layoutStopped=this._layout.step(),this._layoutStopped&&this.stopLayout()),this._renderFrame(t))}},{key:"run",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this._stopped=!1,t&&(this._layoutStopped=!0),this._run()}},{key:"stop",value:function(){this._stopped=!0,this._frame&&cancelAnimationFrame(this._frame)}},{key:"init",value:function(t,e){return this._graph=t,this._layout=e,this._spriteManager.setSizes(t.getNodesCount(),t.getLinksCount()),t.forEachLink(this._initLink.bind(this)),t.forEachNode(this._initNode.bind(this)),this._pn.emit("initcore"),this._pn.emit("viewreset"),t}},{key:"switchScales",value:function(){var t=this.xScale,e=this.yScale;this.xScale=this._oldxScale||A["default"].scale.linear(),this.yScale=this._oldyScale||A["default"].scale.linear(),this._oldxScale=t,this._oldyScale=e}},{key:"_moveNode",value:function(t){var e=this._data.nodes[t],n=this._sprites.nodes[t];n.position.x=this.xScale(e.pos.x),n.position.y=this.yScale(e.pos.y),this._zoomedOut?n.scale.x=n.scale.y=this._pn.zoom.scale():!this._zoomedOut&&this._zoomSwitch&&(n.scale.x=n.scale.y=1),this._pn.emit("movenode",e)}},{key:"selectNodes",value:function(t){var e=this;return t.map(function(t){return e._data.nodes[t]})}},{key:"selectLinks",value:function(t){var e=this;return t.map(function(t){return e._data.links[t]})}},{key:"mapNodes",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return e?(0,E["default"])(this._data.nodes,t):(0,b["default"])(this._data.nodes,t)}},{key:"mapLinks",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return e?(0,E["default"])(this._data.links,t):(0,b["default"])(this._data.links,t)}},{key:"eachNode",value:function(t){return(0,u["default"])(this._data.nodes).forEach(t)}},{key:"eachLink",value:function(t){return(0,u["default"])(this._data.links).forEach(t)}},{key:"node",value:function(t){return this._data.nodes[t]}},{key:"link",value:function(t){return this._data.links[t]}},{key:"nodeSprite",value:function(t){return this._sprites.nodes[t]}},{key:"groupContainer",value:function(){return this._group}},{key:"spriteManager",value:function(){return this._spriteManager}},{key:"_moveLine",value:function(t){var e=this._data.links[t],n=this.yScale(e.to.y)-this.yScale(e.from.y),r=this.xScale(e.to.x)-this.xScale(e.from.x),i=Math.atan2(n,r),o=(0,s["default"])(r,n),a=this._sprites.links[t];a.scale.x=o/k,a.scale.y=1,a.rotation=i,a.position.x=this.xScale(e.from.x),a.position.y=this.yScale(e.from.y),this._pn.emit("moveline",e)}},{key:"_attachMouseEvents",value:function(t,e){t.interactive=!0,t._id=e,t.on("mouseover",function(t){return C("CLICK!!!!",t)})}},{key:"_addNodeSprite",value:function(t,e){var n=this._spriteManager.create(e);this._sprites.nodes[t.id]=n}},{key:"_addNodeData",value:function(t){var e=this._dataViews.node(t);return e.pos=this._layout.getNodePosition(t.id),this._data.nodes[t.id]=e,e}},{key:"_addLinkSprite",value:function(t,e){var n=this._spriteManager.createLink(e);this._sprites.links[""+t.id]=n}},{key:"_addLinkData",value:function(t){var e=this._dataViews.link(t);return e.from=this._layout.getNodePosition(t.fromId),e.to=this._layout.getNodePosition(t.toId),this._data.links[""+t.id]=e,e}},{key:"_initNode",value:function(t){var e=this._addNodeData(t);this._addNodeSprite(t,e)}},{key:"_initLink",value:function(t){var e=this._addLinkData(t);this._addLinkSprite(t,e)}},{key:"stopLayout",value:function(){this._layoutStopped=!0,this._pn.emit("layoutstop")}}]),t}();e["default"]=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SpriteManager=e.IconSpriteGenerator=e.LinkSpriteGenerator=e.PoincareCoreError=void 0;var i=n(307);Object.defineProperty(e,"PoincareCoreError",{enumerable:!0,get:function(){return i.PoincareCoreError}}),Object.defineProperty(e,"LinkSpriteGenerator",{enumerable:!0,get:function(){return i.LinkSpriteGenerator}}),Object.defineProperty(e,"IconSpriteGenerator",{enumerable:!0,get:function(){return i.IconSpriteGenerator}}),Object.defineProperty(e,"SpriteManager",{enumerable:!0,get:function(){return i.SpriteManager}});var o=r(i);e["default"]=o["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PoincareError=void 0;var i=n(322),o=r(i),s=n(505);"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),window.poincare.Poincare=o["default"],window.poincare.PoincareError=i.PoincareError,window.poincare.env="production",window.poincare.version=s.version),e["default"]=o["default"],e.PoincareError=i.PoincareError},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){return t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(331),s=r(o),a=n(119),u=r(a),c=n(38),l=(r(c),n(260)),h=r(l),f=n(176),p=r(f),d=n(174),v=r(d),g=n(59),y="icon.png",m={defaults:{container:"body",layout:"force",antialias:!0,background:"white",transparent:!1,nodeView:"icons",icons:{source:y,size:16},physics:{springLength:30,springCoeff:8e-4,dragCoeff:.01,gravity:-1.2,theta:1},plugins:[p["default"],v["default"]]},check:function(t){return"function"!=typeof t?i(t):t},merge:function(t,e){var n=(0,h["default"])({},t,e);return n.plugins=m._mergePlugins(t.plugins,e.plugins||[]),m._convert(n)},_mergePlugins:function(t,e){return new u["default"]([].concat((0,s["default"])(t),(0,s["default"])(e)))},_convert:function(t){var e=m.check,n={background:(0,g.css2pixi)(t.background),icons:{source:e(t.icons.source),size:e(t.icons.size)},nodeView:e(t.nodeView)};return(0,h["default"])(t,n)}};e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(330),o=r(i),s=n(16),a=r(s),u=n(22),c=r(u),l=n(221),h=r(l),f=n(260),p=r(f),d=n(38),v=r(d),g=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,a["default"])(this,t),this._options=(0,p["default"])({idLabel:"v",sourceLabel:"v",targetLabel:"w"},n);var r=this._typeConverters={"float":parseFloat,"int":function(t){return parseInt(t,10)},string:function(t){return t},"boolean":function(t){return"string"==typeof t?"false"!==t.toLowerCase():Boolean(t)}};if(r["long"]=r["double"]=r["float"],void 0!==window.DOMParser)this._parseXml=function(t){return(new window.DOMParser).parseFromString(t,"text/xml")};else{if(void 0===window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))throw new Error("No XML parser found");this._parseXml=function(t){var e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}}this.doc="string"==typeof e?this._parseXml(e):e}return(0,c["default"])(t,[{key:"_parseDataFields",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r={},i=this._nameMap[e],o=n?":scope > data":"data";return t.selectAll(o).each(function(t,e){var n=v["default"].select(this),o=n.attr("key"),s=i[o];s?r[s[0]]=s[1](n.text()):r[o]=n.text()}),r}},{key:"_makeNode",value:function(t){var e,n=v["default"].select(t),r=this._parseDataFields(n,"node");return e={},(0,o["default"])(e,this._options.idLabel,n.attr("id")),(0,o["default"])(e,"value",r),e}},{key:"_makeEdge",value:function(t){var e,n=v["default"].select(t),r=this._parseDataFields(n,"edge");return e={},(0,o["default"])(e,this._options.sourceLabel,n.attr("source")),(0,o["default"])(e,this._options.targetLabel,n.attr("target")),(0,o["default"])(e,"value",r),e}},{key:"_getNameMap",value:function(t){var e={node:{},edge:{},graph:{}},n=this._typeConverters;return t.selectAll("key").each(function(){var t=v["default"].select(this),r=[t.attr("attr.name"),n[t.attr("attr.type")]||n.string,t.attr("attr.type")];e[t.attr("for")][t.attr("id")]=r}),e}},{key:"getKeys",value:function(){var t=this._getNameMap(v["default"].select(this.doc));return t.node=v["default"].values(t.node).map(function(t){return{name:t[0],type:t[2]}}),t.edge=v["default"].values(t.edge).map(function(t){return{name:t[0],type:t[2]}}),t}},{key:"_makeGraph",value:function(t){var e=v["default"].select(t);return this._parseDataFields(e,"graph",!0)}},{key:"toJson",value:function(){var t=this,e=v["default"].select(this.doc),n={};return this._nameMap=this._getNameMap(e),n.nodes=e.selectAll("node")[0].map(function(e){return t._makeNode(e)}),n.edges=e.selectAll("edge")[0].map(function(e){return t._makeEdge(e)}),n.value=this._makeGraph(e.select("graph").node()),n.options={directed:"directed"===e.select("graph").attr("edgedefault")},n}},{key:"toGraph",value:function(){var t=this.toJson();return h["default"].json.read(t)}}],[{key:"parse",
value:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new t(e,n).toGraph()}}]),t}();e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.NGraph=void 0;var i=n(313),o=r(i);e.NGraph=o["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=(0,l["default"])();return t.nodes().forEach(function(n){var r=(0,u["default"])({},t.node(n),{id:n});e.addNode(n,r)}),t.edges().forEach(function(n){var r=n.v,i=n.w,o=(0,u["default"])({},t.edge(r,i),{id:r+"-"+i});e.addLink(r,i,o)}),e}function o(t){return i(f["default"].parse(t))}function s(t){var e="string"==typeof t?JSON.parse(t):t;return i((0,p.read)(e))}Object.defineProperty(e,"__esModule",{value:!0});var a=n(41),u=r(a);e.fromGraphlib=i,e.fromGraphML=o,e.fromJSON=s;var c=n(270),l=r(c),h=n(311),f=r(h),p=n(227),d={fromGraphlib:i,fromGraphML:o,fromJSON:s};e["default"]=d,"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.parsers&&(window.poincare.parsers={}),window.poincare.parsers.NGraph=d)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(27),o=r(i),s=n(16),a=r(s),u=n(29),c=r(u),l=n(28),h=r(l),f=n(38),p=r(f),d=n(147),v=r(d),g=n(21),y=r(g),AutoResize=function(t){function AutoResize(t,e){(0,a["default"])(this,AutoResize);var n=(0,c["default"])(this,(0,o["default"])(AutoResize).call(this));return p["default"].select(window).on("resize",(0,v["default"])(function(){t.updateDimensions()},100)),n}return(0,h["default"])(AutoResize,t),AutoResize}(y["default"]);e["default"]=AutoResize,"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.plugins&&(window.poincare.plugins={}),window.poincare.plugins.AutoResize=AutoResize)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(27),o=r(i),s=n(16),a=r(s),u=n(29),c=r(u),l=n(28),h=r(l);n(678);var f=n(21),p=r(f),Cursors=function(t){function Cursors(t,e){(0,a["default"])(this,Cursors);var n=(0,c["default"])(this,(0,o["default"])(Cursors).call(this)),r=d3.select(t.container());return t.on("itemfocus",function(){r.classed("item-focused",!0)}),t.on("itemblur",function(){r.classed("item-focused",!1)}),n}return(0,h["default"])(Cursors,t),Cursors}(p["default"]);e["default"]=Cursors,"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.plugins&&(window.poincare.plugins={}),window.poincare.plugins.Cursors=Cursors)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(118),o=r(i),s=n(41),a=r(s),u=n(27),c=r(u),l=n(16),h=r(l),f=n(22),p=r(f),d=n(29),v=r(d),g=n(28),y=r(g),m=n(115),x=r(m),_=n(59),b=n(21),w=r(b),E=function(t,e){return[e*Math.cos(t),e*Math.sin(t)]},M=function(t){function e(t,n){(0,h["default"])(this,e);var r=(0,v["default"])(this,(0,c["default"])(e).call(this));return r._options=(0,a["default"])({show:!1},n||{}),r._pn=t,r._options.show&&(r._pn.on("initcore",r._init,r),r._pn.on("frame",r._render,r)),r}return(0,y["default"])(e,t),(0,p["default"])(e,[{key:"_init",value:function(){var t=this,e=this._arrowGenerator(),n=this._pn.core().spriteManager(),r=n.createSpriteContainer(3,"links"),i=this._pn.core();this._arrows={},i.eachLink(function(n){var i=t._arrows[n]=e();i.anchor.x=.5,i.anchor.y=.5,r.addChild(i)})}},{key:"_render",value:function(){var t=this,e=this._pn.core(),n=this._pn.zoom.truncatedScale();e.eachLink(function(r){var i=e.link(r),s=e.yScale(i.to.y)-e.yScale(i.from.y),a=e.xScale(i.to.x)-e.xScale(i.from.x),u=[e.xScale(i.from.x),e.yScale(i.from.y)],c=([e.xScale(i.to.x),e.yScale(i.to.y)],Math.atan2(s,a)),l=(0,o["default"])(a,s),h=E(c,l-16*n);t._arrows[r].rotation=c+Math.PI/2,t._arrows[r].position.x=h[0]+u[0],t._arrows[r].position.y=h[1]+u[1],t._arrows[r].scale.x=n,t._arrows[r].scale.y=n})}},{key:"_arrowGenerator",value:function(){var t=new x["default"].Graphics;t.beginFill((0,_.css2pixi)("#7F7F7F")),t.drawPolygon([3,0,6,8,0,8,3,0]),t.endFill();var e=t.generateTexture(1,x["default"].SCALE_MODES.DEFAULT);return function(){return new x["default"].Sprite(e)}}}]),e}(w["default"]);e["default"]=M,"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.plugins&&(window.poincare.plugins={}),window.poincare.plugins.Directions=M)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Directions=e.LineIndex=e.AutoResize=e.Cursors=e.Plugin=e.Zoom=e.Events=e.Labels=e.Radius=e.Lighter=e.Tween=void 0;var i=n(21),o=r(i),s=n(174),a=r(s),u=n(176),c=r(u),l=n(175),h=r(l),f=n(319),p=r(f),d=n(321),v=r(d),g=n(318),y=r(g),m=n(315),x=r(m),_=n(314),b=r(_),w=n(320),E=r(w),M=n(316),S=r(M);e.Tween=h["default"],e.Lighter=p["default"],e.Radius=v["default"],e.Labels=y["default"],e.Events=a["default"],e.Zoom=c["default"],e.Plugin=o["default"],e.Cursors=x["default"],e.AutoResize=b["default"],e.LineIndex=E["default"],e.Directions=S["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(119),o=r(i),s=n(41),a=r(s),u=n(27),c=r(u),l=n(16),h=r(l),f=n(22),p=r(f),d=n(29),v=r(d),g=n(28),y=r(g),m=n(38),x=r(m),_=n(59),b=n(655),w=r(b),E=n(21),M=r(E),S=n(606),T=(r(S),n(611)),A=r(T);n(679);var Labels=(n(39)("poincare:labels"),function(t){function Labels(t,e){(0,h["default"])(this,Labels);var n=(0,v["default"])(this,(0,c["default"])(Labels).call(this));n._options=(0,a["default"])({template:"<b><%- label %></b>",getter:"label",offset:[-50,16]},e||{}),n._locked=[],n._pn=t,n._parentContainer=t.container(),"function"!=typeof n._options.getter&&(n._options.getter=(0,_.fieldGetter)(n._options.getter)),n._initLayer(),t.on("dimensions",function(t){n._layer.style({width:t[0]+"px",height:t[1]+"px"})});var r=n._x=function(t){return n._pn._core.xScale(t)+n._options.offset[0]},i=n._y=function(t){return n._pn._core.yScale(t)+n._options.offset[1]},o=70,s=function(){n._labels&&n._labels.transition().duration(250).style("opacity",0).remove(),n._labels=null,n._current_ids=[]},u=0;t.on("visiblenodes",function(t,e){return u=e,o>e?s():(n._current_ids=t,void n._highlightThese(t))}),t.on("frame",function(){n._labels&&n._labels.style("transform",function(t){return"translate("+Math.round(r(t.pos.x))+"px, "+Math.round(i(t.pos.y))+"px)"})});var l=w["default"].fromEvent("nodeout",t),f=w["default"].fromEvent("nodeover",t),p=w["default"].fromEvent("linkout",t),d=w["default"].fromEvent("linkover",t);return n._createTooltipEvents(f,l,"nodetip"),n._createTooltipEvents(d,p,"linktip"),n}return(0,y["default"])(Labels,t),(0,p["default"])(Labels,[{key:"_createTooltipEvents",value:function(t,e,n){var r=this._pn,i=t.concatMap(function(t){return w["default"].of(t).delay(1e3).until(e)});i.observe(function(t){r.emit(n+".activate",t),r.emit(n+".over",t)});var o=e.concatMap(function(e){return w["default"].of(e).delay(1e3).until(t)});o.observe(function(t){return r.emit(n+".deactivate",t)});var s=i.constant(o.take(1));i.concatMap(function(e){return t.during(s)}).observe(function(t){return r.emit(n+".over",t)})}},{key:"_resolveData",value:function(t){var e=this;return this._pn._core.selectNodes(t).filter(function(t){try{return e._options.getter(t.data)}catch(n){}return!1})}},{key:"_highlightThese",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],r=this._x,i=this._y,s=new o["default"](n),a=this._resolveData(t),u=this._labels=this._layer.selectAll(".label").data(a,function(t){return t.id});u.enter().append("div").attr("class",function(t){return"node-label-"+t.id}).classed("label",!0).append("div").classed("label-inner",!0).style("opacity",0).text(function(t){return e._options.getter(t.data)}).transition().duration(1e3).style("opacity",100),u.exit().classed("exiting",!0).transition().duration(250).style("opacity",0).remove(),u.filter(".exiting").classed("exiting",!1).transition().duration(250).style("opacity",100),u.classed("locked-label",function(t){return s.has(t.id)}).style("transform",function(t){return"translate("+Math.round(r(t.pos.x))+"px, "+Math.round(i(t.pos.y))+"px)"})}},{key:"_initLayer",value:function(){this._layer=x["default"].select(this._parentContainer).append("div").style({width:"200px",height:"200px",overflow:"hidden",position:"absolute",left:0,top:0}).classed("poincare-labels",!0)}},{key:"highlight",value:function(t){this._highlightThese((0,A["default"])(this._current_ids.concat(t)),t)}}]),Labels}(M["default"]));e["default"]=Labels,"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.plugins&&(window.poincare.plugins={}),window.poincare.plugins.Labels=Labels)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(41),o=r(i),s=n(27),a=r(s),u=n(16),c=r(u),l=n(22),h=r(l),f=n(29),p=r(f),d=n(28),v=r(d),g=n(115),y=r(g),m=n(303),x=r(m),_=n(59),b=n(175),w=n(21),E=r(w),Lighter=(n(39)("poincare:lighter"),function(t){function Lighter(t,e){(0,c["default"])(this,Lighter);var n=(0,p["default"])(this,(0,a["default"])(Lighter).call(this));return n._options=(0,o["default"])({color:"#F2EF42",linkColor:"#F1D0F5",radius:13},e||{}),n._pn=t,n._options.color=(0,_.css2pixi)(n._options.color),n._options.linkColor=(0,_.css2pixi)(n._options.linkColor),n._gfx=new y["default"].Graphics,n._linkGfx=new y["default"].Graphics,n._pn._core.groupContainer().addChildAt(n._gfx,0),n._pn._core.groupContainer().addChildAt(n._linkGfx,0),n._initNodeTransitioner(),n._initLinkTransitioner(),n}return(0,v["default"])(Lighter,t),(0,h["default"])(Lighter,[{key:"_initNodeTransitioner",value:function(){var t=this,e=this._pn.zoom;this._nodetrans=new b.Transitioner(this._pn).easing(x["default"].Easing.Sinusoidal.Out).duration(250,750).from(function(){return{r:26,opacity:0}}).to(function(){return{r:t._options.radius,opacity:1}}).beforeRendering(function(){t._gfx.clear()}).render(function(n,r,i,o){var s=t._pn._core.node(n);t._gfx.beginFill(t._options.color,r.opacity),t._gfx.drawCircle(i(s.pos.x),o(s.pos.y),r.r*e.truncatedScale())})}},{key:"_initLinkTransitioner",value:function(){var t=this,e=this._pn.zoom;this._linktrans=new b.Transitioner(this._pn).easing(x["default"].Easing.Sinusoidal.Out).duration(250,750).from(function(){return{opacity:0,width:21}}).to(function(){return{opacity:1,width:11}}).beforeRendering(function(){t._linkGfx.clear()}).render(function(n,r,i,o){var s=t._pn._core.link(n);t._linkGfx.lineStyle(r.width*e.truncatedScale(),t._options.linkColor,r.opacity),t._linkGfx.moveTo(i(s.from.x),o(s.from.y)),t._linkGfx.lineTo(i(s.to.x),o(s.to.y))})}},{key:"light",value:function(t){this._nodetrans.transition(t)}},{key:"lightLink",value:function(t){this._linktrans.transition(t)}},{key:"off",value:function(){this._pn._core.groupContainer().removeChild(this._gfx),this._pn._core.groupContainer().removeChild(this._linkGfx)}}]),Lighter}(E["default"]));e["default"]=Lighter,"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.plugins&&(window.poincare.plugins={}),window.poincare.plugins.Lighter=Lighter)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n,r){return[Math.min(t,n),Math.min(e,r),Math.max(t,n),Math.max(e,r)]}function o(t){return i(t.from.x,t.from.y,t.to.x,t.to.y)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(181),a=r(s),u=n(27),c=r(u),l=n(16),h=r(l),f=n(22),p=r(f),d=n(29),v=r(d),g=n(28),y=r(g),m=n(274),x=r(m),_=n(273),b=(r(_),n(115)),w=(r(b),n(601)),E=r(w),M=n(21),S=r(M),T=n(39)("poincare:lineindex"),A=function(t){return Math.pow(t,2)},C=function(t,e,n,r,i,o){return Math.abs((e-r)*i+(n-t)*o+(t*r-n*e))/Math.sqrt(A(n-t)+A(r-e))},LineIndex=function(t){function LineIndex(t,e){(0,h["default"])(this,LineIndex);var n=(0,v["default"])(this,(0,c["default"])(LineIndex).call(this));return n._pn=t,t.on("layoutstop",n._createLinkIndex,n),n._bbox={x0:0,y0:0,x1:0,y1:0},n}return(0,y["default"])(LineIndex,t),(0,p["default"])(LineIndex,[{key:"_createLinkIndex",value:function(){var t=this._tree=(0,x["default"])(9,[".x0",".y0",".x1",".y1"]);T("Will create link index");var e=this._pn._core.mapLinks(function(t){var e=o(t);return{id:t.id,x0:e[0],y0:e[1],x1:e[2],y1:e[3]}});t.load(e),this._rects=t.all(),this._rects.push(this._bbox),T("Link index created",t.all())}},{key:"_renderSquares",value:function(){var t=this;this._gfx.clear(),this._gfx.lineStyle(1,0);var e=this._pn._core,n=Math.round;this._rects.forEach(function(r){var i=n(e.xScale(r.x0)),o=n(e.yScale(r.y0)),s=n(e.xScale(r.x1)),a=n(e.yScale(r.y1));t._gfx.drawRoundedRect(i,o,s-i,a-o,5)})}},{key:"_pickNearest",value:function(t,e){return(0,E["default"])(t.map(function(t){return(0,a["default"])({d:C(t.from.x,t.from.y,t.to.x,t.to.y,e[0],e[1])},t)}),function(t){return t.d})}},{key:"nearest",value:function e(t){var n=arguments.length<=1||void 0===arguments[1]?30:arguments[1];if(null==this._tree)return null;var r=[t[0]-n,t[1]-n,t[0]+n,t[1]+n];this._bbox.x0=r[0],this._bbox.y0=r[1],this._bbox.x1=r[2],this._bbox.y1=r[3];var i=this._tree.search(r);if(i.length<1)return null;var o=this._pn._core.selectLinks(i.map(function(t){return t.id})),e=this._pickNearest(o,t);return e.d<=n?e.id:null}}]),LineIndex}(S["default"]);e["default"]=LineIndex,"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.plugins&&(window.poincare.plugins={}),window.poincare.plugins.LineIndex=LineIndex)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return(0,w["default"])(t.x-e.x,t.y-e.y)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(182),s=r(o),a=n(181),u=r(a),c=n(41),l=r(c),h=n(27),f=r(h),p=n(16),d=r(p),v=n(22),g=r(v),y=n(29),m=r(y),x=n(28),_=r(x),b=n(118),w=r(b),E=n(274),M=r(E),S=n(273),T=r(S),A=n(605),C=(r(A),n(21)),k=r(C),O=n(39)("poincare:radius"),Radius=function(t){function Radius(t,e){(0,d["default"])(this,Radius);var n=(0,m["default"])(this,(0,f["default"])(Radius).call(this));return n._options=(0,l["default"])({linkIndexFrequency:30},e||{}),n._pn=t,n._tree=null,n._lastRadius=0,t.on("layoutstop",function(){n._createIndex(),n._calculateRadiusMedian()},n),t.on("viewreset",n._calculateRadiusMedian,n),n}return(0,_["default"])(Radius,t),(0,g["default"])(Radius,[{key:"_createIndex",value:function(){O("Will create node index");var t=this._tree=(0,M["default"])(9,[".x",".y",".x",".y"]),e=this._pn._core.mapNodes(function(t){return(0,u["default"])({id:t.id},t.pos)});t.load(e),O("Index created",e)}},{key:"getNodesByBbox",value:function(t){return this._tree.search([t.x,t.y,t.x+t.w,t.y+t.h]).map(function(t){return t.id})}},{key:"_calculateRadiusMedian",value:function(){if(null!=this._tree){var t=this._pn.zoom.bbox(),e=this._pn.zoom.scale();O("current viewport is",t);var n=this.getNodesByBbox(t);O("found these nodes in current viewport",n);var r=this._radiusFor(n);this._lastRadius=r,this._pn.emit("visiblenodes",n,r*e)}}},{key:"lastRadiusForScale",value:function(t){return this._lastRadius*t}},{key:"nearest",value:function e(t){var n=arguments.length<=1||void 0===arguments[1]?30:arguments[1];if(null==this._tree)return null;var r=(0,T["default"])(this._tree,t,1),i=(0,s["default"])(r,1),e=i[0];if(e){var o=(0,w["default"])(e.x-t[0],e.y-t[1]);if(n>=o)return e.id}return null}},{key:"_radiusFor",value:function(t){var e=this,n=0;return t.forEach(function(t){var r=e._pn._core.node(t),o=r.pos,a=(0,T["default"])(e._tree,[o.x,o.y],2),u=(0,s["default"])(a,2),c=(u[0],u[1]);n+=i(o,c)}),n/t.length}}]),Radius}(k["default"]);e["default"]=Radius,"undefined"!=typeof window&&(null==window.poincare&&(window.poincare={}),null==window.poincare.plugins&&(window.poincare.plugins={}),window.poincare.plugins.Radius=Radius)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.message=t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(178),s=r(o),a=n(177),u=r(a),c=n(16),l=r(c),h=n(22),f=r(h);e.PoincareError=i;var p=n(305),d=r(p),v=n(40),g=r(v),y=n(221),m=(r(y),n(270)),x=r(m),_=n(657),b=r(_),w=n(38),E=r(w),M=n(310),S=r(M),T=n(308),A=r(T),C=n(39)("poincare:anri");d["default"].inherits(i,Error),i.prototype.name="PoincareError";var k=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,l["default"])(this,t),this._options=S["default"].defaults,this._graph=new x["default"],this.options(e),this._initEmitter(),this._initContainer(),this._initLayout(),this._initCore(),this._installPlugins(),this.updateDimensions(),this.emit("init")}return(0,f["default"])(t,[{key:"_initEmitter",value:function(){this._events=new g["default"],this.on=this._events.on.bind(this._events),this.addListener=this._events.addListener.bind(this._events),this.removeListener=this._events.removeListener.bind(this._events),this.off=this._events.off.bind(this._events),this.once=this._events.once.bind(this._events),this.emit=this._events.emit.bind(this._events)}},{key:"_initLayout",value:function(){if("force"===this._options.layout)return void(this._layout=(0,b["default"])(this._graph,this._options.physics));throw new i("No such layout supported: "+this._options.layout)}},{key:"_installPlugins",value:function(){var t=(0,u["default"])(this._options.plugins);t.sort(function(t,e){return t.priority-e.priority});var e=!0,n=!1,r=void 0;try{for(var i,o=(0,s["default"])(t);!(e=(i=o.next()).done);e=!0){var a=i.value,c=a.name.toLowerCase();this[c]=new a(this,this._options[c]),C('Plugin "%s" installed',c)}}catch(l){n=!0,r=l}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"_uninstallPlugins",value:function(){}},{key:"_initContainer",value:function(){if(this._container="string"==typeof this._options.container?document.querySelector(this._options.container):this._options.container,null==this._container)throw new i("No container '"+this._options.container+"' is found");E["default"].select(this._container).classed("poincare-graph",!0)}},{key:"container",value:function(){return this._container}},{key:"updateDimensions",value:function(){var t=this._container.getBoundingClientRect();this._dims=[t.width,t.height],this.emit("dimensions",this._dims)}},{key:"size",value:function(){return this._dims.slice()}},{key:"_initCore",value:function(){this._core=new A["default"]({options:this._options,container:this._container,dims:this._dims,layout:this._layout,zoom:this.zoom,pn:this})}},{key:"core",value:function(){return this._core}},{key:"options",value:function(t){return null!=t&&(this._options=S["default"].merge(this._options,t)),this._options}},{key:"layout",value:function(){return this._layout}},{key:"run",value:function(){this._core.run(),this.emit("run")}},{key:"stop",value:function(){this._core.stopLayout()}},{key:"graph",value:function(t){return null!=t&&(this._graph=t,C("Attempting to display graph [%o, %o]",t.getNodesCount(),t.getLinksCount()),this._initLayout(),this._core.init(this._graph,this._layout)),this._graph}}]),t}();e["default"]=k},function(t,e,n){(function(t){"use strict";if(n(486),n(324),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0}).call(e,function(){return this}())},function(t,e,n){(function(e,n){!function(e){"use strict";function r(t,e,n,r){var i=Object.create((e||o).prototype),s=new d(r||[]);return i._invoke=h(t,n,s),i}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function o(){}function s(){}function a(){}function u(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function c(t){this.arg=t}function l(t){function e(e,n){var r=t[e](n),i=r.value;return i instanceof c?Promise.resolve(i.arg).then(o,s):Promise.resolve(i).then(function(t){return r.value=t,r})}function r(t,n){function r(){return e(t,n)}return i=i?i.then(r,r):new Promise(function(t){t(r())})}"object"==typeof n&&n.domain&&(e=n.domain.bind(e));var i,o=e.bind(t,"next"),s=e.bind(t,"throw");e.bind(t,"return");this._invoke=r}function h(t,e,n){var r=w;return function(o,s){if(r===M)throw new Error("Generator is already running");if(r===S){if("throw"===o)throw s;return g()}for(;;){var a=n.delegate;if(a){if("return"===o||"throw"===o&&a.iterator[o]===y){n.delegate=null;var u=a.iterator["return"];if(u){var c=i(u,a.iterator,s);if("throw"===c.type){o="throw",s=c.arg;continue}}if("return"===o)continue}var c=i(a.iterator[o],a.iterator,s);if("throw"===c.type){n.delegate=null,o="throw",s=c.arg;continue}o="next",s=y;var l=c.arg;if(!l.done)return r=E,l;n[a.resultName]=l.value,n.next=a.nextLoc,n.delegate=null}if("next"===o)n._sent=s,r===E?n.sent=s:n.sent=y;else if("throw"===o){if(r===w)throw r=S,s;n.dispatchException(s)&&(o="next",s=y)}else"return"===o&&n.abrupt("return",s);r=M;var c=i(t,e,n);if("normal"===c.type){r=n.done?S:E;var l={value:c.arg,done:n.done};if(c.arg!==T)return l;n.delegate&&"next"===o&&(s=y)}else"throw"===c.type&&(r=S,o="throw",s=c.arg)}}}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function v(t){if(t){var e=t[x];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function i(){for(;++n<t.length;)if(m.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=y,i.done=!0,i};return r.next=r}}return{next:g}}function g(){return{value:y,done:!0}}var y,m=Object.prototype.hasOwnProperty,x="function"==typeof Symbol&&Symbol.iterator||"@@iterator",_="object"==typeof t,b=e.regeneratorRuntime;if(b)return void(_&&(t.exports=b));b=e.regeneratorRuntime=_?t.exports:{},b.wrap=r;var w="suspendedStart",E="suspendedYield",M="executing",S="completed",T={},A=a.prototype=o.prototype;s.prototype=A.constructor=a,a.constructor=s,s.displayName="GeneratorFunction",b.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return e?e===s||"GeneratorFunction"===(e.displayName||e.name):!1},b.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a,t.prototype=Object.create(A),t},b.awrap=function(t){return new c(t)},u(l.prototype),b.async=function(t,e,n,i){var o=new l(r(t,e,n,i));return b.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},u(A),A[x]=function(){return this},A.toString=function(){return"[object Generator]"},b.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},b.values=v,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=y,this.done=!1,this.delegate=null,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=m.call(i,"catchLoc"),a=m.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?this.next=i.finallyLoc:this.complete(o),T},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),p(n),T}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;p(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:v(t),resultName:e,nextLoc:n},T}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,function(){return this}(),n(50))},function(t,e,n){t.exports={"default":n(334),__esModule:!0}},function(t,e,n){t.exports={"default":n(337),__esModule:!0}},function(t,e,n){t.exports={"default":n(341),__esModule:!0}},function(t,e,n){t.exports={"default":n(343),__esModule:!0}},function(t,e,n){t.exports={"default":n(344),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(179),o=r(i);e["default"]=function(t,e,n){return e in t?(0,o["default"])(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(177),o=r(i);e["default"]=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o["default"])(t)}},function(t,e,n){n(66),n(362),t.exports=n(17).Array.from},function(t,e,n){n(84),n(66),t.exports=n(360)},function(t,e,n){n(84),n(66),t.exports=n(361)},function(t,e,n){n(364),t.exports=n(17).Math.hypot},function(t,e,n){n(365),t.exports=n(17).Object.assign},function(t,e,n){var r=n(13);t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(13);t.exports=function(t,e,n){return r.setDesc(t,e,n)}},function(t,e,n){n(366),t.exports=n(17).Object.getPrototypeOf},function(t,e,n){n(367),t.exports=n(17).Object.keys},function(t,e,n){n(368),t.exports=n(17).Object.setPrototypeOf},function(t,e,n){n(195),n(66),n(84),n(369),n(371),t.exports=n(17).Set},function(t,e,n){n(370),n(195),t.exports=n(17).Symbol},function(t,e,n){n(66),n(84),t.exports=n(23)("iterator")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var r=n(13),i=n(65),o=n(190),s=n(61),a=n(192),u=n(78),c=n(122),l=n(123),h=n(187),f=n(126)("id"),p=n(79),d=n(80),v=n(358),g=n(62),y=Object.isExtensible||d,m=g?"_s":"size",x=0,_=function(t,e){if(!d(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!p(t,f)){if(!y(t))return"F";if(!e)return"E";i(t,f,++x)}return"O"+t[f]},b=function(t,e){var n,r=_(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,i){var l=t(function(t,o){a(t,l,e),t._i=r.create(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=o&&c(o,n,t[i],t)});return o(l.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[m]=0},"delete":function(t){var e=this,n=b(e,t);if(n){var r=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e._f==n&&(e._f=r),e._l==n&&(e._l=i),e[m]--}return!!n},forEach:function(t){for(var e,n=s(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!b(this,t)}}),g&&r.setDesc(l.prototype,"size",{get:function(){return u(this[m])}}),l},def:function(t,e,n){var r,i,o=b(t,e);return o?o.v=n:(t._l=o={i:i=_(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:b,setStrong:function(t,e,n){l(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?h(0,n.k):"values"==e?h(0,n.v):h(0,[n.k,n.v]):(t._t=void 0,h(1))},n?"entries":"values",!n,!0),v(e)}}},function(t,e,n){var r=n(122),i=n(120);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");var e=[];return r(this,!1,e.push,e),e}}},function(t,e,n){"use strict";var r=n(13),i=n(64),o=n(34),s=n(63),a=n(65),u=n(190),c=n(122),l=n(192),h=n(80),f=n(81),p=n(62);t.exports=function(t,e,n,d,v,g){var y=i[t],m=y,x=v?"set":"add",_=m&&m.prototype,b={};return p&&"function"==typeof m&&(g||_.forEach&&!s(function(){(new m).entries().next()}))?(m=e(function(e,n){l(e,m,t),e._c=new y,void 0!=n&&c(n,v,e[x],e)}),r.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(t){var e="add"==t||"set"==t;t in _&&(!g||"clear"!=t)&&a(m.prototype,t,function(n,r){if(!e&&g&&!h(n))return"get"==t?void 0:!1;var i=this._c[t](0===n?0:n,r);return e?this:i})}),"size"in _&&r.setDesc(m.prototype,"size",{get:function(){return this._c.size}})):(m=d.getConstructor(e,t,v,x),u(m.prototype,n)),f(m,t),b[t]=m,o(o.G+o.W+o.F,b),g||d.setStrong(m,t,v),m}},function(t,e,n){var r=n(13);t.exports=function(t){var e=r.getKeys(t),n=r.getSymbols;if(n)for(var i,o=n(t),s=r.isEnum,a=0;o.length>a;)s.call(t,i=o[a++])&&e.push(i);return e}},function(t,e,n){var r=n(82),i=n(13).getNames,o={}.toString,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return s.slice()}};t.exports.get=function(t){return s&&"[object Window]"==o.call(t)?a(t):i(r(t))}},function(t,e,n){var r=n(121);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(13),i=n(124),o=n(81),s={};n(65)(s,n(23)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r.create(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(23)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){n=!0},o[r]=function(){return s},t(o)}catch(a){}return n}},function(t,e,n){var r=n(13),i=n(82);t.exports=function(t,e){for(var n,o=i(t),s=r.getKeys(o),a=s.length,u=0;a>u;)if(o[n=s[u++]]===e)return n}},function(t,e,n){var r=n(13),i=n(83),o=n(184);t.exports=n(63)(function(){var t=Object.assign,e={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach(function(t){n[t]=t}),7!=t({},e)[r]||Object.keys(t({},n)).join("")!=i})?function(t,e){for(var n=i(t),s=arguments,a=s.length,u=1,c=r.getKeys,l=r.getSymbols,h=r.isEnum;a>u;)for(var f,p=o(s[u++]),d=l?c(p).concat(l(p)):c(p),v=d.length,g=0;v>g;)h.call(p,f=d[g++])&&(n[f]=p[f]);return n}:Object.assign},function(t,e,n){var r=n(13).getDesc,i=n(80),o=n(60),s=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(61)(Function.call,r(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return s(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:s}},function(t,e,n){"use strict";var r=n(17),i=n(13),o=n(62),s=n(23)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.setDesc(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(193),i=n(78);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),c=a.length;return 0>u||u>=c?t?"":void 0:(o=a.charCodeAt(u),55296>o||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):(o-55296<<10)+(s-56320)+65536)}}},function(t,e,n){var r=n(60),i=n(127);t.exports=n(17).getIterator=function(t){
var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(120),i=n(23)("iterator"),o=n(52);t.exports=n(17).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){"use strict";var r=n(61),i=n(34),o=n(83),s=n(186),a=n(185),u=n(194),c=n(127);i(i.S+i.F*!n(354)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,l,h=o(t),f="function"==typeof this?this:Array,p=arguments,d=p.length,v=d>1?p[1]:void 0,g=void 0!==v,y=0,m=c(h);if(g&&(v=r(v,d>2?p[2]:void 0,2)),void 0==m||f==Array&&a(m))for(e=u(h.length),n=new f(e);e>y;y++)n[y]=g?v(h[y],y):h[y];else for(l=m.call(h),n=new f;!(i=l.next()).done;y++)n[y]=g?s(l,v,[i.value,y],!0):i.value;return n.length=y,n}})},function(t,e,n){"use strict";var r=n(346),i=n(187),o=n(52),s=n(82);t.exports=n(123)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(34),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,s=0,a=arguments,u=a.length,c=0;u>s;)n=i(a[s++]),n>c?(r=c/n,o=o*r*r+1,c=n):n>0?(r=n/c,o+=r*r):o+=n;return c===1/0?1/0:c*Math.sqrt(o)}})},function(t,e,n){var r=n(34);r(r.S+r.F,"Object",{assign:n(356)})},function(t,e,n){var r=n(83);n(189)("getPrototypeOf",function(t){return function(e){return t(r(e))}})},function(t,e,n){var r=n(83);n(189)("keys",function(t){return function(e){return t(r(e))}})},function(t,e,n){var r=n(34);r(r.S,"Object",{setPrototypeOf:n(357).set})},function(t,e,n){"use strict";var r=n(347);n(349)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(13),i=n(64),o=n(79),s=n(62),a=n(34),u=n(125),c=n(63),l=n(191),h=n(81),f=n(126),p=n(23),d=n(355),v=n(351),g=n(350),y=n(352),m=n(60),x=n(82),_=n(124),b=r.getDesc,w=r.setDesc,E=r.create,M=v.get,S=i.Symbol,T=i.JSON,A=T&&T.stringify,C=!1,k=p("_hidden"),O=r.isEnum,R=l("symbol-registry"),D=l("symbols"),P="function"==typeof S,F=Object.prototype,N=s&&c(function(){return 7!=E(w({},"a",{get:function(){return w(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=b(F,e);r&&delete F[e],w(t,e,n),r&&t!==F&&w(F,e,r)}:w,L=function(t){var e=D[t]=E(S.prototype);return e._k=t,s&&C&&N(F,t,{configurable:!0,set:function(e){o(this,k)&&o(this[k],t)&&(this[k][t]=!1),N(this,t,_(1,e))}}),e},B=function(t){return"symbol"==typeof t},I=function(t,e,n){return n&&o(D,e)?(n.enumerable?(o(t,k)&&t[k][e]&&(t[k][e]=!1),n=E(n,{enumerable:_(0,!1)})):(o(t,k)||w(t,k,_(1,{})),t[k][e]=!0),N(t,e,n)):w(t,e,n)},j=function(t,e){m(t);for(var n,r=g(e=x(e)),i=0,o=r.length;o>i;)I(t,n=r[i++],e[n]);return t},U=function(t,e){return void 0===e?E(t):j(E(t),e)},z=function(t){var e=O.call(this,t);return e||!o(this,t)||!o(D,t)||o(this,k)&&this[k][t]?e:!0},W=function(t,e){var n=b(t=x(t),e);return!n||!o(D,e)||o(t,k)&&t[k][e]||(n.enumerable=!0),n},Y=function(t){for(var e,n=M(x(t)),r=[],i=0;n.length>i;)o(D,e=n[i++])||e==k||r.push(e);return r},X=function(t){for(var e,n=M(x(t)),r=[],i=0;n.length>i;)o(D,e=n[i++])&&r.push(D[e]);return r},G=function(t){if(void 0!==t&&!B(t)){for(var e,n,r=[t],i=1,o=arguments;o.length>i;)r.push(o[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){return n&&(e=n.call(this,t,e)),B(e)?void 0:e}),r[1]=e,A.apply(T,r)}},q=c(function(){var t=S();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))});P||(S=function(){if(B(this))throw TypeError("Symbol is not a constructor");return L(f(arguments.length>0?arguments[0]:void 0))},u(S.prototype,"toString",function(){return this._k}),B=function(t){return t instanceof S},r.create=U,r.isEnum=z,r.getDesc=W,r.setDesc=I,r.setDescs=j,r.getNames=v.get=Y,r.getSymbols=X,s&&!n(188)&&u(F,"propertyIsEnumerable",z,!0));var H={"for":function(t){return o(R,t+="")?R[t]:R[t]=S(t)},keyFor:function(t){return d(R,t)},useSetter:function(){C=!0},useSimple:function(){C=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var e=p(t);H[t]=P?e:L(e)}),C=!0,a(a.G+a.W,{Symbol:S}),a(a.S,"Symbol",H),a(a.S+a.F*!P,"Object",{create:U,defineProperty:I,defineProperties:j,getOwnPropertyDescriptor:W,getOwnPropertyNames:Y,getOwnPropertySymbols:X}),T&&a(a.S+a.F*(!P||q),"JSON",{stringify:G}),h(S,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){var r=n(34);r(r.P,"Set",{toJSON:n(348)("Set")})},function(t,e,n){"use strict";var r=n(44),i=n(70),o=n(25);t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),a=i(t,s),u=i(e,s),c=arguments,l=c.length>2?c[2]:void 0,h=Math.min((void 0===l?s:i(l,s))-u,s-a),f=1;for(a>u&&u+h>a&&(f=-1,u+=h-1,a+=h-1);h-- >0;)u in n?n[a]=n[u]:delete n[a],a+=f,u+=f;return n}},function(t,e,n){"use strict";var r=n(44),i=n(70),o=n(25);t.exports=[].fill||function(t){for(var e=r(this),n=o(e.length),s=arguments,a=s.length,u=i(a>1?s[1]:void 0,n),c=a>2?s[2]:void 0,l=void 0===c?n:i(c,n);l>u;)e[u++]=t;return e}},function(t,e,n){var r=n(5),i=n(129),o=n(9)("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),r(n)&&(n=n[o],null===n&&(n=void 0))),new(void 0===n?Array:n)(e)}},function(t,e,n){var r=n(3);t.exports=function(t){var e=r.getKeys(t),n=r.getSymbols;if(n)for(var i,o=n(t),s=r.isEnum,a=0;o.length>a;)s.call(t,i=o[a++])&&e.push(i);return e}},function(t,e,n){var r=n(3),i=n(33);t.exports=function(t,e){for(var n,o=i(t),s=r.getKeys(o),a=s.length,u=0;a>u;)if(o[n=s[u++]]===e)return n}},function(t,e,n){var r,i,o,s=n(10),a=n(217).set,u=s.MutationObserver||s.WebKitMutationObserver,c=s.process,l=s.Promise,h="process"==n(42)(c),f=function(){var t,e,n;for(h&&(t=c.domain)&&(c.domain=null,t.exit());r;)e=r.domain,n=r.fn,e&&e.enter(),n(),e&&e.exit(),r=r.next;i=void 0,t&&t.enter()};if(h)o=function(){c.nextTick(f)};else if(u){var p=1,d=document.createTextNode("");new u(f).observe(d,{characterData:!0}),o=function(){d.data=p=-p}}else o=l&&l.resolve?function(){l.resolve().then(f)}:function(){a.call(s,f)};t.exports=function(t){var e={fn:t,next:void 0,domain:h&&c.domain};i&&(i.next=e),r||(r=e,o()),i=e}},function(t,e,n){var r=n(3),i=n(44),o=n(90);t.exports=n(14)(function(){var t=Object.assign,e={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach(function(t){n[t]=t}),7!=t({},e)[r]||Object.keys(t({},n)).join("")!=i})?function(t,e){for(var n=i(t),s=arguments,a=s.length,u=1,c=r.getKeys,l=r.getSymbols,h=r.isEnum;a>u;)for(var f,p=o(s[u++]),d=l?c(p).concat(l(p)):c(p),v=d.length,g=0;v>g;)h.call(p,f=d[g++])&&(n[f]=p[f]);return n}:Object.assign},function(t,e,n){"use strict";var r=n(380),i=n(89),o=n(53);t.exports=function(){for(var t=o(this),e=arguments.length,n=Array(e),s=0,a=r._,u=!1;e>s;)(n[s]=arguments[s++])===a&&(u=!0);return function(){var r,o=this,s=arguments,c=s.length,l=0,h=0;if(!u&&!c)return i(t,n,o);if(r=n.slice(),u)for(;e>l;l++)r[l]===a&&(r[l]=s[h++]);for(;c>h;)r.push(s[h++]);return i(t,r,o)}}},function(t,e,n){t.exports=n(10)},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){var r=n(8),i=n(53),o=n(9)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";var r,i=n(3),o=n(1),s=n(30),a=n(47),u=n(203),c=n(200),l=n(24),h=n(42),f=n(89),p=n(14),d=n(8),v=n(53),g=n(5),y=n(44),m=n(33),x=n(71),_=n(70),b=n(25),w=n(90),E=n(55)("__proto__"),M=n(85),S=n(196)(!1),T=Object.prototype,A=Array.prototype,C=A.slice,k=A.join,O=i.setDesc,R=i.getDesc,D=i.setDescs,P={};s||(r=!p(function(){return 7!=O(c("div"),"a",{get:function(){return 7}}).a}),i.setDesc=function(t,e,n){if(r)try{return O(t,e,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(d(t)[e]=n.value),t},i.getDesc=function(t,e){if(r)try{return R(t,e)}catch(n){}return l(t,e)?a(!T.propertyIsEnumerable.call(t,e),t[e]):void 0},i.setDescs=D=function(t,e){d(t);for(var n,r=i.getKeys(e),o=r.length,s=0;o>s;)i.setDesc(t,n=r[s++],e[n]);return t}),o(o.S+o.F*!s,"Object",{getOwnPropertyDescriptor:i.getDesc,defineProperty:i.setDesc,defineProperties:D});var F="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),N=F.concat("length","prototype"),L=F.length,B=function(){var t,e=c("iframe"),n=L,r=">";for(e.style.display="none",u.appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object</script"+r),t.close(),B=t.F;n--;)delete B.prototype[F[n]];return B()},I=function(t,e){return function(n){var r,i=m(n),o=0,s=[];for(r in i)r!=E&&l(i,r)&&s.push(r);for(;e>o;)l(i,r=t[o++])&&(~S(s,r)||s.push(r));return s}},j=function(){};o(o.S,"Object",{getPrototypeOf:i.getProto=i.getProto||function(t){return t=y(t),l(t,E)?t[E]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?T:null},getOwnPropertyNames:i.getNames=i.getNames||I(N,N.length,!0),create:i.create=i.create||function(t,e){var n;return null!==t?(j.prototype=d(t),n=new j,j.prototype=null,n[E]=t):n=B(),void 0===e?n:D(n,e)},keys:i.getKeys=i.getKeys||I(F,L,!1)});var U=function(t,e,n){if(!(e in P)){for(var r=[],i=0;e>i;i++)r[i]="a["+i+"]";P[e]=Function("F,a","return new F("+r.join(",")+")")}return P[e](t,n)};o(o.P,"Function",{bind:function(t){var e=v(this),n=C.call(arguments,1),r=function(){var i=n.concat(C.call(arguments));return this instanceof r?U(e,i.length,i):f(e,i,t)};return g(e.prototype)&&(r.prototype=e.prototype),r}}),o(o.P+o.F*p(function(){u&&C.call(u)}),"Array",{slice:function(t,e){var n=b(this.length),r=h(this);if(e=void 0===e?n:e,"Array"==r)return C.call(this,t,e);for(var i=_(t,n),o=_(e,n),s=b(o-i),a=Array(s),u=0;s>u;u++)a[u]="String"==r?this.charAt(i+u):this[i+u];return a}}),o(o.P+o.F*(w!=Object),"Array",{join:function(t){return k.call(w(this),void 0===t?",":t)}}),o(o.S,"Array",{isArray:n(129)});var z=function(t){return function(e,n){v(e);var r=w(this),i=b(r.length),o=t?i-1:0,s=t?-1:1;if(arguments.length<2)for(;;){if(o in r){n=r[o],o+=s;break}if(o+=s,t?0>o:o>=i)throw TypeError("Reduce of empty array with no initial value")}for(;t?o>=0:i>o;o+=s)o in r&&(n=e(n,r[o],o,this));return n}},W=function(t){return function(e){return t(this,e,arguments[1])}};o(o.P,"Array",{forEach:i.each=i.each||W(M(0)),map:W(M(1)),filter:W(M(2)),some:W(M(3)),every:W(M(4)),reduce:z(!1),reduceRight:z(!0),indexOf:W(S),lastIndexOf:function(t,e){var n=m(this),r=b(n.length),i=r-1;for(arguments.length>1&&(i=Math.min(i,x(e))),0>i&&(i=b(r+i));i>=0;i--)if(i in n&&n[i]===t)return i;return-1}}),o(o.S,"Date",{now:function(){return+new Date}});var Y=function(t){return t>9?t:"0"+t};o(o.P+o.F*(p(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!p(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=0>e?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+Y(t.getUTCMonth()+1)+"-"+Y(t.getUTCDate())+"T"+Y(t.getUTCHours())+":"+Y(t.getUTCMinutes())+":"+Y(t.getUTCSeconds())+"."+(n>99?n:"0"+Y(n))+"Z"}})},function(t,e,n){var r=n(1);r(r.P,"Array",{copyWithin:n(372)}),n(54)("copyWithin")},function(t,e,n){var r=n(1);r(r.P,"Array",{fill:n(373)}),n(54)("fill")},function(t,e,n){"use strict";var r=n(1),i=n(85)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(54)(o)},function(t,e,n){"use strict";var r=n(1),i=n(85)(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(54)(o)},function(t,e,n){"use strict";var r=n(35),i=n(1),o=n(44),s=n(207),a=n(204),u=n(25),c=n(218);i(i.S+i.F*!n(131)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,l,h=o(t),f="function"==typeof this?this:Array,p=arguments,d=p.length,v=d>1?p[1]:void 0,g=void 0!==v,y=0,m=c(h);if(g&&(v=r(v,d>2?p[2]:void 0,2)),void 0==m||f==Array&&a(m))for(e=u(h.length),n=new f(e);e>y;y++)n[y]=g?v(h[y],y):h[y];else for(l=m.call(h),n=new f;!(i=l.next()).done;y++)n[y]=g?s(l,v,[i.value,y],!0):i.value;return n.length=y,n}})},function(t,e,n){"use strict";var r=n(1);r(r.S+r.F*n(14)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments,n=e.length,r=new("function"==typeof this?this:Array)(n);n>t;)r[t]=e[t++];return r.length=n,r}})},function(t,e,n){n(92)("Array")},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(9)("hasInstance"),s=Function.prototype;o in s||r.setDesc(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r.getProto(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(3).setDesc,i=n(47),o=n(24),s=Function.prototype,a=/^\s*function ([^ (]*)/,u="name";u in s||n(30)&&r(s,u,{configurable:!0,get:function(){var t=(""+this).match(a),e=t?t[1]:"";return o(this,u)||r(this,u,i(5,e)),e}})},function(t,e,n){"use strict";var r=n(197);n(87)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(this,t);return e&&e.v},set:function(t,e){return r.def(this,0===t?0:t,e)}},r,!0)},function(t,e,n){var r=n(1),i=n(210),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?0>t?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(1);i(i.S,"Math",{asinh:r})},function(t,e,n){var r=n(1);r(r.S,"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(1),i=n(134);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(1),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(1);r(r.S,"Math",{expm1:n(133)})},function(t,e,n){var r=n(1),i=n(134),o=Math.pow,s=o(2,-52),a=o(2,-23),u=o(2,127)*(2-a),c=o(2,-126),l=function(t){return t+1/s-1/s};r(r.S,"Math",{fround:function(t){var e,n,r=Math.abs(t),o=i(t);return c>r?o*l(r/c/a)*c*a:(e=(1+a/s)*r,n=e-(e-r),n>u||n!=n?o*(1/0):o*n)}})},function(t,e,n){var r=n(1),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,s=0,a=arguments,u=a.length,c=0;u>s;)n=i(a[s++]),n>c?(r=c/n,o=o*r*r+1,c=n):n>0?(r=n/c,o+=r*r):o+=n;return c===1/0?1/0:c*Math.sqrt(o)}})},function(t,e,n){var r=n(1),i=Math.imul;r(r.S+r.F*n(14)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,e,n){var r=n(1);r(r.S,"Math",{log1p:n(210)})},function(t,e,n){var r=n(1);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(1);r(r.S,"Math",{sign:n(134)})},function(t,e,n){var r=n(1),i=n(133),o=Math.exp;r(r.S+r.F*n(14)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(1),i=n(133),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(1);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){"use strict";var r=n(3),i=n(10),o=n(24),s=n(42),a=n(383),u=n(14),c=n(94).trim,l="Number",h=i[l],f=h,p=h.prototype,d=s(r.create(p))==l,v="trim"in String.prototype,g=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():c(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,u=e.slice(2),l=0,h=u.length;h>l;l++)if(s=u.charCodeAt(l),48>s||s>i)return NaN;return parseInt(u,r)}}return+e};h(" 0o1")&&h("0b1")&&!h("+0x1")||(h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(d?u(function(){p.valueOf.call(n)}):s(n)!=l)?new f(g(e)):g(e)},r.each.call(n(30)?r.getNames(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(t){o(f,t)&&!o(h,t)&&r.setDesc(h,t,r.getDesc(f,t))}),h.prototype=p,p.constructor=h,n(32)(i,l,h))},function(t,e,n){var r=n(1);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(1),i=n(10).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(1);r(r.S,"Number",{isInteger:n(205)})},function(t,e,n){var r=n(1);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(1),i=n(205),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(1);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(1);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(1);r(r.S,"Number",{parseFloat:parseFloat})},function(t,e,n){var r=n(1);r(r.S,"Number",{parseInt:parseInt})},function(t,e,n){var r=n(1);r(r.S+r.F,"Object",{assign:n(378)})},function(t,e,n){var r=n(5);n(31)("freeze",function(t){return function(e){return t&&r(e)?t(e):e}})},function(t,e,n){var r=n(33);n(31)("getOwnPropertyDescriptor",function(t){return function(e,n){return t(r(e),n)}})},function(t,e,n){n(31)("getOwnPropertyNames",function(){return n(202).get})},function(t,e,n){var r=n(44);n(31)("getPrototypeOf",function(t){return function(e){return t(r(e))}})},function(t,e,n){var r=n(5);n(31)("isExtensible",function(t){return function(e){return r(e)?t?t(e):!0:!1}})},function(t,e,n){var r=n(5);n(31)("isFrozen",function(t){return function(e){return r(e)?t?t(e):!1:!0}})},function(t,e,n){var r=n(5);n(31)("isSealed",function(t){return function(e){return r(e)?t?t(e):!1:!0}})},function(t,e,n){var r=n(1);r(r.S,"Object",{is:n(213)})},function(t,e,n){var r=n(44);n(31)("keys",function(t){return function(e){return t(r(e))}})},function(t,e,n){var r=n(5);n(31)("preventExtensions",function(t){return function(e){return t&&r(e)?t(e):e}})},function(t,e,n){var r=n(5);n(31)("seal",function(t){return function(e){return t&&r(e)?t(e):e}})},function(t,e,n){var r=n(1);r(r.S,"Object",{setPrototypeOf:n(135).set})},function(t,e,n){"use strict";var r=n(86),i={};i[n(9)("toStringTag")]="z",i+""!="[object z]"&&n(32)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){"use strict";var r,i=n(3),o=n(132),s=n(10),a=n(35),u=n(86),c=n(1),l=n(5),h=n(8),f=n(53),p=n(93),d=n(67),v=n(135).set,g=n(213),y=n(9)("species"),m=n(382),x=n(377),_="Promise",b=s.process,w="process"==u(b),E=s[_],M=function(t){var e=new E(function(){});return t&&(e.constructor=Object),E.resolve(e)===e},S=function(){function t(e){var n=new E(e);return v(n,t.prototype),n}var e=!1;try{if(e=E&&E.resolve&&M(),v(t,E),t.prototype=i.create(E.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(e=!1),e&&n(30)){var r=!1;E.resolve(i.setDesc({},"then",{get:function(){r=!0}})),e=r}}catch(o){e=!1}return e}(),T=function(t,e){return o&&t===E&&e===r?!0:g(t,e)},A=function(t){var e=h(t)[y];return void 0!=e?e:t},C=function(t){var e;return l(t)&&"function"==typeof(e=t.then)?e:!1},k=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=f(e),this.reject=f(n)},O=function(t){try{t()}catch(e){return{error:e}}},R=function(t,e){if(!t.n){t.n=!0;var n=t.c;x(function(){for(var r=t.v,i=1==t.s,o=0,a=function(e){var n,o,s=i?e.ok:e.fail,a=e.resolve,u=e.reject;try{s?(i||(t.h=!0),n=s===!0?r:s(r),n===e.promise?u(TypeError("Promise-chain cycle")):(o=C(n))?o.call(n,a,u):a(n)):u(r)}catch(c){u(c)}};n.length>o;)a(n[o++]);n.length=0,t.n=!1,e&&setTimeout(function(){var e,n,i=t.p;D(i)&&(w?b.emit("unhandledRejection",r,i):(e=s.onunhandledrejection)?e({promise:i,reason:r}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",r)),t.a=void 0},1)})}},D=function(t){var e,n=t._d,r=n.a||n.c,i=0;if(n.h)return!1;for(;r.length>i;)if(e=r[i++],e.fail||!D(e.promise))return!1;return!0},P=function(t){var e=this;e.d||(e.d=!0,e=e.r||e,e.v=t,e.s=2,e.a=e.c.slice(),R(e,!0))},F=function(t){var e,n=this;if(!n.d){n.d=!0,n=n.r||n;try{if(n.p===t)throw TypeError("Promise can't be resolved itself");(e=C(t))?x(function(){var r={r:n,d:!1};try{e.call(t,a(F,r,1),a(P,r,1))}catch(i){P.call(r,i)}}):(n.v=t,n.s=1,R(n,!1))}catch(r){P.call({r:n,d:!1},r)}}};S||(E=function(t){f(t);var e=this._d={p:p(this,E,_),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{t(a(F,e,1),a(P,e,1))}catch(n){P.call(e,n)}},n(91)(E.prototype,{then:function(t,e){var n=new k(m(this,E)),r=n.promise,i=this._d;return n.ok="function"==typeof t?t:!0,n.fail="function"==typeof e&&e,i.c.push(n),i.a&&i.a.push(n),i.s&&R(i,!1),r},"catch":function(t){return this.then(void 0,t)}})),c(c.G+c.W+c.F*!S,{Promise:E}),n(69)(E,_),n(92)(_),r=n(43)[_],c(c.S+c.F*!S,_,{reject:function(t){var e=new k(this),n=e.reject;return n(t),e.promise}}),c(c.S+c.F*(!S||M(!0)),_,{resolve:function(t){if(t instanceof E&&T(t.constructor,this))return t;var e=new k(this),n=e.resolve;return n(t),e.promise}}),c(c.S+c.F*!(S&&n(131)(function(t){E.all(t)["catch"](function(){})})),_,{all:function(t){var e=A(this),n=new k(e),r=n.resolve,o=n.reject,s=[],a=O(function(){d(t,!1,s.push,s);var n=s.length,a=Array(n);n?i.each.call(s,function(t,i){var s=!1;e.resolve(t).then(function(t){s||(s=!0,a[i]=t,--n||r(a))},o)}):r(a)});return a&&o(a.error),n.promise},race:function(t){var e=A(this),n=new k(e),r=n.reject,i=O(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(t,e,n){var r=n(1),i=Function.apply;r(r.S,"Reflect",{apply:function(t,e,n){return i.call(t,e,n)}})},function(t,e,n){var r=n(3),i=n(1),o=n(53),s=n(8),a=n(5),u=Function.bind||n(43).Function.prototype.bind;i(i.S+i.F*n(14)(function(){function t(){}return!(Reflect.construct(function(){},[],t)instanceof t)}),"Reflect",{construct:function(t,e){o(t);var n=arguments.length<3?t:o(arguments[2]);if(t==n){if(void 0!=e)switch(s(e).length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(u.apply(t,i))}var c=n.prototype,l=r.create(a(c)?c:Object.prototype),h=Function.apply.call(t,l,e);return a(h)?h:l}})},function(t,e,n){var r=n(3),i=n(1),o=n(8);i(i.S+i.F*n(14)(function(){Reflect.defineProperty(r.setDesc({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t);try{return r.setDesc(t,e,n),!0}catch(i){return!1}}})},function(t,e,n){var r=n(1),i=n(3).getDesc,o=n(8);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return n&&!n.configurable?!1:delete t[e]}})},function(t,e,n){"use strict";var r=n(1),i=n(8),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(208)(o,"Object",function(){var t,e=this,n=e._k;do if(e._i>=n.length)return{value:void 0,done:!0};while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(3),i=n(1),o=n(8);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.getDesc(o(t),e)}})},function(t,e,n){var r=n(1),i=n(3).getProto,o=n(8);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){function r(t,e){var n,s,c=arguments.length<3?t:arguments[2];return u(t)===c?t[e]:(n=i.getDesc(t,e))?o(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:a(s=i.getProto(t))?r(s,e,c):void 0}var i=n(3),o=n(24),s=n(1),a=n(5),u=n(8);s(s.S,"Reflect",{get:r})},function(t,e,n){var r=n(1);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(1),i=n(8),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),o?o(t):!0}})},function(t,e,n){var r=n(1);r(r.S,"Reflect",{ownKeys:n(212)})},function(t,e,n){var r=n(1),i=n(8),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(e){return!1}}})},function(t,e,n){var r=n(1),i=n(135);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(n){return!1}}})},function(t,e,n){function r(t,e,n){var s,l,h=arguments.length<4?t:arguments[3],f=i.getDesc(u(t),e);if(!f){if(c(l=i.getProto(t)))return r(l,e,n,h);f=a(0)}return o(f,"value")?f.writable!==!1&&c(h)?(s=i.getDesc(h,e)||a(0),s.value=n,i.setDesc(h,e,s),!0):!1:void 0===f.set?!1:(f.set.call(h,n),!0)}var i=n(3),o=n(24),s=n(1),a=n(47),u=n(8),c=n(5);s(s.S,"Reflect",{set:r})},function(t,e,n){var r=n(3),i=n(10),o=n(206),s=n(201),a=i.RegExp,u=a,c=a.prototype,l=/a/g,h=/a/g,f=new a(l)!==l;!n(30)||f&&!n(14)(function(){return h[n(9)("match")]=!1,a(l)!=l||a(h)==h||"/a/i"!=a(l,"i")})||(a=function(t,e){var n=o(t),r=void 0===e;return this instanceof a||!n||t.constructor!==a||!r?f?new u(n&&!r?t.source:t,e):u((n=t instanceof a)?t.source:t,n&&r?s.call(t):e):t},r.each.call(r.getNames(u),function(t){t in a||r.setDesc(a,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})}),c.constructor=a,a.prototype=c,n(32)(i,"RegExp",a)),n(92)("RegExp")},function(t,e,n){var r=n(3);n(30)&&"g"!=/./g.flags&&r.setDesc(RegExp.prototype,"flags",{configurable:!0,get:n(201)})},function(t,e,n){n(88)("match",1,function(t,e){return function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))}})},function(t,e,n){n(88)("replace",2,function(t,e,n){return function(r,i){"use strict";var o=t(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)}})},function(t,e,n){n(88)("search",1,function(t,e){return function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))}})},function(t,e,n){n(88)("split",2,function(t,e,n){return function(r,i){"use strict";var o=t(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)}})},function(t,e,n){"use strict";var r=n(197);n(87)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(1),i=n(136)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(1),i=n(25),o=n(137),s="endsWith",a=""[s];r(r.P+r.F*n(128)(s),"String",{endsWith:function(t){var e=o(this,t,s),n=arguments,r=n.length>1?n[1]:void 0,u=i(e.length),c=void 0===r?u:Math.min(i(r),u),l=String(t);return a?a.call(e,l,c):e.slice(c-l.length,c)===l}})},function(t,e,n){var r=n(1),i=n(70),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments,s=r.length,a=0;s>a;){if(e=+r[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(65536>e?o(e):o(((e-=65536)>>10)+55296,e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";var r=n(1),i=n(137),o="includes";r(r.P+r.F*n(128)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(136)(!0);n(130)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(1),i=n(33),o=n(25);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments,s=r.length,a=[],u=0;n>u;)a.push(String(e[u++])),s>u&&a.push(String(r[u]));return a.join("")}})},function(t,e,n){var r=n(1);r(r.P,"String",{repeat:n(216)})},function(t,e,n){"use strict";var r=n(1),i=n(25),o=n(137),s="startsWith",a=""[s];r(r.P+r.F*n(128)(s),"String",{startsWith:function(t){var e=o(this,t,s),n=arguments,r=i(Math.min(n.length>1?n[1]:void 0,e.length)),u=String(t);return a?a.call(e,u,r):e.slice(r,r+u.length)===u}})},function(t,e,n){"use strict";n(94)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(3),i=n(10),o=n(24),s=n(30),a=n(1),u=n(32),c=n(14),l=n(214),h=n(69),f=n(55),p=n(9),d=n(376),v=n(202),g=n(375),y=n(129),m=n(8),x=n(33),_=n(47),b=r.getDesc,w=r.setDesc,E=r.create,M=v.get,S=i.Symbol,T=i.JSON,A=T&&T.stringify,C=!1,k=p("_hidden"),O=r.isEnum,R=l("symbol-registry"),D=l("symbols"),P="function"==typeof S,F=Object.prototype,N=s&&c(function(){return 7!=E(w({},"a",{get:function(){return w(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=b(F,e);r&&delete F[e],w(t,e,n),r&&t!==F&&w(F,e,r)}:w,L=function(t){var e=D[t]=E(S.prototype);return e._k=t,s&&C&&N(F,t,{configurable:!0,set:function(e){o(this,k)&&o(this[k],t)&&(this[k][t]=!1),N(this,t,_(1,e))}}),e},B=function(t){return"symbol"==typeof t},I=function(t,e,n){return n&&o(D,e)?(n.enumerable?(o(t,k)&&t[k][e]&&(t[k][e]=!1),n=E(n,{enumerable:_(0,!1)})):(o(t,k)||w(t,k,_(1,{})),t[k][e]=!0),N(t,e,n)):w(t,e,n)},j=function(t,e){m(t);for(var n,r=g(e=x(e)),i=0,o=r.length;o>i;)I(t,n=r[i++],e[n]);return t},U=function(t,e){return void 0===e?E(t):j(E(t),e)},z=function(t){var e=O.call(this,t);return e||!o(this,t)||!o(D,t)||o(this,k)&&this[k][t]?e:!0},W=function(t,e){var n=b(t=x(t),e);return!n||!o(D,e)||o(t,k)&&t[k][e]||(n.enumerable=!0),n},Y=function(t){for(var e,n=M(x(t)),r=[],i=0;n.length>i;)o(D,e=n[i++])||e==k||r.push(e);return r},X=function(t){for(var e,n=M(x(t)),r=[],i=0;n.length>i;)o(D,e=n[i++])&&r.push(D[e]);return r},G=function(t){if(void 0!==t&&!B(t)){for(var e,n,r=[t],i=1,o=arguments;o.length>i;)r.push(o[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){return n&&(e=n.call(this,t,e)),B(e)?void 0:e}),r[1]=e,A.apply(T,r)}},q=c(function(){var t=S();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))});P||(S=function(){if(B(this))throw TypeError("Symbol is not a constructor");return L(f(arguments.length>0?arguments[0]:void 0))},u(S.prototype,"toString",function(){return this._k}),B=function(t){return t instanceof S},r.create=U,r.isEnum=z,r.getDesc=W,r.setDesc=I,r.setDescs=j,r.getNames=v.get=Y,r.getSymbols=X,s&&!n(132)&&u(F,"propertyIsEnumerable",z,!0));var H={"for":function(t){return o(R,t+="")?R[t]:R[t]=S(t)},keyFor:function(t){return d(R,t)},useSetter:function(){C=!0},useSimple:function(){C=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var e=p(t);H[t]=P?e:L(e)}),C=!0,a(a.G+a.W,{Symbol:S}),a(a.S,"Symbol",H),a(a.S+a.F*!P,"Object",{create:U,defineProperty:I,defineProperties:j,getOwnPropertyDescriptor:W,getOwnPropertyNames:Y,getOwnPropertySymbols:X}),T&&a(a.S+a.F*(!P||q),"JSON",{stringify:G}),h(S,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){"use strict";var r=n(3),i=n(32),o=n(199),s=n(5),a=n(24),u=o.frozenStore,c=o.WEAK,l=Object.isExtensible||s,h={},f=n(87)("WeakMap",function(t){return function(){
return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){if(s(t)){if(!l(t))return u(this).get(t);if(a(t,c))return t[c][this._i]}},set:function(t,e){return o.def(this,t,e)}},o,!0,!0);7!=(new f).set((Object.freeze||Object)(h),7).get(h)&&r.each.call(["delete","has","get","set"],function(t){var e=f.prototype,n=e[t];i(e,t,function(e,r){if(s(e)&&!l(e)){var i=u(this)[t](e,r);return"set"==t?this:i}return n.call(this,e,r)})})},function(t,e,n){"use strict";var r=n(199);n(87)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(1),i=n(196)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(54)("includes")},function(t,e,n){var r=n(1);r(r.P,"Map",{toJSON:n(198)("Map")})},function(t,e,n){var r=n(1),i=n(211)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){var r=n(3),i=n(1),o=n(212),s=n(33),a=n(47);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=s(t),u=r.setDesc,c=r.getDesc,l=o(i),h={},f=0;l.length>f;)n=c(i,e=l[f++]),e in h?u(h,e,a(0,n)):h[e]=n;return h}})},function(t,e,n){var r=n(1),i=n(211)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(1),i=n(381)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e,n){var r=n(1);r(r.P,"Set",{toJSON:n(198)("Set")})},function(t,e,n){"use strict";var r=n(1),i=n(136)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(1),i=n(215);r(r.P,"String",{padLeft:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(1),i=n(215);r(r.P,"String",{padRight:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(94)("trimLeft",function(t){return function(){return t(this,1)}})},function(t,e,n){"use strict";n(94)("trimRight",function(t){return function(){return t(this,2)}})},function(t,e,n){var r=n(3),i=n(1),o=n(35),s=n(43).Array||Array,a={},u=function(t,e){r.each.call(t.split(","),function(t){void 0==e&&t in s?a[t]=s[t]:t in[]&&(a[t]=o(Function.call,[][t],e))})};u("pop,reverse,shift,keys,values,entries",1),u("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),u("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),i(i.S,"Array",a)},function(t,e,n){n(219);var r=n(10),i=n(37),o=n(68),s=n(9)("iterator"),a=r.NodeList,u=r.HTMLCollection,c=a&&a.prototype,l=u&&u.prototype,h=o.NodeList=o.HTMLCollection=o.Array;c&&!c[s]&&i(c,s,h),l&&!l[s]&&i(l,s,h)},function(t,e,n){var r=n(1),i=n(217);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){var r=n(10),i=n(1),o=n(89),s=n(379),a=r.navigator,u=!!a&&/MSIE .\./.test(a.userAgent),c=function(t){return u?function(e,n){return t(o(s,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};i(i.G+i.B+i.F*u,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(t,e,n){n(384),n(467),n(422),n(430),n(434),n(435),n(423),n(433),n(432),n(428),n(429),n(427),n(424),n(426),n(431),n(425),n(393),n(392),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(460),n(463),n(466),n(462),n(458),n(459),n(461),n(464),n(465),n(389),n(390),n(219),n(391),n(385),n(386),n(388),n(387),n(451),n(452),n(453),n(454),n(455),n(456),n(436),n(394),n(457),n(468),n(469),n(437),n(438),n(439),n(440),n(441),n(444),n(442),n(443),n(445),n(446),n(447),n(448),n(450),n(449),n(470),n(477),n(478),n(479),n(480),n(481),n(475),n(473),n(474),n(472),n(471),n(476),n(482),n(485),n(484),n(483),t.exports=n(43)},function(t,e,n){e=t.exports=n(220)(),e.push([t.id,".poincare-graph{cursor:-webkit-grab;cursor:grab}.poincare-graph:active{cursor:-webkit-grabbing;cursor:grabbing}.poincare-graph.item-focused,.poincare-graph.item-focused:active{cursor:pointer}",""])},function(t,e,n){e=t.exports=n(220)(),e.push([t.id,".poincare-labels{pointer-events:none}.label{position:absolute;width:100px;text-align:center;overflow:hidden;text-overflow:ellipsis;height:3.4rem;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.label.locked-label{height:auto;overflow:visible}.label.locked-label .label-inner{background-color:#f6f7bb}.label-inner{display:inline;padding:.1em .6em 0;-webkit-transition:background-color .25s ease;transition:background-color .25s ease;background-color:#f3f3f3;font-family:Fira Sans OT;font-size:12px;border-radius:4px;color:#373737;line-height:1.25em;box-decoration-break:clone;-webkit-box-decoration-break:clone}",""])},function(t,e,n){function r(){return e.colors[l++%e.colors.length]}function i(t){function n(){}function i(){var t=i,n=+new Date,o=n-(c||n);t.diff=o,t.prev=c,t.curr=n,c=n,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=r());var s=Array.prototype.slice.call(arguments);s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;a++;var i=e.formatters[r];if("function"==typeof i){var o=s[a];n=i.call(t,o),s.splice(a,1),a--}return n}),"function"==typeof e.formatArgs&&(s=e.formatArgs.apply(t,s));var u=i.log||e.log||console.log.bind(console);u.apply(t,s)}n.enabled=!1,i.enabled=!0;var o=e.enabled(t)?i:n;return o.namespace=t,o}function o(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),r=n.length,i=0;r>i;i++)n[i]&&(t=n[i].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var n,r;for(n=0,r=e.skips.length;r>n;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;r>n;n++)if(e.names[n].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=i,e.coerce=u,e.disable=s,e.enable=o,e.enabled=a,e.humanize=n(656),e.names=[],e.skips=[],e.formatters={};var c,l=0},function(t,e){"use strict";function n(t,e,n){n=n||2;var i=e&&e.length,s=i?e[0]*n:t.length,a=r(t,0,s,n,!0),u=[];if(!a)return u;var c,h,f,p,d,v,g;if(i&&(a=l(t,e,a,n)),t.length>80*n){c=f=t[0],h=p=t[1];for(var y=n;s>y;y+=n)d=t[y],v=t[y+1],c>d&&(c=d),h>v&&(h=v),d>f&&(f=d),v>p&&(p=v);g=Math.max(f-c,p-h)}return o(a,u,n,c,h,g),u}function r(t,e,n,r,i){var o,s;if(i===O(t,e,n,r)>0)for(o=e;n>o;o+=r)s=A(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=A(o,t[o],t[o+1],s);return s&&b(s,s.next)&&(C(s),s=s.next),s}function i(t,e){if(!t)return t;e||(e=t);var n,r=t;do if(n=!1,r.steiner||!b(r,r.next)&&0!==_(r.prev,r,r.next))r=r.next;else{if(C(r),r=e=r.prev,r===r.next)return null;n=!0}while(n||r!==e);return e}function o(t,e,n,r,l,h,f){if(t){!f&&h&&d(t,r,l,h);for(var p,v,g=t;t.prev!==t.next;)if(p=t.prev,v=t.next,h?a(t,r,l,h):s(t))e.push(p.i/n),e.push(t.i/n),e.push(v.i/n),C(t),t=v.next,g=v.next;else if(t=v,t===g){f?1===f?(t=u(t,e,n),o(t,e,n,r,l,h,2)):2===f&&c(t,e,n,r,l,h):o(i(t),e,n,r,l,h,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(_(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(m(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&_(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function a(t,e,n,r){var i=t.prev,o=t,s=t.next;if(_(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,c=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,l=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,h=g(a,u,e,n,r),f=g(c,l,e,n,r),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&m(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&m(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function u(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!b(i,o)&&w(i,r,r.next,o)&&M(i,o)&&M(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),C(r),C(r.next),r=t=o),r=r.next}while(r!==t);return r}function c(t,e,n,r,s,a){var u=t;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&x(u,c)){var l=T(u,c);return u=i(u,u.next),l=i(l,l.next),o(u,e,n,r,s,a),void o(l,e,n,r,s,a)}c=c.next}u=u.next}while(u!==t)}function l(t,e,n,o){var s,a,u,c,l,p=[];for(s=0,a=e.length;a>s;s++)u=e[s]*o,c=a-1>s?e[s+1]*o:t.length,l=r(t,u,c,o,!1),l===l.next&&(l.steiner=!0),p.push(y(l));for(p.sort(h),s=0;s<p.length;s++)f(p[s],n),n=i(n,n.next);return n}function h(t,e){return t.x-e.x}function f(t,e){if(e=p(t,e)){var n=T(e,t);i(n,n.next)}}function p(t,e){var n,r=e,i=t.x,o=t.y,s=-(1/0);do{if(o<=r.y&&o>=r.next.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(i>=a&&a>s){if(s=a,a===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n.prev;var u,c=n,l=n.x,h=n.y,f=1/0;for(r=n.next;r!==c;)i>=r.x&&r.x>=l&&m(h>o?i:s,o,l,h,h>o?s:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),(f>u||u===f&&r.x>n.x)&&M(r,t)&&(n=r,f=u)),r=r.next;return n}function d(t,e,n,r){var i=t;do null===i.z&&(i.z=g(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,v(i)}function v(t){var e,n,r,i,o,s,a,u,c=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;c>e&&(a++,r=r.nextZ,r);e++);for(u=c;a>0||u>0&&r;)0===a?(i=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,a--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1);return t}function g(t,e,n,r,i){return t=32767*(t-n)/i,e=32767*(e-r)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function y(t){var e=t,n=t;do e.x<n.x&&(n=e),e=e.next;while(e!==t);return n}function m(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function x(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&M(t,e)&&M(e,t)&&S(t,e)}function _(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,n,r){return b(t,e)&&b(n,r)||b(t,r)&&b(n,e)?!0:_(t,e,n)>0!=_(t,e,r)>0&&_(n,r,t)>0!=_(n,r,e)>0}function E(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&w(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function M(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function S(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function T(t,e){var n=new k(t.i,t.x,t.y),r=new k(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function A(t,e,n,r){var i=new k(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function k(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,n,r){for(var i=0,o=e,s=n-r;n>o;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=n,n.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(O(t,0,o,n));if(i)for(var a=0,u=e.length;u>a;a++){var c=e[a]*n,l=u-1>a?e[a+1]*n:t.length;s-=Math.abs(O(t,c,l,n))}var h=0;for(a=0;a<r.length;a+=3){var f=r[a]*n,p=r[a+1]*n,d=r[a+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;e>s;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},function(t,e,n){function r(t){function e(o){i.has(r,o)||(r[o]=!0,n.push(o),i.each(t.successors(o),e),i.each(t.predecessors(o),e))}var n,r={},o=[];return i.each(t.nodes(),function(t){n=[],e(t),n.length&&o.push(n)}),o}var i=n(19);t.exports=r},function(t,e,n){function r(t,e,n){return o.transform(t.nodes(),function(r,o){r[o]=i(t,o,e,n)},{})}var i=n(223),o=n(19);t.exports=r},function(t,e,n){function r(t){return i.filter(o(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}var i=n(19),o=n(224);t.exports=r},function(t,e,n){function r(t,e,n){return i(t,e||s,n||function(e){return t.outEdges(e)})}function i(t,e,n){var r={},i=t.nodes();return i.forEach(function(t){r[t]={},r[t][t]={distance:0},i.forEach(function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}})}),i.forEach(function(t){var e=r[t];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[t],i=e[n],s=o[n],a=r.distance+i.distance;a<s.distance&&(s.distance=a,s.predecessor=i.predecessor)})})}),r}var o=n(19);t.exports=r;var s=o.constant(1)},function(t,e,n){t.exports={components:n(491),dijkstra:n(223),dijkstraAll:n(492),findCycles:n(493),floydWarshall:n(494),isAcyclic:n(496),postorder:n(497),preorder:n(498),prim:n(499),tarjan:n(224),topsort:n(225)}},function(t,e,n){function r(t){try{i(t)}catch(e){if(e instanceof i.CycleException)return!1;throw e}return!0}var i=n(225);t.exports=r},function(t,e,n){function r(t,e){return i(t,e,"post")}var i=n(222);t.exports=r},function(t,e,n){function r(t,e){return i(t,e,"pre")}var i=n(222);t.exports=r},function(t,e,n){function r(t,e){function n(t){var n=t.v===r?t.w:t.v,i=c.priority(n);if(void 0!==i){var o=e(t);i>o&&(u[n]=r,c.decrease(n,o))}}var r,a=new o,u={},c=new s;if(0===t.nodeCount())return a;i.each(t.nodes(),function(t){c.add(t,Number.POSITIVE_INFINITY),a.setNode(t)}),c.decrease(t.nodes()[0],0);for(var l=!1;c.size()>0;){if(r=c.removeMin(),i.has(u,r))a.setEdge(r,u[r]);else{if(l)throw new Error("Input graph is not connected: "+t);l=!0}t.nodeEdges(r).forEach(n)}return a}var i=n(19),o=n(138),s=n(226);t.exports=r},function(t,e,n){t.exports={Graph:n(138),version:n(501)}},function(t,e){t.exports="2.1.0"},function(t,e,n){var r;(function(t,i){(function(){function o(t,e){if(t!==e){var n=null===t,r=t===A,i=t===t,o=null===e,s=e===A,a=e===e;if(t>e&&!o||!i||n&&!s&&a||r&&a)return 1;if(e>t&&!n||!a||o&&!r&&i||s&&i)return-1}return 0}function s(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function a(t,e,n){if(e!==e)return m(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function u(t){return"function"==typeof t||!1}function c(t){return null==t?"":t+""}function l(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function f(t,e){return o(t.criteria,e.criteria)||t.index-e.index}function p(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,u=n.length;++r<a;){var c=o(i[r],s[r]);if(c){if(r>=u)return c;var l=n[r];return c*("asc"===l||l===!0?1:-1)}}return t.index-e.index}function d(t){return qt[t]}function v(t){return Ht[t]}function g(t,e,n){return e?t=$t[t]:n&&(t=Zt[t]),"\\"+t}function y(t){return"\\"+Zt[t]}function m(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function x(t){return!!t&&"object"==typeof t}function _(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function b(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=q,o[++i]=n);return o}function w(t,e){for(var n,r=-1,i=t.length,o=-1,s=[];++r<i;){var a=t[r],u=e?e(a,r,t):a;r&&n===u||(n=u,s[++o]=a)}return s}function E(t){for(var e=-1,n=t.length;++e<n&&_(t.charCodeAt(e)););return e}function M(t){for(var e=t.length;e--&&_(t.charCodeAt(e)););return e}function S(t){return Vt[t]}function T(t){function e(t){if(x(t)&&!ka(t)&&!(t instanceof i)){if(t instanceof r)return t;if(es.call(t,"__chain__")&&es.call(t,"__wrapped__"))return pr(t)}return new r(t)}function n(){}function r(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Cs,this.__views__=[]}function _(){var t=new i(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function Q(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function rt(){var t=this.__wrapped__.value(),e=this.__dir__,n=ka(t),r=0>e,i=n?t.length:0,o=qn(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,h=l.length,f=0,p=Es(u,this.__takeCount__);if(!n||W>i||i==u&&p==u)return nn(r&&n?t.reverse():t,this.__actions__);var d=[];t:for(;u--&&p>f;){c+=e;for(var v=-1,g=t[c];++v<h;){var y=l[v],m=y.iteratee,x=y.type,_=m(g);if(x==X)g=_;else if(!_){if(x==Y)continue t;break t}}d[f++]=g}return d}function ot(){this.__data__={}}function qt(t){return this.has(t)&&delete this.__data__[t]}function Ht(t){return"__proto__"==t?A:this.__data__[t]}function Vt(t){return"__proto__"!=t&&es.call(this.__data__,t)}function Kt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function $t(t){var e=t?t.length:0;for(this.data={hash:ys(null),set:new hs};e--;)this.push(t[e])}function Zt(t,e){var n=t.data,r="string"==typeof e||Fi(e)?n.set.has(e):n.hash[e];return r?0:-1}function Jt(t){var e=this.data;"string"==typeof t||Fi(t)?e.set.add(t):e.hash[t]=!0}function Qt(t,e){for(var n=-1,r=t.length,i=-1,o=e.length,s=zo(r+o);++n<r;)s[n]=t[n];for(;++i<o;)s[n++]=e[i];return s}function te(t,e){var n=-1,r=t.length;for(e||(e=zo(r));++n<r;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function ne(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function se(t,e,n,r){for(var i=-1,o=t.length,s=r,a=s;++i<o;){var u=t[i],c=+e(u);n(c,s)&&(s=c,a=u)}return a}function ae(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[++i]=s)}return o}function ue(t,e){for(var n=-1,r=t.length,i=zo(r);++n<r;)i[n]=e(t[n],n,t);return i}function ce(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function le(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function he(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function fe(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function pe(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}function de(t,e){return t===A?e:t}function ve(t,e,n,r){return t!==A&&es.call(r,n)?t:e}function ge(t,e,n){for(var r=-1,i=Ua(e),o=i.length;++r<o;){var s=i[r],a=t[s],u=n(a,e[s],s,t,e);(u===u?u===a:a!==a)&&(a!==A||s in t)||(t[s]=u)}return t}function ye(t,e){return null==e?t:xe(e,Ua(e),t)}function me(t,e){for(var n=-1,r=null==t,i=!r&&Zn(t),o=i?t.length:0,s=e.length,a=zo(s);++n<s;){var u=e[n];i?a[n]=Jn(u,o)?t[u]:A:a[n]=r?A:t[u]}return a}function xe(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function _e(t,e,n){var r=typeof t;return"function"==r?e===A?t:sn(t,e,n):null==t?Co:"object"==r?je(t):e===A?Fo(t):Ue(t,e)}function be(t,e,n,r,i,o,s){var a;if(n&&(a=i?n(t,r,i):n(t)),a!==A)return a;if(!Fi(t))return t;var u=ka(t);if(u){if(a=Hn(t),!e)return te(t,a)}else{var c=rs.call(t),l=c==J;if(c!=et&&c!=H&&(!l||i))return Gt[c]?Kn(t,c,e):i?t:{};if(a=Vn(l?{}:t),!e)return ye(a,t)}o||(o=[]),s||(s=[]);for(var h=o.length;h--;)if(o[h]==t)return s[h];return o.push(t),s.push(a),(u?ee:Re)(t,function(r,i){a[i]=be(r,e,n,i,t,o,s)}),a}function we(t,e,n){if("function"!=typeof t)throw new $o(G);return fs(function(){t.apply(A,n)},e)}function Ee(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,o=Yn(),s=o==a,u=s&&e.length>=W?vn(e):null,c=e.length;u&&(o=Zt,s=!1,e=u);t:for(;++i<n;){var l=t[i];if(s&&l===l){for(var h=c;h--;)if(e[h]===l)continue t;r.push(l)}else o(e,l,0)<0&&r.push(l)}return r}function Me(t,e){var n=!0;return Ls(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Se(t,e,n,r){var i=r,o=i;return Ls(t,function(t,s,a){var u=+e(t,s,a);(n(u,i)||u===r&&u===o)&&(i=u,o=t)}),o}function Te(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===A||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)t[n++]=e;return t}function Ae(t,e){var n=[];return Ls(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Ce(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}function ke(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var s=t[i];x(s)&&Zn(s)&&(n||ka(s)||Si(s))?e?ke(s,e,n,r):ce(r,s):n||(r[r.length]=s)}return r}function Oe(t,e){return Is(t,e,to)}function Re(t,e){return Is(t,e,Ua)}function De(t,e){return js(t,e,Ua)}function Pe(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var s=e[n];Pi(t[s])&&(o[++i]=s)}return o}function Fe(t,e,n){if(null!=t){n!==A&&n in hr(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&i>r;)t=t[e[r++]];return r&&r==i?t:A}}function Ne(t,e,n,r,i,o){return t===e?!0:null==t||null==e||!Fi(t)&&!x(e)?t!==t&&e!==e:Le(t,e,Ne,n,r,i,o)}function Le(t,e,n,r,i,o,s){var a=ka(t),u=ka(e),c=V,l=V;a||(c=rs.call(t),c==H?c=et:c!=et&&(a=Yi(t))),u||(l=rs.call(e),l==H?l=et:l!=et&&(u=Yi(e)));var h=c==et,f=l==et,p=c==l;if(p&&!a&&!h)return jn(t,e,c);if(!i){var d=h&&es.call(t,"__wrapped__"),v=f&&es.call(e,"__wrapped__");if(d||v)return n(d?t.value():t,v?e.value():e,r,i,o,s)}if(!p)return!1;o||(o=[]),s||(s=[]);for(var g=o.length;g--;)if(o[g]==t)return s[g]==e;o.push(t),s.push(e);var y=(a?In:Un)(t,e,n,r,i,o,s);return o.pop(),s.pop(),y}function Be(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=hr(t);r--;){var s=e[r];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<i;){s=e[r];var a=s[0],u=t[a],c=s[1];if(o&&s[2]){if(u===A&&!(a in t))return!1}else{var l=n?n(u,c,a):A;if(!(l===A?Ne(c,u,n,!0):l))return!1}}return!0}function Ie(t,e){var n=-1,r=Zn(t)?zo(t.length):[];return Ls(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function je(t){var e=Xn(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(r!==A||n in hr(t))}}return function(t){return Be(t,e)}}function Ue(t,e){var n=ka(t),r=tr(t)&&rr(e),i=t+"";return t=fr(t),function(o){if(null==o)return!1;var s=i;if(o=hr(o),(n||!r)&&!(s in o)){if(o=1==t.length?o:Fe(o,Ve(t,0,-1)),null==o)return!1;s=Tr(t),o=hr(o)}return o[s]===e?e!==A||s in o:Ne(e,o[s],A,!0)}}function ze(t,e,n,r,i){if(!Fi(t))return t;var o=Zn(e)&&(ka(e)||Yi(e)),s=o?A:Ua(e);return ee(s||e,function(a,u){if(s&&(u=a,a=e[u]),x(a))r||(r=[]),i||(i=[]),We(t,e,u,ze,n,r,i);else{var c=t[u],l=n?n(c,a,u,t,e):A,h=l===A;h&&(l=a),l===A&&(!o||u in t)||!h&&(l===l?l===c:c!==c)||(t[u]=l)}}),t}function We(t,e,n,r,i,o,s){for(var a=o.length,u=e[n];a--;)if(o[a]==u)return void(t[n]=s[a]);var c=t[n],l=i?i(c,u,n,t,e):A,h=l===A;h&&(l=u,Zn(u)&&(ka(u)||Yi(u))?l=ka(c)?c:Zn(c)?te(c):[]:Ui(u)||Si(u)?l=Si(c)?Vi(c):Ui(c)?c:{}:h=!1),o.push(u),s.push(l),h?t[n]=r(l,u,i,o,s):(l===l?l!==c:c===c)&&(t[n]=l)}function Ye(t){return function(e){return null==e?A:e[t]}}function Xe(t){var e=t+"";return t=fr(t),function(n){return Fe(n,t,e)}}function Ge(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&Jn(r)){var i=r;ps.call(t,r,1)}}return t}function qe(t,e){return t+ms(Ts()*(e-t+1))}function He(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Ve(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=n===A||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=zo(i);++r<i;)o[r]=t[r+e];return o}function Ke(t,e){var n;return Ls(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function $e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Ze(t,e,n){var r=zn(),i=-1;e=ue(e,function(t){return r(t)});var o=Ie(t,function(t){var n=ue(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return $e(o,function(t,e){return p(t,e,n)})}function Je(t,e){var n=0;return Ls(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function Qe(t,e){var n=-1,r=Yn(),i=t.length,o=r==a,s=o&&i>=W,u=s?vn():null,c=[];u?(r=Zt,o=!1):(s=!1,u=e?[]:c);t:for(;++n<i;){var l=t[n],h=e?e(l,n,t):l;if(o&&l===l){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),c.push(l)}else r(u,h,0)<0&&((e||s)&&u.push(h),c.push(l))}return c}function tn(t,e){for(var n=-1,r=e.length,i=zo(r);++n<r;)i[n]=t[e[n]];return i}function en(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ve(t,r?0:o,r?o+1:i):Ve(t,r?o+1:0,r?i:o)}function nn(t,e){var n=t;n instanceof i&&(n=n.value());for(var r=-1,o=e.length;++r<o;){var s=e[r];n=s.func.apply(s.thisArg,ce([n],s.args))}return n}function rn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&Rs>=i){for(;i>r;){var o=r+i>>>1,s=t[o];(n?e>=s:e>s)&&null!==s?r=o+1:i=o}return i}return on(t,e,Co,n)}function on(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,s=e!==e,a=null===e,u=e===A;o>i;){var c=ms((i+o)/2),l=n(t[c]),h=l!==A,f=l===l;if(s)var p=f||r;else p=a?f&&h&&(r||null!=l):u?f&&(r||h):null==l?!1:r?e>=l:e>l;p?i=c+1:o=c}return Es(o,Os)}function sn(t,e,n){if("function"!=typeof t)return Co;if(e===A)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}function an(t){var e=new ss(t.byteLength),n=new ds(e);return n.set(new ds(t)),e}function un(t,e,n){for(var r=n.length,i=-1,o=ws(t.length-r,0),s=-1,a=e.length,u=zo(a+o);++s<a;)u[s]=e[s];for(;++i<r;)u[n[i]]=t[i];for(;o--;)u[s++]=t[i++];return u}function cn(t,e,n){for(var r=-1,i=n.length,o=-1,s=ws(t.length-i,0),a=-1,u=e.length,c=zo(s+u);++o<s;)c[o]=t[o];for(var l=o;++a<u;)c[l+a]=e[a];for(;++r<i;)c[l+n[r]]=t[o++];return c}function ln(t,e){return function(n,r,i){var o=e?e():{};if(r=zn(r,i,3),ka(n))for(var s=-1,a=n.length;++s<a;){var u=n[s];t(o,u,r(u,s,n),n)}else Ls(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function hn(t){return yi(function(e,n){var r=-1,i=null==e?0:n.length,o=i>2?n[i-2]:A,s=i>2?n[2]:A,a=i>1?n[i-1]:A;for("function"==typeof o?(o=sn(o,a,5),i-=2):(o="function"==typeof a?a:A,i-=o?1:0),s&&Qn(n[0],n[1],s)&&(o=3>i?A:o,i=1);++r<i;){var u=n[r];u&&t(e,u,o)}return e})}function fn(t,e){return function(n,r){var i=n?Ws(n):0;if(!nr(i))return t(n,r);for(var o=e?i:-1,s=hr(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}function pn(t){return function(e,n,r){for(var i=hr(e),o=r(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var u=o[a];if(n(i[u],u,i)===!1)break}return e}}function dn(t,e){function n(){var i=this&&this!==re&&this instanceof n?r:t;return i.apply(e,arguments)}var r=yn(t);return n}function vn(t){return ys&&hs?new $t(t):null}function gn(t){return function(e){for(var n=-1,r=So(lo(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function yn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ns(t.prototype),r=t.apply(n,e);return Fi(r)?r:n}}function mn(t){function e(n,r,i){i&&Qn(n,r,i)&&(r=A);var o=Bn(n,t,A,A,A,A,A,r);return o.placeholder=e.placeholder,o}return e}function xn(t,e){return yi(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(A,n))})}function _n(t,e){return function(n,r,i){if(i&&Qn(n,r,i)&&(r=A),r=zn(r,i,3),1==r.length){n=ka(n)?n:lr(n);var o=se(n,r,t,e);if(!n.length||o!==e)return o}return Se(n,r,t,e)}}function bn(t,e){return function(n,r,i){if(r=zn(r,i,3),ka(n)){var o=s(n,r,e);return o>-1?n[o]:A}return Ce(n,r,t)}}function wn(t){return function(e,n,r){return e&&e.length?(n=zn(n,r,3),s(e,n,t)):-1}}function En(t){return function(e,n,r){return n=zn(n,r,3),Ce(e,n,t,!0)}}function Mn(t){return function(){for(var e,n=arguments.length,i=t?n:-1,o=0,s=zo(n);t?i--:++i<n;){var a=s[o++]=arguments[i];if("function"!=typeof a)throw new $o(G);!e&&r.prototype.thru&&"wrapper"==Wn(a)&&(e=new r([],!0))}for(i=e?-1:n;++i<n;){a=s[i];var u=Wn(a),c="wrapper"==u?zs(a):A;e=c&&er(c[0])&&c[1]==(L|D|F|B)&&!c[4].length&&1==c[9]?e[Wn(c[0])].apply(e,c[3]):1==a.length&&er(a)?e[u]():e.thru(a)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&ka(r)&&r.length>=W)return e.plant(r).value();for(var i=0,o=n?s[i].apply(this,t):r;++i<n;)o=s[i].call(this,o);return o}}}function Sn(t,e){return function(n,r,i){return"function"==typeof r&&i===A&&ka(n)?t(n,r):e(n,sn(r,i,3))}}function Tn(t){return function(e,n,r){return"function"==typeof n&&r===A||(n=sn(n,r,3)),t(e,n,to)}}function An(t){return function(e,n,r){return"function"==typeof n&&r===A||(n=sn(n,r,3)),t(e,n)}}function Cn(t){return function(e,n,r){var i={};return n=zn(n,r,3),Re(e,function(e,r,o){var s=n(e,r,o);r=t?s:r,e=t?e:s,i[r]=e}),i}}function kn(t){return function(e,n,r){return e=c(e),(t?e:"")+Pn(e,n,r)+(t?"":e)}}function On(t){var e=yi(function(n,r){var i=b(r,e.placeholder);return Bn(n,t,A,r,i)});return e}function Rn(t,e){return function(n,r,i,o){var s=arguments.length<3;return"function"==typeof r&&o===A&&ka(n)?t(n,r,i,s):He(n,zn(r,o,4),i,s,e)}}function Dn(t,e,n,r,i,o,s,a,u,c){function l(){for(var m=arguments.length,x=m,_=zo(m);x--;)_[x]=arguments[x];if(r&&(_=un(_,r,i)),o&&(_=cn(_,o,s)),d||g){var w=l.placeholder,E=b(_,w);if(m-=E.length,c>m){var M=a?te(a):A,S=ws(c-m,0),T=d?E:A,C=d?A:E,R=d?_:A,D=d?A:_;e|=d?F:N,e&=~(d?N:F),v||(e&=~(k|O));var P=[t,e,n,R,T,D,C,M,u,S],L=Dn.apply(A,P);return er(t)&&Ys(L,P),L.placeholder=w,L}}var B=f?n:this,I=p?B[t]:t;return a&&(_=ur(_,a)),h&&u<_.length&&(_.length=u),this&&this!==re&&this instanceof l&&(I=y||yn(t)),I.apply(B,_)}var h=e&L,f=e&k,p=e&O,d=e&D,v=e&R,g=e&P,y=p?A:yn(t);return l}function Pn(t,e,n){var r=t.length;if(e=+e,r>=e||!_s(e))return"";var i=e-r;return n=null==n?" ":n+"",yo(n,gs(i/n.length)).slice(0,i)}function Fn(t,e,n,r){function i(){for(var e=-1,a=arguments.length,u=-1,c=r.length,l=zo(c+a);++u<c;)l[u]=r[u];for(;a--;)l[u++]=arguments[++e];var h=this&&this!==re&&this instanceof i?s:t;return h.apply(o?n:this,l)}var o=e&k,s=yn(t);return i}function Nn(t){var e=Go[t];return function(t,n){return n=n===A?0:+n||0,n?(n=cs(10,n),e(t*n)/n):e(t)}}function Ln(t){return function(e,n,r,i){var o=zn(r);return null==r&&o===_e?rn(e,n,t):on(e,n,o(r,i,1),t)}}function Bn(t,e,n,r,i,o,s,a){var u=e&O;if(!u&&"function"!=typeof t)throw new $o(G);var c=r?r.length:0;if(c||(e&=~(F|N),r=i=A),c-=i?i.length:0,e&N){var l=r,h=i;r=i=A}var f=u?A:zs(t),p=[t,e,n,r,i,l,h,o,s,a];if(f&&(ir(p,f),e=p[1],a=p[9]),p[9]=null==a?u?0:t.length:ws(a-c,0)||0,e==k)var d=dn(p[0],p[2]);else d=e!=F&&e!=(k|F)||p[4].length?Dn.apply(A,p):Fn.apply(A,p);var v=f?Us:Ys;return v(d,p)}function In(t,e,n,r,i,o,s){var a=-1,u=t.length,c=e.length;if(u!=c&&!(i&&c>u))return!1;for(;++a<u;){var l=t[a],h=e[a],f=r?r(i?h:l,i?l:h,a):A;if(f!==A){if(f)continue;return!1}if(i){if(!fe(e,function(t){return l===t||n(l,t,r,i,o,s)}))return!1}else if(l!==h&&!n(l,h,r,i,o,s))return!1}return!0}function jn(t,e,n){switch(n){case K:case $:return+t==+e;case Z:return t.name==e.name&&t.message==e.message;case tt:return t!=+t?e!=+e:t==+e;case nt:case it:return t==e+""}return!1}function Un(t,e,n,r,i,o,s){var a=Ua(t),u=a.length,c=Ua(e),l=c.length;if(u!=l&&!i)return!1;for(var h=u;h--;){var f=a[h];if(!(i?f in e:es.call(e,f)))return!1}for(var p=i;++h<u;){f=a[h];var d=t[f],v=e[f],g=r?r(i?v:d,i?d:v,f):A;if(!(g===A?n(d,v,r,i,o,s):g))return!1;p||(p="constructor"==f)}if(!p){var y=t.constructor,m=e.constructor;if(y!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m))return!1}return!0}function zn(t,n,r){var i=e.callback||To;return i=i===To?_e:i,r?i(t,n,r):i;
}function Wn(t){for(var e=t.name,n=Fs[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Yn(t,n,r){var i=e.indexOf||Mr;return i=i===Mr?a:i,t?i(t,n,r):i}function Xn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=rr(e[n][1]);return e}function Gn(t,e){var n=null==t?A:t[e];return Bi(n)?n:A}function qn(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Es(e,t+s);break;case"takeRight":t=ws(t,e-s)}}return{start:t,end:e}}function Hn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&es.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Vn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Ho),new e}function Kn(t,e,n){var r=t.constructor;switch(e){case st:return an(t);case K:case $:return new r(+t);case at:case ut:case ct:case lt:case ht:case ft:case pt:case dt:case vt:var i=t.buffer;return new r(n?an(i):i,t.byteOffset,t.length);case tt:case it:return new r(t);case nt:var o=new r(t.source,Ft.exec(t));o.lastIndex=t.lastIndex}return o}function $n(t,e,n){null==t||tr(e,t)||(e=fr(e),t=1==e.length?t:Fe(t,Ve(e,0,-1)),e=Tr(e));var r=null==t?t:t[e];return null==r?A:r.apply(t,n)}function Zn(t){return null!=t&&nr(Ws(t))}function Jn(t,e){return t="number"==typeof t||Bt.test(t)?+t:-1,e=null==e?Ds:e,t>-1&&t%1==0&&e>t}function Qn(t,e,n){if(!Fi(n))return!1;var r=typeof e;if("number"==r?Zn(n)&&Jn(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function tr(t,e){var n=typeof t;if("string"==n&&At.test(t)||"number"==n)return!0;if(ka(t))return!1;var r=!Tt.test(t);return r||null!=e&&t in hr(e)}function er(t){var n=Wn(t);if(!(n in i.prototype))return!1;var r=e[n];if(t===r)return!0;var o=zs(r);return!!o&&t===o[0]}function nr(t){return"number"==typeof t&&t>-1&&t%1==0&&Ds>=t}function rr(t){return t===t&&!Fi(t)}function ir(t,e){var n=t[1],r=e[1],i=n|r,o=L>i,s=r==L&&n==D||r==L&&n==B&&t[7].length<=e[8]||r==(L|B)&&n==D;if(!o&&!s)return t;r&k&&(t[2]=e[2],i|=n&k?0:R);var a=e[3];if(a){var u=t[3];t[3]=u?un(u,a,e[4]):te(a),t[4]=u?b(t[3],q):te(e[4])}return a=e[5],a&&(u=t[5],t[5]=u?cn(u,a,e[6]):te(a),t[6]=u?b(t[5],q):te(e[6])),a=e[7],a&&(t[7]=te(a)),r&L&&(t[8]=null==t[8]?e[8]:Es(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function or(t,e){return t===A?e:Oa(t,e,or)}function sr(t,e){t=hr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function ar(t,e){var n={};return Oe(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function ur(t,e){for(var n=t.length,r=Es(e.length,n),i=te(t);r--;){var o=e[r];t[r]=Jn(o,n)?i[o]:A}return t}function cr(t){for(var e=to(t),n=e.length,r=n&&t.length,i=!!r&&nr(r)&&(ka(t)||Si(t)),o=-1,s=[];++o<n;){var a=e[o];(i&&Jn(a,r)||es.call(t,a))&&s.push(a)}return s}function lr(t){return null==t?[]:Zn(t)?Fi(t)?t:Ho(t):oo(t)}function hr(t){return Fi(t)?t:Ho(t)}function fr(t){if(ka(t))return t;var e=[];return c(t).replace(Ct,function(t,n,r,i){e.push(r?i.replace(Dt,"$1"):n||t)}),e}function pr(t){return t instanceof i?t.clone():new r(t.__wrapped__,t.__chain__,te(t.__actions__))}function dr(t,e,n){e=(n?Qn(t,e,n):null==e)?1:ws(ms(e)||1,1);for(var r=0,i=t?t.length:0,o=-1,s=zo(gs(i/e));i>r;)s[++o]=Ve(t,r,r+=e);return s}function vr(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function gr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),Ve(t,0>e?0:e)):[]}function yr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ve(t,0,0>e?0:e)):[]}function mr(t,e,n){return t&&t.length?en(t,zn(e,n,3),!0,!0):[]}function xr(t,e,n){return t&&t.length?en(t,zn(e,n,3),!0):[]}function _r(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Qn(t,e,n)&&(n=0,r=i),Te(t,e,n,r)):[]}function br(t){return t?t[0]:A}function wr(t,e,n){var r=t?t.length:0;return n&&Qn(t,e,n)&&(e=!1),r?ke(t,e):[]}function Er(t){var e=t?t.length:0;return e?ke(t,!0):[]}function Mr(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?ws(r+n,0):n;else if(n){var i=rn(t,e);return r>i&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return a(t,e,n||0)}function Sr(t){return yr(t,1)}function Tr(t){var e=t?t.length:0;return e?t[e-1]:A}function Ar(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?ws(r+n,0):Es(n||0,r-1))+1;else if(n){i=rn(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return m(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Cr(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Yn(),i=t.length;++n<i;)for(var o=0,s=t[n];(o=r(e,s,o))>-1;)ps.call(e,o,1);return e}function kr(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],s=t.length;for(e=zn(e,n,3);++i<s;){var a=t[i];e(a,i,t)&&(r.push(a),o.push(i))}return Ge(t,o),r}function Or(t){return gr(t,1)}function Rr(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Qn(t,e,n)&&(e=0,n=r),Ve(t,e,n)):[]}function Dr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),Ve(t,0,0>e?0:e)):[]}function Pr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ve(t,0>e?0:e)):[]}function Fr(t,e,n){return t&&t.length?en(t,zn(e,n,3),!1,!0):[]}function Nr(t,e,n){return t&&t.length?en(t,zn(e,n,3)):[]}function Lr(t,e,n,r){var i=t?t.length:0;if(!i)return[];null!=e&&"boolean"!=typeof e&&(r=n,n=Qn(t,e,r)?A:e,e=!1);var o=zn();return null==n&&o===_e||(n=o(n,r,3)),e&&Yn()==a?w(t,n):Qe(t,n)}function Br(t){if(!t||!t.length)return[];var e=-1,n=0;t=ae(t,function(t){return Zn(t)?(n=ws(t.length,n),!0):void 0});for(var r=zo(n);++e<n;)r[e]=ue(t,Ye(e));return r}function Ir(t,e,n){var r=t?t.length:0;if(!r)return[];var i=Br(t);return null==e?i:(e=sn(e,n,4),ue(i,function(t){return le(t,e,A,!0)}))}function jr(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Zn(n))var r=r?ce(Ee(r,n),Ee(n,r)):n}return r?Qe(r):[]}function Ur(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||ka(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function zr(t){var n=e(t);return n.__chain__=!0,n}function Wr(t,e,n){return e.call(n,t),t}function Yr(t,e,n){return e.call(n,t)}function Xr(){return zr(this)}function Gr(){return new r(this.value(),this.__chain__)}function qr(t){for(var e,r=this;r instanceof n;){var i=pr(r);e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function Hr(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof i){var n=t;return this.__actions__.length&&(n=new i(this)),n=n.reverse(),n.__actions__.push({func:Yr,args:[e],thisArg:A}),new r(n,this.__chain__)}return this.thru(e)}function Vr(){return this.value()+""}function Kr(){return nn(this.__wrapped__,this.__actions__)}function $r(t,e,n){var r=ka(t)?oe:Me;return n&&Qn(t,e,n)&&(e=A),"function"==typeof e&&n===A||(e=zn(e,n,3)),r(t,e)}function Zr(t,e,n){var r=ka(t)?ae:Ae;return e=zn(e,n,3),r(t,e)}function Jr(t,e){return ia(t,je(e))}function Qr(t,e,n,r){var i=t?Ws(t):0;return nr(i)||(t=oo(t),i=t.length),n="number"!=typeof n||r&&Qn(e,n,r)?0:0>n?ws(i+n,0):n||0,"string"==typeof t||!ka(t)&&Wi(t)?i>=n&&t.indexOf(e,n)>-1:!!i&&Yn(t,e,n)>-1}function ti(t,e,n){var r=ka(t)?ue:Ie;return e=zn(e,n,3),r(t,e)}function ei(t,e){return ti(t,Fo(e))}function ni(t,e,n){var r=ka(t)?ae:Ae;return e=zn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function ri(t,e,n){if(n?Qn(t,e,n):null==e){t=lr(t);var r=t.length;return r>0?t[qe(0,r-1)]:A}var i=-1,o=Hi(t),r=o.length,s=r-1;for(e=Es(0>e?0:+e||0,r);++i<e;){var a=qe(i,s),u=o[a];o[a]=o[i],o[i]=u}return o.length=e,o}function ii(t){return ri(t,Cs)}function oi(t){var e=t?Ws(t):0;return nr(e)?e:Ua(t).length}function si(t,e,n){var r=ka(t)?fe:Ke;return n&&Qn(t,e,n)&&(e=A),"function"==typeof e&&n===A||(e=zn(e,n,3)),r(t,e)}function ai(t,e,n){if(null==t)return[];n&&Qn(t,e,n)&&(e=A);var r=-1;e=zn(e,n,3);var i=Ie(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}});return $e(i,f)}function ui(t,e,n,r){return null==t?[]:(r&&Qn(e,n,r)&&(n=A),ka(e)||(e=null==e?[]:[e]),ka(n)||(n=null==n?[]:[n]),Ze(t,e,n))}function ci(t,e){return Zr(t,je(e))}function li(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new $o(G);var n=t;t=e,e=n}return t=_s(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function hi(t,e,n){return n&&Qn(t,e,n)&&(e=A),e=t&&null==e?t.length:ws(+e||0,0),Bn(t,L,A,A,A,A,e)}function fi(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new $o(G);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=A),n}}function pi(t,e,n){function r(){p&&as(p),c&&as(c),v=0,c=p=d=A}function i(e,n){n&&as(n),c=p=d=A,e&&(v=va(),l=t.apply(f,u),p||c||(u=f=A))}function o(){var t=e-(va()-h);0>=t||t>e?i(d,c):p=fs(o,t)}function s(){i(y,p)}function a(){if(u=arguments,h=va(),f=this,d=y&&(p||!m),g===!1)var n=m&&!p;else{c||m||(v=h);var r=g-(h-v),i=0>=r||r>g;i?(c&&(c=as(c)),v=h,l=t.apply(f,u)):c||(c=fs(s,r))}return i&&p?p=as(p):p||e===g||(p=fs(o,e)),n&&(i=!0,l=t.apply(f,u)),!i||p||c||(u=f=A),l}var u,c,l,h,f,p,d,v=0,g=!1,y=!0;if("function"!=typeof t)throw new $o(G);if(e=0>e?0:+e||0,n===!0){var m=!0;y=!1}else Fi(n)&&(m=!!n.leading,g="maxWait"in n&&ws(+n.maxWait||0,e),y="trailing"in n?!!n.trailing:y);return a.cancel=r,a}function di(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new $o(G);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new di.Cache,n}function vi(t){if("function"!=typeof t)throw new $o(G);return function(){return!t.apply(this,arguments)}}function gi(t){return fi(2,t)}function yi(t,e){if("function"!=typeof t)throw new $o(G);return e=ws(e===A?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=ws(n.length-e,0),o=zo(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var s=zo(e+1);for(r=-1;++r<e;)s[r]=n[r];return s[e]=o,t.apply(this,s)}}function mi(t){if("function"!=typeof t)throw new $o(G);return function(e){return t.apply(this,e)}}function xi(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new $o(G);return n===!1?r=!1:Fi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pi(t,e,{leading:r,maxWait:+e,trailing:i})}function _i(t,e){return e=null==e?Co:e,Bn(e,F,A,[t],[])}function bi(t,e,n,r){return e&&"boolean"!=typeof e&&Qn(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?be(t,e,sn(n,r,1)):be(t,e)}function wi(t,e,n){return"function"==typeof e?be(t,!0,sn(e,n,1)):be(t,!0)}function Ei(t,e){return t>e}function Mi(t,e){return t>=e}function Si(t){return x(t)&&Zn(t)&&es.call(t,"callee")&&!ls.call(t,"callee")}function Ti(t){return t===!0||t===!1||x(t)&&rs.call(t)==K}function Ai(t){return x(t)&&rs.call(t)==$}function Ci(t){return!!t&&1===t.nodeType&&x(t)&&!Ui(t)}function ki(t){return null==t?!0:Zn(t)&&(ka(t)||Wi(t)||Si(t)||x(t)&&Pi(t.splice))?!t.length:!Ua(t).length}function Oi(t,e,n,r){n="function"==typeof n?sn(n,r,3):A;var i=n?n(t,e):A;return i===A?Ne(t,e,n):!!i}function Ri(t){return x(t)&&"string"==typeof t.message&&rs.call(t)==Z}function Di(t){return"number"==typeof t&&_s(t)}function Pi(t){return Fi(t)&&rs.call(t)==J}function Fi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ni(t,e,n,r){return n="function"==typeof n?sn(n,r,3):A,Be(t,Xn(e),n)}function Li(t){return ji(t)&&t!=+t}function Bi(t){return null==t?!1:Pi(t)?os.test(ts.call(t)):x(t)&&Lt.test(t)}function Ii(t){return null===t}function ji(t){return"number"==typeof t||x(t)&&rs.call(t)==tt}function Ui(t){var e;if(!x(t)||rs.call(t)!=et||Si(t)||!es.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Oe(t,function(t,e){n=e}),n===A||es.call(t,n)}function zi(t){return Fi(t)&&rs.call(t)==nt}function Wi(t){return"string"==typeof t||x(t)&&rs.call(t)==it}function Yi(t){return x(t)&&nr(t.length)&&!!Xt[rs.call(t)]}function Xi(t){return t===A}function Gi(t,e){return e>t}function qi(t,e){return e>=t}function Hi(t){var e=t?Ws(t):0;return nr(e)?e?te(t):[]:oo(t)}function Vi(t){return xe(t,to(t))}function Ki(t,e,n){var r=Ns(t);return n&&Qn(t,e,n)&&(e=A),e?ye(r,e):r}function $i(t){return Pe(t,to(t))}function Zi(t,e,n){var r=null==t?A:Fe(t,fr(e),e+"");return r===A?n:r}function Ji(t,e){if(null==t)return!1;var n=es.call(t,e);if(!n&&!tr(e)){if(e=fr(e),t=1==e.length?t:Fe(t,Ve(e,0,-1)),null==t)return!1;e=Tr(e),n=es.call(t,e)}return n||nr(t.length)&&Jn(e,t.length)&&(ka(t)||Si(t))}function Qi(t,e,n){n&&Qn(t,e,n)&&(e=A);for(var r=-1,i=Ua(t),o=i.length,s={};++r<o;){var a=i[r],u=t[a];e?es.call(s,u)?s[u].push(a):s[u]=[a]:s[u]=a}return s}function to(t){if(null==t)return[];Fi(t)||(t=Ho(t));var e=t.length;e=e&&nr(e)&&(ka(t)||Si(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=zo(e),s=e>0;++r<e;)o[r]=r+"";for(var a in t)s&&Jn(a,e)||"constructor"==a&&(i||!es.call(t,a))||o.push(a);return o}function eo(t){t=hr(t);for(var e=-1,n=Ua(t),r=n.length,i=zo(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function no(t,e,n){var r=null==t?A:t[e];return r===A&&(null==t||tr(e,t)||(e=fr(e),t=1==e.length?t:Fe(t,Ve(e,0,-1)),r=null==t?A:t[Tr(e)]),r=r===A?n:r),Pi(r)?r.call(t):r}function ro(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||tr(e,t)?[r]:fr(e);for(var i=-1,o=e.length,s=o-1,a=t;null!=a&&++i<o;){var u=e[i];Fi(a)&&(i==s?a[u]=n:null==a[u]&&(a[u]=Jn(e[i+1])?[]:{})),a=a[u]}return t}function io(t,e,n,r){var i=ka(t)||Yi(t);if(e=zn(e,r,4),null==n)if(i||Fi(t)){var o=t.constructor;n=i?ka(t)?new o:[]:Ns(Pi(o)?o.prototype:A)}else n={};return(i?ee:Re)(t,function(t,r,i){return e(n,t,r,i)}),n}function oo(t){return tn(t,Ua(t))}function so(t){return tn(t,to(t))}function ao(t,e,n){return e=+e||0,n===A?(n=e,e=0):n=+n||0,t>=Es(e,n)&&t<ws(e,n)}function uo(t,e,n){n&&Qn(t,e,n)&&(e=n=A);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Ts();return Es(t+o*(e-t+us("1e-"+((o+"").length-1))),e)}return qe(t,e)}function co(t){return t=c(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function lo(t){return t=c(t),t&&t.replace(It,d).replace(Rt,"")}function ho(t,e,n){t=c(t),e+="";var r=t.length;return n=n===A?r:Es(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function fo(t){return t=c(t),t&&wt.test(t)?t.replace(_t,v):t}function po(t){return t=c(t),t&&Ot.test(t)?t.replace(kt,g):t||"(?:)"}function vo(t,e,n){t=c(t),e=+e;var r=t.length;if(r>=e||!_s(e))return t;var i=(e-r)/2,o=ms(i),s=gs(i);return n=Pn("",s,n),n.slice(0,o)+t+n}function go(t,e,n){return(n?Qn(t,e,n):null==e)?e=0:e&&(e=+e),t=_o(t),Ss(t,e||(Nt.test(t)?16:10))}function yo(t,e){var n="";if(t=c(t),e=+e,1>e||!t||!_s(e))return n;do e%2&&(n+=t),e=ms(e/2),t+=t;while(e);return n}function mo(t,e,n){return t=c(t),n=null==n?0:Es(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function xo(t,n,r){var i=e.templateSettings;r&&Qn(t,n,r)&&(n=r=A),t=c(t),n=ge(ye({},r||n),i,ve);var o,s,a=ge(ye({},n.imports),i.imports,ve),u=Ua(a),l=tn(a,u),h=0,f=n.interpolate||jt,p="__p += '",d=Vo((n.escape||jt).source+"|"+f.source+"|"+(f===St?Pt:jt).source+"|"+(n.evaluate||jt).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Yt+"]")+"\n";t.replace(d,function(e,n,r,i,a,u){return r||(r=i),p+=t.slice(h,u).replace(Ut,y),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=u+e.length,e}),p+="';\n";var g=n.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(gt,""):p).replace(yt,"$1").replace(mt,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Za(function(){return Xo(u,v+"return "+p).apply(A,l)});if(m.source=p,Ri(m))throw m;return m}function _o(t,e,n){var r=t;return(t=c(t))?(n?Qn(r,e,n):null==e)?t.slice(E(t),M(t)+1):(e+="",t.slice(l(t,e),h(t,e)+1)):t}function bo(t,e,n){var r=t;return t=c(t),t?(n?Qn(r,e,n):null==e)?t.slice(E(t)):t.slice(l(t,e+"")):t}function wo(t,e,n){var r=t;return t=c(t),t?(n?Qn(r,e,n):null==e)?t.slice(0,M(t)+1):t.slice(0,h(t,e+"")+1):t}function Eo(t,e,n){n&&Qn(t,e,n)&&(e=A);var r=I,i=j;if(null!=e)if(Fi(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?c(e.omission):i}else r=+e||0;if(t=c(t),r>=t.length)return t;var s=r-i.length;if(1>s)return i;var a=t.slice(0,s);if(null==o)return a+i;if(zi(o)){if(t.slice(s).search(o)){var u,l,h=t.slice(0,s);for(o.global||(o=Vo(o.source,(Ft.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(h);)l=u.index;a=a.slice(0,null==l?s:l)}}else if(t.indexOf(o,s)!=s){var f=a.lastIndexOf(o);f>-1&&(a=a.slice(0,f))}return a+i}function Mo(t){return t=c(t),t&&bt.test(t)?t.replace(xt,S):t}function So(t,e,n){return n&&Qn(t,e,n)&&(e=A),t=c(t),t.match(e||zt)||[]}function To(t,e,n){return n&&Qn(t,e,n)&&(e=A),x(t)?ko(t):_e(t,e)}function Ao(t){return function(){return t}}function Co(t){return t}function ko(t){return je(be(t,!0))}function Oo(t,e){return Ue(t,be(e,!0))}function Ro(t,e,n){if(null==n){var r=Fi(e),i=r?Ua(e):A,o=i&&i.length?Pe(e,i):A;(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=Pe(e,Ua(e)));var s=!0,a=-1,u=Pi(t),c=o.length;n===!1?s=!1:Fi(n)&&"chain"in n&&(s=n.chain);for(;++a<c;){var l=o[a],h=e[l];t[l]=h,u&&(t.prototype[l]=function(e){return function(){var n=this.__chain__;if(s||n){var r=t(this.__wrapped__),i=r.__actions__=te(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,ce([this.value()],arguments))}}(h))}return t}function Do(){return re._=is,this}function Po(){}function Fo(t){return tr(t)?Ye(t):Xe(t)}function No(t){return function(e){return Fe(t,fr(e),e+"")}}function Lo(t,e,n){n&&Qn(t,e,n)&&(e=n=A),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=ws(gs((e-t)/(n||1)),0),o=zo(i);++r<i;)o[r]=t,t+=n;return o}function Bo(t,e,n){if(t=ms(t),1>t||!_s(t))return[];var r=-1,i=zo(Es(t,ks));for(e=sn(e,n,1);++r<t;)ks>r?i[r]=e(r):e(r);return i}function Io(t){var e=++ns;return c(t)+e}function jo(t,e){return(+t||0)+(+e||0)}function Uo(t,e,n){return n&&Qn(t,e,n)&&(e=A),e=zn(e,n,3),1==e.length?pe(ka(t)?t:lr(t),e):Je(t,e)}t=t?ie.defaults(re.Object(),t,ie.pick(re,Wt)):re;var zo=t.Array,Wo=t.Date,Yo=t.Error,Xo=t.Function,Go=t.Math,qo=t.Number,Ho=t.Object,Vo=t.RegExp,Ko=t.String,$o=t.TypeError,Zo=zo.prototype,Jo=Ho.prototype,Qo=Ko.prototype,ts=Xo.prototype.toString,es=Jo.hasOwnProperty,ns=0,rs=Jo.toString,is=re._,os=Vo("^"+ts.call(es).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ss=t.ArrayBuffer,as=t.clearTimeout,us=t.parseFloat,cs=Go.pow,ls=Jo.propertyIsEnumerable,hs=Gn(t,"Set"),fs=t.setTimeout,ps=Zo.splice,ds=t.Uint8Array,vs=Gn(t,"WeakMap"),gs=Go.ceil,ys=Gn(Ho,"create"),ms=Go.floor,xs=Gn(zo,"isArray"),_s=t.isFinite,bs=Gn(Ho,"keys"),ws=Go.max,Es=Go.min,Ms=Gn(Wo,"now"),Ss=t.parseInt,Ts=Go.random,As=qo.NEGATIVE_INFINITY,Cs=qo.POSITIVE_INFINITY,ks=4294967295,Os=ks-1,Rs=ks>>>1,Ds=9007199254740991,Ps=vs&&new vs,Fs={};e.support={};e.templateSettings={escape:Et,evaluate:Mt,interpolate:St,variable:"",imports:{_:e}};var Ns=function(){function t(){}return function(e){if(Fi(e)){t.prototype=e;var n=new t;t.prototype=A}return n||{}}}(),Ls=fn(Re),Bs=fn(De,!0),Is=pn(),js=pn(!0),Us=Ps?function(t,e){return Ps.set(t,e),t}:Co,zs=Ps?function(t){return Ps.get(t)}:Po,Ws=Ye("length"),Ys=function(){var t=0,e=0;return function(n,r){var i=va(),o=z-(i-e);if(e=i,o>0){if(++t>=U)return n}else t=0;return Us(n,r)}}(),Xs=yi(function(t,e){return x(t)&&Zn(t)?Ee(t,ke(e,!1,!0)):[]}),Gs=wn(),qs=wn(!0),Hs=yi(function(t){for(var e=t.length,n=e,r=zo(h),i=Yn(),o=i==a,s=[];n--;){var u=t[n]=Zn(u=t[n])?u:[];r[n]=o&&u.length>=120?vn(n&&u):null}var c=t[0],l=-1,h=c?c.length:0,f=r[0];t:for(;++l<h;)if(u=c[l],(f?Zt(f,u):i(s,u,0))<0){for(var n=e;--n;){var p=r[n];if((p?Zt(p,u):i(t[n],u,0))<0)continue t}f&&f.push(u),s.push(u)}return s}),Vs=yi(function(t,e){e=ke(e);var n=me(t,e);return Ge(t,e.sort(o)),n}),Ks=Ln(),$s=Ln(!0),Zs=yi(function(t){return Qe(ke(t,!1,!0))}),Js=yi(function(t,e){return Zn(t)?Ee(t,e):[]}),Qs=yi(Br),ta=yi(function(t){var e=t.length,n=e>2?t[e-2]:A,r=e>1?t[e-1]:A;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):A,r=A),t.length=e,Ir(t,n,r)}),ea=yi(function(t){return t=ke(t),this.thru(function(e){return Qt(ka(e)?e:[hr(e)],t)})}),na=yi(function(t,e){return me(t,ke(e))}),ra=ln(function(t,e,n){es.call(t,n)?++t[n]:t[n]=1}),ia=bn(Ls),oa=bn(Bs,!0),sa=Sn(ee,Ls),aa=Sn(ne,Bs),ua=ln(function(t,e,n){es.call(t,n)?t[n].push(e):t[n]=[e]}),ca=ln(function(t,e,n){t[n]=e}),la=yi(function(t,e,n){var r=-1,i="function"==typeof e,o=tr(e),s=Zn(t)?zo(t.length):[];return Ls(t,function(t){var a=i?e:o&&null!=t?t[e]:A;s[++r]=a?a.apply(t,n):$n(t,e,n)}),s}),ha=ln(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),fa=Rn(le,Ls),pa=Rn(he,Bs),da=yi(function(t,e){if(null==t)return[];var n=e[2];return n&&Qn(e[0],e[1],n)&&(e.length=1),Ze(t,ke(e),[])}),va=Ms||function(){return(new Wo).getTime()},ga=yi(function(t,e,n){var r=k;if(n.length){var i=b(n,ga.placeholder);r|=F}return Bn(t,r,e,n,i)}),ya=yi(function(t,e){e=e.length?ke(e):$i(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=Bn(t[i],k,t)}return t}),ma=yi(function(t,e,n){var r=k|O;if(n.length){var i=b(n,ma.placeholder);r|=F}return Bn(e,r,t,n,i)}),xa=mn(D),_a=mn(P),ba=yi(function(t,e){return we(t,1,e)}),wa=yi(function(t,e,n){return we(t,e,n)}),Ea=Mn(),Ma=Mn(!0),Sa=yi(function(t,e){if(e=ke(e),"function"!=typeof t||!oe(e,u))throw new $o(G);var n=e.length;return yi(function(r){for(var i=Es(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})}),Ta=On(F),Aa=On(N),Ca=yi(function(t,e){return Bn(t,B,A,A,A,ke(e))}),ka=xs||function(t){return x(t)&&nr(t.length)&&rs.call(t)==V},Oa=hn(ze),Ra=hn(function(t,e,n){return n?ge(t,e,n):ye(t,e)}),Da=xn(Ra,de),Pa=xn(Oa,or),Fa=En(Re),Na=En(De),La=Tn(Is),Ba=Tn(js),Ia=An(Re),ja=An(De),Ua=bs?function(t){var e=null==t?A:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Zn(t)?cr(t):Fi(t)?bs(t):[]}:cr,za=Cn(!0),Wa=Cn(),Ya=yi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=ue(ke(e),Ko);return sr(t,Ee(to(t),e))}var n=sn(e[0],e[1],3);return ar(t,function(t,e,r){return!n(t,e,r)})}),Xa=yi(function(t,e){return null==t?{}:"function"==typeof e[0]?ar(t,sn(e[0],e[1],3)):sr(t,ke(e))}),Ga=gn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),qa=gn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ha=kn(),Va=kn(!0),Ka=gn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),$a=gn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Za=yi(function(t,e){try{return t.apply(A,e)}catch(n){return Ri(n)?n:new Yo(n)}}),Ja=yi(function(t,e){return function(n){return $n(n,t,e)}}),Qa=yi(function(t,e){return function(n){return $n(t,n,e)}}),tu=Nn("ceil"),eu=Nn("floor"),nu=_n(Ei,As),ru=_n(Gi,Cs),iu=Nn("round");return e.prototype=n.prototype,r.prototype=Ns(n.prototype),r.prototype.constructor=r,i.prototype=Ns(n.prototype),i.prototype.constructor=i,ot.prototype["delete"]=qt,ot.prototype.get=Ht,ot.prototype.has=Vt,ot.prototype.set=Kt,$t.prototype.push=Jt,di.Cache=ot,e.after=li,e.ary=hi,e.assign=Ra,e.at=na,e.before=fi,e.bind=ga,e.bindAll=ya,e.bindKey=ma,e.callback=To,e.chain=zr,e.chunk=dr,e.compact=vr,e.constant=Ao,e.countBy=ra,e.create=Ki,e.curry=xa,e.curryRight=_a,e.debounce=pi,e.defaults=Da,e.defaultsDeep=Pa,e.defer=ba,e.delay=wa,e.difference=Xs,e.drop=gr,e.dropRight=yr,e.dropRightWhile=mr,e.dropWhile=xr,e.fill=_r,e.filter=Zr,e.flatten=wr,e.flattenDeep=Er,e.flow=Ea,e.flowRight=Ma,e.forEach=sa,e.forEachRight=aa,e.forIn=La,e.forInRight=Ba,e.forOwn=Ia,e.forOwnRight=ja,e.functions=$i,e.groupBy=ua,e.indexBy=ca,e.initial=Sr,e.intersection=Hs,e.invert=Qi,e.invoke=la,e.keys=Ua,e.keysIn=to,e.map=ti,e.mapKeys=za,e.mapValues=Wa,e.matches=ko,e.matchesProperty=Oo,e.memoize=di,e.merge=Oa,e.method=Ja,e.methodOf=Qa,e.mixin=Ro,e.modArgs=Sa,e.negate=vi,e.omit=Ya,e.once=gi,e.pairs=eo,e.partial=Ta,e.partialRight=Aa,e.partition=ha,e.pick=Xa,e.pluck=ei,e.property=Fo,e.propertyOf=No,e.pull=Cr,e.pullAt=Vs,e.range=Lo,e.rearg=Ca,e.reject=ni,e.remove=kr,e.rest=Or,e.restParam=yi,e.set=ro,e.shuffle=ii,e.slice=Rr,e.sortBy=ai,e.sortByAll=da,e.sortByOrder=ui,e.spread=mi,e.take=Dr,e.takeRight=Pr,e.takeRightWhile=Fr,e.takeWhile=Nr,e.tap=Wr,e.throttle=xi,e.thru=Yr,e.times=Bo,e.toArray=Hi,e.toPlainObject=Vi,e.transform=io,e.union=Zs,e.uniq=Lr,e.unzip=Br,e.unzipWith=Ir,e.values=oo,e.valuesIn=so,e.where=ci,e.without=Js,e.wrap=_i,e.xor=jr,e.zip=Qs,e.zipObject=Ur,e.zipWith=ta,e.backflow=Ma,e.collect=ti,e.compose=Ma,e.each=sa,e.eachRight=aa,e.extend=Ra,e.iteratee=To,e.methods=$i,e.object=Ur,e.select=Zr,e.tail=Or,e.unique=Lr,Ro(e,e),e.add=jo,e.attempt=Za,e.camelCase=Ga,e.capitalize=co,e.ceil=tu,e.clone=bi,e.cloneDeep=wi,e.deburr=lo,e.endsWith=ho,e.escape=fo,e.escapeRegExp=po,e.every=$r,e.find=ia,e.findIndex=Gs,e.findKey=Fa,e.findLast=oa,e.findLastIndex=qs,e.findLastKey=Na,e.findWhere=Jr,e.first=br,e.floor=eu,e.get=Zi,e.gt=Ei,e.gte=Mi,e.has=Ji,e.identity=Co,e.includes=Qr,e.indexOf=Mr,e.inRange=ao,e.isArguments=Si,e.isArray=ka,e.isBoolean=Ti,e.isDate=Ai,e.isElement=Ci,e.isEmpty=ki,e.isEqual=Oi,e.isError=Ri,e.isFinite=Di,e.isFunction=Pi,e.isMatch=Ni,e.isNaN=Li,e.isNative=Bi,e.isNull=Ii,e.isNumber=ji,e.isObject=Fi,e.isPlainObject=Ui,e.isRegExp=zi,e.isString=Wi,e.isTypedArray=Yi,e.isUndefined=Xi,e.kebabCase=qa,e.last=Tr,e.lastIndexOf=Ar,e.lt=Gi,e.lte=qi,e.max=nu,e.min=ru,e.noConflict=Do,e.noop=Po,e.now=va,e.pad=vo,e.padLeft=Ha,e.padRight=Va,e.parseInt=go,e.random=uo,e.reduce=fa,e.reduceRight=pa,e.repeat=yo,e.result=no,e.round=iu,e.runInContext=T,e.size=oi,e.snakeCase=Ka,e.some=si,e.sortedIndex=Ks,e.sortedLastIndex=$s,e.startCase=$a,e.startsWith=mo,e.sum=Uo,e.template=xo,e.trim=_o,e.trimLeft=bo,e.trimRight=wo,e.trunc=Eo,e.unescape=Mo,e.uniqueId=Io,e.words=So,e.all=$r,e.any=si,e.contains=Qr,e.eq=Oi,e.detect=ia,e.foldl=fa,e.foldr=pa,e.head=br,e.include=Qr,e.inject=fa,Ro(e,function(){var t={};return Re(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=ri,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ri(e,t)}):ri(this.value())},e.VERSION=C,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){i.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new i(this);n=null==n?1:ws(ms(n)||0,0);var o=this.clone();return r?o.__takeCount__=Es(o.__takeCount__,n):o.__views__.push({size:n,type:t+(o.__dir__<0?"Right":"")}),o},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=X;i.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:zn(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?je:Fo;i.prototype[t]=function(t){return this[n](r(t))}}),i.prototype.compact=function(){return this.filter(Co)},i.prototype.reject=function(t,e){return t=zn(t,e,1),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||0>e)?new i(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==A&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n)},i.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},i.prototype.toArray=function(){return this.take(Cs)},Re(i.prototype,function(t,n){var o=/^(?:filter|map|reject)|While$/.test(n),s=/^(?:first|last)$/.test(n),a=e[s?"take"+("last"==n?"Right":""):n];a&&(e.prototype[n]=function(){var e=s?[1]:arguments,n=this.__chain__,u=this.__wrapped__,c=!!this.__actions__.length,l=u instanceof i,h=e[0],f=l||ka(u);f&&o&&"function"==typeof h&&1!=h.length&&(l=f=!1);var p=function(t){return s&&n?a(t,1)[0]:a.apply(A,ce([t],e))},d={func:Yr,args:[p],thisArg:A},v=l&&!c;if(s&&!n)return v?(u=u.clone(),u.__actions__.push(d),t.call(u)):a.call(A,this.value())[0];if(!s&&f){u=v?u:new i(this);var g=t.apply(u,e);return g.__actions__.push(d),new r(g,n)}return this.thru(p)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Qo:Zo)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Re(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name,o=Fs[i]||(Fs[i]=[]);o.push({name:n,func:r})}}),Fs[Dn(A,O).name]=[{name:"wrapper",func:A}],i.prototype.clone=_,i.prototype.reverse=Q,i.prototype.value=rt,e.prototype.chain=Xr,e.prototype.commit=Gr,e.prototype.concat=ea,e.prototype.plant=qr,e.prototype.reverse=Hr,e.prototype.toString=Vr,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Kr,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var A,C="3.10.1",k=1,O=2,R=4,D=8,P=16,F=32,N=64,L=128,B=256,I=30,j="...",U=150,z=16,W=200,Y=1,X=2,G="Expected a function",q="__lodash_placeholder__",H="[object Arguments]",V="[object Array]",K="[object Boolean]",$="[object Date]",Z="[object Error]",J="[object Function]",Q="[object Map]",tt="[object Number]",et="[object Object]",nt="[object RegExp]",rt="[object Set]",it="[object String]",ot="[object WeakMap]",st="[object ArrayBuffer]",at="[object Float32Array]",ut="[object Float64Array]",ct="[object Int8Array]",lt="[object Int16Array]",ht="[object Int32Array]",ft="[object Uint8Array]",pt="[object Uint8ClampedArray]",dt="[object Uint16Array]",vt="[object Uint32Array]",gt=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39|#96);/g,_t=/[&<>"'`]/g,bt=RegExp(xt.source),wt=RegExp(_t.source),Et=/<%-([\s\S]+?)%>/g,Mt=/<%([\s\S]+?)%>/g,St=/<%=([\s\S]+?)%>/g,Tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,At=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,kt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ot=RegExp(kt.source),Rt=/[\u0300-\u036f\ufe20-\ufe23]/g,Dt=/\\(\\)?/g,Pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ft=/\w*$/,Nt=/^0[xX]/,Lt=/^\[object .+?Constructor\]$/,Bt=/^\d+$/,It=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,jt=/($^)/,Ut=/['\n\r\u2028\u2029\\]/g,zt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Wt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Yt=-1,Xt={};Xt[at]=Xt[ut]=Xt[ct]=Xt[lt]=Xt[ht]=Xt[ft]=Xt[pt]=Xt[dt]=Xt[vt]=!0,Xt[H]=Xt[V]=Xt[st]=Xt[K]=Xt[$]=Xt[Z]=Xt[J]=Xt[Q]=Xt[tt]=Xt[et]=Xt[nt]=Xt[rt]=Xt[it]=Xt[ot]=!1;var Gt={};Gt[H]=Gt[V]=Gt[st]=Gt[K]=Gt[$]=Gt[at]=Gt[ut]=Gt[ct]=Gt[lt]=Gt[ht]=Gt[tt]=Gt[et]=Gt[nt]=Gt[it]=Gt[ft]=Gt[pt]=Gt[dt]=Gt[vt]=!0,Gt[Z]=Gt[J]=Gt[Q]=Gt[rt]=Gt[ot]=!1;var qt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o",
"ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ht={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Vt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Kt={"function":!0,object:!0},$t={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Zt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jt=Kt[typeof e]&&e&&!e.nodeType&&e,Qt=Kt[typeof t]&&t&&!t.nodeType&&t,te=Jt&&Qt&&"object"==typeof i&&i&&i.Object&&i,ee=Kt[typeof self]&&self&&self.Object&&self,ne=Kt[typeof window]&&window&&window.Object&&window,re=(Qt&&Qt.exports===Jt&&Jt,te||ne!==(this&&this.window)&&ne||ee||this),ie=T();re._=ie,r=function(){return ie}.call(e,n,e,t),!(r!==A&&(t.exports=r))}).call(this)}).call(e,n(117)(t),function(){return this}())},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r;(function(i){!function(){function o(t){var e,n,r,i="",o=-1;if(t&&t.length)for(r=t.length;(o+=1)<r;)e=t.charCodeAt(o),n=r>o+1?t.charCodeAt(o+1):0,e>=55296&&56319>=e&&n>=56320&&57343>=n&&(e=65536+((1023&e)<<10)+(1023&n),o+=1),127>=e?i+=String.fromCharCode(e):2047>=e?i+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?i+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(i+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return i}function s(t){var e,n,r,i,o,s,a=[];if(e=n=r=i=o=0,t&&t.length)for(s=t.length,t+="";s>e;)r=t.charCodeAt(e),n+=1,128>r?(a[n]=String.fromCharCode(r),e+=1):r>191&&224>r?(i=t.charCodeAt(e+1),a[n]=String.fromCharCode((31&r)<<6|63&i),e+=2):(i=t.charCodeAt(e+1),o=t.charCodeAt(e+2),a[n]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&o),e+=3);return a.join("")}function a(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function u(t,e){return t<<e|t>>>32-e}function c(t,e){for(var n,r=e?"0123456789ABCDEF":"0123456789abcdef",i="",o=0,s=t.length;s>o;o+=1)n=t.charCodeAt(o),i+=r.charAt(n>>>4&15)+r.charAt(15&n);return i}function l(t){var e,n=32*t.length,r="";for(e=0;n>e;e+=8)r+=String.fromCharCode(t[e>>5]>>>24-e%32&255);return r}function h(t){var e,n=32*t.length,r="";for(e=0;n>e;e+=8)r+=String.fromCharCode(t[e>>5]>>>e%32&255);return r}function f(t){var e,n=8*t.length,r=Array(t.length>>2),i=r.length;for(e=0;i>e;e+=1)r[e]=0;for(e=0;n>e;e+=8)r[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return r}function p(t){var e,n=8*t.length,r=Array(t.length>>2),i=r.length;for(e=0;i>e;e+=1)r[e]=0;for(e=0;n>e;e+=8)r[e>>5]|=(255&t.charCodeAt(e/8))<<24-e%32;return r}function d(t,e){var n,r,i,o,s,a,u,c,l=e.length,h=Array();for(a=Array(Math.ceil(t.length/2)),o=a.length,n=0;o>n;n+=1)a[n]=t.charCodeAt(2*n)<<8|t.charCodeAt(2*n+1);for(;a.length>0;){for(s=Array(),i=0,n=0;n<a.length;n+=1)i=(i<<16)+a[n],r=Math.floor(i/l),i-=r*l,(s.length>0||r>0)&&(s[s.length]=r);h[h.length]=i,a=s}for(u="",n=h.length-1;n>=0;n--)u+=e.charAt(h[n]);for(c=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),n=u.length;c>n;n+=1)u=e[0]+u;return u}function v(t,e){var n,r,i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="",a=t.length;for(e=e||"=",n=0;a>n;n+=3)for(i=t.charCodeAt(n)<<16|(a>n+1?t.charCodeAt(n+1)<<8:0)|(a>n+2?t.charCodeAt(n+2):0),r=0;4>r;r+=1)s+=8*n+6*r>8*t.length?e:o.charAt(i>>>6*(3-r)&63);return s}var g;g={VERSION:"1.0.5",Base64:function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="=",n=!0;this.encode=function(r){var i,s,a,u="",c=r.length;for(e=e||"=",r=n?o(r):r,i=0;c>i;i+=3)for(a=r.charCodeAt(i)<<16|(c>i+1?r.charCodeAt(i+1)<<8:0)|(c>i+2?r.charCodeAt(i+2):0),s=0;4>s;s+=1)u+=8*i+6*s>8*c?e:t.charAt(a>>>6*(3-s)&63);return u},this.decode=function(r){var i,o,a,u,c,l,h,f,p,d,v="",g=[];if(!r)return r;i=d=0,r=r.replace(new RegExp("\\"+e,"gi"),"");do c=t.indexOf(r.charAt(i+=1)),l=t.indexOf(r.charAt(i+=1)),h=t.indexOf(r.charAt(i+=1)),f=t.indexOf(r.charAt(i+=1)),p=c<<18|l<<12|h<<6|f,o=p>>16&255,a=p>>8&255,u=255&p,d+=1,64===h?g[d]=String.fromCharCode(o):64===f?g[d]=String.fromCharCode(o,a):g[d]=String.fromCharCode(o,a,u);while(i<r.length);return v=g.join(""),v=n?s(v):v},this.setPad=function(t){return e=t||e,this},this.setTab=function(e){return t=e||t,this},this.setUTF8=function(t){return"boolean"==typeof t&&(n=t),this}},CRC32:function(t){var e,n,r,i=0,s=0,a=0;for(t=o(t),e=["00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 ","79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 ","84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F ","63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD ","A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC ","51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 ","B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 ","06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 ","E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 ","12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 ","D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 ","33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 ","CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 ","9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E ","7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D ","806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 ","60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA ","AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 ","5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 ","B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 ","05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 ","F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA ","11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 ","D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F ","30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E ","C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D"].join(""),i=-1^i,n=0,r=t.length;r>n;n+=1)a=255&(i^t.charCodeAt(n)),s="0x"+e.substr(9*a,8),i=i>>>8^s;return(-1^i)>>>0},MD5:function(t){function e(t){return t=x?o(t):t,h(r(f(t),8*t.length))}function n(t,e){var n,i,s,a,u;for(t=x?o(t):t,e=x?o(e):e,n=f(t),n.length>16&&(n=r(n,8*t.length)),i=Array(16),s=Array(16),u=0;16>u;u+=1)i[u]=909522486^n[u],s[u]=1549556828^n[u];return a=r(i.concat(f(e)),512+8*e.length),h(r(s.concat(a),640))}function r(t,e){var n,r,i,o,u,c=1732584193,h=-271733879,f=-1732584194,d=271733878;for(t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e,n=0;n<t.length;n+=16)r=c,i=h,o=f,u=d,c=s(c,h,f,d,t[n+0],7,-680876936),d=s(d,c,h,f,t[n+1],12,-389564586),f=s(f,d,c,h,t[n+2],17,606105819),h=s(h,f,d,c,t[n+3],22,-1044525330),c=s(c,h,f,d,t[n+4],7,-176418897),d=s(d,c,h,f,t[n+5],12,1200080426),f=s(f,d,c,h,t[n+6],17,-1473231341),h=s(h,f,d,c,t[n+7],22,-45705983),c=s(c,h,f,d,t[n+8],7,1770035416),d=s(d,c,h,f,t[n+9],12,-1958414417),f=s(f,d,c,h,t[n+10],17,-42063),h=s(h,f,d,c,t[n+11],22,-1990404162),c=s(c,h,f,d,t[n+12],7,1804603682),d=s(d,c,h,f,t[n+13],12,-40341101),f=s(f,d,c,h,t[n+14],17,-1502002290),h=s(h,f,d,c,t[n+15],22,1236535329),c=l(c,h,f,d,t[n+1],5,-165796510),d=l(d,c,h,f,t[n+6],9,-1069501632),f=l(f,d,c,h,t[n+11],14,643717713),h=l(h,f,d,c,t[n+0],20,-373897302),c=l(c,h,f,d,t[n+5],5,-701558691),d=l(d,c,h,f,t[n+10],9,38016083),f=l(f,d,c,h,t[n+15],14,-660478335),h=l(h,f,d,c,t[n+4],20,-405537848),c=l(c,h,f,d,t[n+9],5,568446438),d=l(d,c,h,f,t[n+14],9,-1019803690),f=l(f,d,c,h,t[n+3],14,-187363961),h=l(h,f,d,c,t[n+8],20,1163531501),c=l(c,h,f,d,t[n+13],5,-1444681467),d=l(d,c,h,f,t[n+2],9,-51403784),f=l(f,d,c,h,t[n+7],14,1735328473),h=l(h,f,d,c,t[n+12],20,-1926607734),c=p(c,h,f,d,t[n+5],4,-378558),d=p(d,c,h,f,t[n+8],11,-2022574463),f=p(f,d,c,h,t[n+11],16,1839030562),h=p(h,f,d,c,t[n+14],23,-35309556),c=p(c,h,f,d,t[n+1],4,-1530992060),d=p(d,c,h,f,t[n+4],11,1272893353),f=p(f,d,c,h,t[n+7],16,-155497632),h=p(h,f,d,c,t[n+10],23,-1094730640),c=p(c,h,f,d,t[n+13],4,681279174),d=p(d,c,h,f,t[n+0],11,-358537222),f=p(f,d,c,h,t[n+3],16,-722521979),h=p(h,f,d,c,t[n+6],23,76029189),c=p(c,h,f,d,t[n+9],4,-640364487),d=p(d,c,h,f,t[n+12],11,-421815835),f=p(f,d,c,h,t[n+15],16,530742520),h=p(h,f,d,c,t[n+2],23,-995338651),c=g(c,h,f,d,t[n+0],6,-198630844),d=g(d,c,h,f,t[n+7],10,1126891415),f=g(f,d,c,h,t[n+14],15,-1416354905),h=g(h,f,d,c,t[n+5],21,-57434055),c=g(c,h,f,d,t[n+12],6,1700485571),d=g(d,c,h,f,t[n+3],10,-1894986606),f=g(f,d,c,h,t[n+10],15,-1051523),h=g(h,f,d,c,t[n+1],21,-2054922799),c=g(c,h,f,d,t[n+8],6,1873313359),d=g(d,c,h,f,t[n+15],10,-30611744),f=g(f,d,c,h,t[n+6],15,-1560198380),h=g(h,f,d,c,t[n+13],21,1309151649),c=g(c,h,f,d,t[n+4],6,-145523070),d=g(d,c,h,f,t[n+11],10,-1120210379),f=g(f,d,c,h,t[n+2],15,718787259),h=g(h,f,d,c,t[n+9],21,-343485551),c=a(c,r),h=a(h,i),f=a(f,o),d=a(d,u);return Array(c,h,f,d)}function i(t,e,n,r,i,o){return a(u(a(a(e,t),a(r,o)),i),n)}function s(t,e,n,r,o,s,a){return i(e&n|~e&r,t,e,o,s,a)}function l(t,e,n,r,o,s,a){return i(e&r|n&~r,t,e,o,s,a)}function p(t,e,n,r,o,s,a){return i(e^n^r,t,e,o,s,a)}function g(t,e,n,r,o,s,a){return i(n^(e|~r),t,e,o,s,a)}var y=t&&"boolean"==typeof t.uppercase?t.uppercase:!1,m=t&&"string"==typeof t.pad?t.pda:"=",x=t&&"boolean"==typeof t.utf8?t.utf8:!0;this.hex=function(t){return c(e(t,x),y)},this.b64=function(t){return v(e(t),m)},this.any=function(t,n){return d(e(t,x),n)},this.raw=function(t){return e(t,x)},this.hex_hmac=function(t,e){return c(n(t,e),y)},this.b64_hmac=function(t,e){return v(n(t,e),m)},this.any_hmac=function(t,e,r){return d(n(t,e),r)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(t){return"boolean"==typeof t&&(y=t),this},this.setPad=function(t){return m=t||m,this},this.setUTF8=function(t){return"boolean"==typeof t&&(x=t),this}},SHA1:function(t){function e(t){return t=g?o(t):t,l(r(p(t),8*t.length))}function n(t,e){var n,i,s,a,u;for(t=g?o(t):t,e=g?o(e):e,n=p(t),n.length>16&&(n=r(n,8*t.length)),i=Array(16),s=Array(16),a=0;16>a;a+=1)i[a]=909522486^n[a],s[a]=1549556828^n[a];return u=r(i.concat(p(e)),512+8*e.length),l(r(s.concat(u),672))}function r(t,e){var n,r,o,c,l,h,f,p,d=Array(80),v=1732584193,g=-271733879,y=-1732584194,m=271733878,x=-1009589776;for(t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e,n=0;n<t.length;n+=16){for(c=v,l=g,h=y,f=m,p=x,r=0;80>r;r+=1)16>r?d[r]=t[n+r]:d[r]=u(d[r-3]^d[r-8]^d[r-14]^d[r-16],1),o=a(a(u(v,5),i(r,g,y,m)),a(a(x,d[r]),s(r))),x=m,m=y,y=u(g,30),g=v,v=o;v=a(v,c),g=a(g,l),y=a(y,h),m=a(m,f),x=a(x,p)}return Array(v,g,y,m,x)}function i(t,e,n,r){return 20>t?e&n|~e&r:40>t?e^n^r:60>t?e&n|e&r|n&r:e^n^r}function s(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}var h=t&&"boolean"==typeof t.uppercase?t.uppercase:!1,f=t&&"string"==typeof t.pad?t.pda:"=",g=t&&"boolean"==typeof t.utf8?t.utf8:!0;this.hex=function(t){return c(e(t,g),h)},this.b64=function(t){return v(e(t,g),f)},this.any=function(t,n){return d(e(t,g),n)},this.raw=function(t){return e(t,g)},this.hex_hmac=function(t,e){return c(n(t,e))},this.b64_hmac=function(t,e){return v(n(t,e),f)},this.any_hmac=function(t,e,r){return d(n(t,e),r)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(t){return"boolean"==typeof t&&(h=t),this},this.setPad=function(t){return f=t||f,this},this.setUTF8=function(t){return"boolean"==typeof t&&(g=t),this}},SHA256:function(t){function e(t,e){return t=e?o(t):t,l(m(p(t),8*t.length))}function n(t,e){t=w?o(t):t,e=w?o(e):e;var n,r=0,i=p(t),s=Array(16),a=Array(16);for(i.length>16&&(i=m(i,8*t.length));16>r;r+=1)s[r]=909522486^i[r],a[r]=1549556828^i[r];return n=m(s.concat(p(e)),512+8*e.length),l(m(a.concat(n),768))}function r(t,e){return t>>>e|t<<32-e}function i(t,e){return t>>>e}function s(t,e,n){return t&e^~t&n}function u(t,e,n){return t&e^t&n^e&n}function h(t){return r(t,2)^r(t,13)^r(t,22)}function f(t){return r(t,6)^r(t,11)^r(t,25)}function g(t){return r(t,7)^r(t,18)^i(t,3)}function y(t){return r(t,17)^r(t,19)^i(t,10)}function m(t,e){var n,r,i,o,c,l,p,d,v,m,_,b,w=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],E=new Array(64);for(t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e,v=0;v<t.length;v+=16){for(n=w[0],r=w[1],i=w[2],o=w[3],c=w[4],l=w[5],p=w[6],d=w[7],m=0;64>m;m+=1)16>m?E[m]=t[m+v]:E[m]=a(a(a(y(E[m-2]),E[m-7]),g(E[m-15])),E[m-16]),_=a(a(a(a(d,f(c)),s(c,l,p)),x[m]),E[m]),b=a(h(n),u(n,r,i)),d=p,p=l,l=c,c=a(o,_),o=i,i=r,r=n,n=a(_,b);w[0]=a(n,w[0]),w[1]=a(r,w[1]),w[2]=a(i,w[2]),w[3]=a(o,w[3]),w[4]=a(c,w[4]),w[5]=a(l,w[5]),w[6]=a(p,w[6]),w[7]=a(d,w[7])}return w}var x,_=t&&"boolean"==typeof t.uppercase?t.uppercase:!1,b=t&&"string"==typeof t.pad?t.pda:"=",w=t&&"boolean"==typeof t.utf8?t.utf8:!0;this.hex=function(t){return c(e(t,w))},this.b64=function(t){return v(e(t,w),b)},this.any=function(t,n){return d(e(t,w),n)},this.raw=function(t){return e(t,w)},this.hex_hmac=function(t,e){return c(n(t,e))},this.b64_hmac=function(t,e){return v(n(t,e),b)},this.any_hmac=function(t,e,r){return d(n(t,e),r)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(t){return"boolean"==typeof t&&(_=t),this},this.setPad=function(t){return b=t||b,this},this.setUTF8=function(t){return"boolean"==typeof t&&(w=t),this},x=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998]},SHA512:function(t){function e(t){return t=b?o(t):t,l(r(p(t),8*t.length))}function n(t,e){t=b?o(t):t,e=b?o(e):e;var n,i=0,s=p(t),a=Array(32),u=Array(32);for(s.length>32&&(s=r(s,8*t.length));32>i;i+=1)a[i]=909522486^s[i],u[i]=1549556828^s[i];return n=r(a.concat(p(e)),1024+8*e.length),l(r(u.concat(n),1536))}function r(t,e){var n,r,o,c=new Array(80),l=new Array(16),p=[new i(1779033703,-205731576),new i(-1150833019,-2067093701),new i(1013904242,-23791573),new i(-1521486534,1595750129),new i(1359893119,-1377402159),new i(-1694144372,725511199),new i(528734635,-79577749),new i(1541459225,327033209)],d=new i(0,0),v=new i(0,0),x=new i(0,0),_=new i(0,0),b=new i(0,0),w=new i(0,0),E=new i(0,0),M=new i(0,0),S=new i(0,0),T=new i(0,0),A=new i(0,0),C=new i(0,0),k=new i(0,0),O=new i(0,0),R=new i(0,0),D=new i(0,0),P=new i(0,0);for(void 0===m&&(m=[new i(1116352408,-685199838),new i(1899447441,602891725),new i(-1245643825,-330482897),new i(-373957723,-2121671748),new i(961987163,-213338824),new i(1508970993,-1241133031),new i(-1841331548,-1357295717),new i(-1424204075,-630357736),new i(-670586216,-1560083902),new i(310598401,1164996542),new i(607225278,1323610764),new i(1426881987,-704662302),new i(1925078388,-226784913),new i(-2132889090,991336113),new i(-1680079193,633803317),new i(-1046744716,-815192428),new i(-459576895,-1628353838),new i(-272742522,944711139),new i(264347078,-1953704523),new i(604807628,2007800933),new i(770255983,1495990901),new i(1249150122,1856431235),new i(1555081692,-1119749164),new i(1996064986,-2096016459),new i(-1740746414,-295247957),new i(-1473132947,766784016),new i(-1341970488,-1728372417),new i(-1084653625,-1091629340),new i(-958395405,1034457026),new i(-710438585,-1828018395),new i(113926993,-536640913),new i(338241895,168717936),new i(666307205,1188179964),new i(773529912,1546045734),new i(1294757372,1522805485),new i(1396182291,-1651133473),new i(1695183700,-1951439906),new i(1986661051,1014477480),new i(-2117940946,1206759142),new i(-1838011259,344077627),new i(-1564481375,1290863460),new i(-1474664885,-1136513023),new i(-1035236496,-789014639),new i(-949202525,106217008),new i(-778901479,-688958952),new i(-694614492,1432725776),new i(-200395387,1467031594),new i(275423344,851169720),new i(430227734,-1194143544),new i(506948616,1363258195),new i(659060556,-544281703),new i(883997877,-509917016),new i(958139571,-976659869),new i(1322822218,-482243893),new i(1537002063,2003034995),new i(1747873779,-692930397),new i(1955562222,1575990012),new i(2024104815,1125592928),new i(-2067236844,-1578062990),new i(-1933114872,442776044),new i(-1866530822,593698344),new i(-1538233109,-561857047),new i(-1090935817,-1295615723),new i(-965641998,-479046869),new i(-903397682,-366583396),new i(-779700025,566280711),new i(-354779690,-840897762),new i(-176337025,-294727304),new i(116418474,1914138554),new i(174292421,-1563912026),new i(289380356,-1090974290),new i(460393269,320620315),new i(685471733,587496836),new i(852142971,1086792851),new i(1017036298,365543100),new i(1126000580,-1676669620),new i(1288033470,-885112138),new i(1501505948,-60457430),new i(1607167915,987167468),new i(1816402316,1246189591)]),r=0;80>r;r+=1)c[r]=new i(0,0);for(t[e>>5]|=128<<24-(31&e),t[(e+128>>10<<5)+31]=e,o=t.length,r=0;o>r;r+=32){for(s(x,p[0]),s(_,p[1]),s(b,p[2]),s(w,p[3]),s(E,p[4]),s(M,p[5]),s(S,p[6]),s(T,p[7]),n=0;16>n;n+=1)c[n].h=t[r+2*n],c[n].l=t[r+2*n+1];for(n=16;80>n;n+=1)a(R,c[n-2],19),u(D,c[n-2],29),h(P,c[n-2],6),C.l=R.l^D.l^P.l,C.h=R.h^D.h^P.h,a(R,c[n-15],1),a(D,c[n-15],8),h(P,c[n-15],7),A.l=R.l^D.l^P.l,A.h=R.h^D.h^P.h,g(c[n],C,c[n-7],A,c[n-16]);for(n=0;80>n;n+=1)k.l=E.l&M.l^~E.l&S.l,k.h=E.h&M.h^~E.h&S.h,a(R,E,14),a(D,E,18),u(P,E,9),C.l=R.l^D.l^P.l,C.h=R.h^D.h^P.h,a(R,x,28),u(D,x,2),u(P,x,7),A.l=R.l^D.l^P.l,A.h=R.h^D.h^P.h,O.l=x.l&_.l^x.l&b.l^_.l&b.l,O.h=x.h&_.h^x.h&b.h^_.h&b.h,y(d,T,C,k,m[n],c[n]),f(v,A,O),s(T,S),s(S,M),s(M,E),f(E,w,d),s(w,b),s(b,_),s(_,x),f(x,d,v);f(p[0],p[0],x),f(p[1],p[1],_),f(p[2],p[2],b),f(p[3],p[3],w),f(p[4],p[4],E),f(p[5],p[5],M),f(p[6],p[6],S),f(p[7],p[7],T)}for(r=0;8>r;r+=1)l[2*r]=p[r].h,l[2*r+1]=p[r].l;return l}function i(t,e){this.h=t,this.l=e}function s(t,e){t.h=e.h,t.l=e.l}function a(t,e,n){t.l=e.l>>>n|e.h<<32-n,t.h=e.h>>>n|e.l<<32-n}function u(t,e,n){t.l=e.h>>>n|e.l<<32-n,t.h=e.l>>>n|e.h<<32-n}function h(t,e,n){t.l=e.l>>>n|e.h<<32-n,t.h=e.h>>>n}function f(t,e,n){var r=(65535&e.l)+(65535&n.l),i=(e.l>>>16)+(n.l>>>16)+(r>>>16),o=(65535&e.h)+(65535&n.h)+(i>>>16),s=(e.h>>>16)+(n.h>>>16)+(o>>>16);t.l=65535&r|i<<16,t.h=65535&o|s<<16}function g(t,e,n,r,i){var o=(65535&e.l)+(65535&n.l)+(65535&r.l)+(65535&i.l),s=(e.l>>>16)+(n.l>>>16)+(r.l>>>16)+(i.l>>>16)+(o>>>16),a=(65535&e.h)+(65535&n.h)+(65535&r.h)+(65535&i.h)+(s>>>16),u=(e.h>>>16)+(n.h>>>16)+(r.h>>>16)+(i.h>>>16)+(a>>>16);t.l=65535&o|s<<16,t.h=65535&a|u<<16}function y(t,e,n,r,i,o){var s=(65535&e.l)+(65535&n.l)+(65535&r.l)+(65535&i.l)+(65535&o.l),a=(e.l>>>16)+(n.l>>>16)+(r.l>>>16)+(i.l>>>16)+(o.l>>>16)+(s>>>16),u=(65535&e.h)+(65535&n.h)+(65535&r.h)+(65535&i.h)+(65535&o.h)+(a>>>16),c=(e.h>>>16)+(n.h>>>16)+(r.h>>>16)+(i.h>>>16)+(o.h>>>16)+(u>>>16);t.l=65535&s|a<<16,t.h=65535&u|c<<16}var m,x=t&&"boolean"==typeof t.uppercase?t.uppercase:!1,_=t&&"string"==typeof t.pad?t.pda:"=",b=t&&"boolean"==typeof t.utf8?t.utf8:!0;this.hex=function(t){return c(e(t))},this.b64=function(t){return v(e(t),_)},this.any=function(t,n){return d(e(t),n)},this.raw=function(t){return e(t,b)},this.hex_hmac=function(t,e){return c(n(t,e))},this.b64_hmac=function(t,e){return v(n(t,e),_)},this.any_hmac=function(t,e,r){return d(n(t,e),r)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(t){return"boolean"==typeof t&&(x=t),this},this.setPad=function(t){return _=t||_,this},this.setUTF8=function(t){return"boolean"==typeof t&&(b=t),this}},RMD160:function(t){function e(t){return t=y?o(t):t,r(i(f(t),8*t.length))}function n(t,e){t=y?o(t):t,e=y?o(e):e;var n,s,a=f(t),u=Array(16),c=Array(16);for(a.length>16&&(a=i(a,8*t.length)),n=0;16>n;n+=1)u[n]=909522486^a[n],c[n]=1549556828^a[n];return s=i(u.concat(f(e)),512+8*e.length),r(i(c.concat(s),672))}function r(t){var e,n="",r=32*t.length;for(e=0;r>e;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function i(t,e){var n,r,i,o,c,f,p,d,v,g,y,w,E,M,S=1732584193,T=4023233417,A=2562383102,C=271733878,k=3285377520;for(t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e,o=t.length,i=0;o>i;i+=16){for(c=g=S,f=y=T,p=w=A,d=E=C,v=M=k,r=0;79>=r;r+=1)n=a(c,s(r,f,p,d)),n=a(n,t[i+m[r]]),n=a(n,l(r)),n=a(u(n,_[r]),v),c=v,v=d,d=u(p,10),p=f,f=n,n=a(g,s(79-r,y,w,E)),n=a(n,t[i+x[r]]),n=a(n,h(r)),n=a(u(n,b[r]),M),g=M,M=E,E=u(w,10),w=y,y=n;n=a(T,a(p,E)),T=a(A,a(d,M)),A=a(C,a(v,g)),C=a(k,a(c,y)),k=a(S,a(f,w)),S=n}return[S,T,A,C,k]}function s(t,e,n,r){return t>=0&&15>=t?e^n^r:t>=16&&31>=t?e&n|~e&r:t>=32&&47>=t?(e|~n)^r:t>=48&&63>=t?e&r|n&~r:t>=64&&79>=t?e^(n|~r):"rmd160_f: j out of range"}function l(t){return t>=0&&15>=t?0:t>=16&&31>=t?1518500249:t>=32&&47>=t?1859775393:t>=48&&63>=t?2400959708:t>=64&&79>=t?2840853838:"rmd160_K1: j out of range"}function h(t){return t>=0&&15>=t?1352829926:t>=16&&31>=t?1548603684:t>=32&&47>=t?1836072691:t>=48&&63>=t?2053994217:t>=64&&79>=t?0:"rmd160_K2: j out of range"}var p=t&&"boolean"==typeof t.uppercase?t.uppercase:!1,g=t&&"string"==typeof t.pad?t.pda:"=",y=t&&"boolean"==typeof t.utf8?t.utf8:!0,m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],x=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];this.hex=function(t){return c(e(t,y))},this.b64=function(t){return v(e(t,y),g)},this.any=function(t,n){return d(e(t,y),n)},this.raw=function(t){return e(t,y)},this.hex_hmac=function(t,e){return c(n(t,e))},this.b64_hmac=function(t,e){return v(n(t,e),g)},this.any_hmac=function(t,e,r){return d(n(t,e),r)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(t){return"boolean"==typeof t&&(p=t),this},this.setPad=function(t){return"undefined"!=typeof t&&(g=t),this},this.setUTF8=function(t){return"boolean"==typeof t&&(y=t),this}}},function(o,s){var a=!1;a=e,e&&"object"==typeof i&&i&&i===i.global&&(o=i),r=function(){return g}.call(e,n,e,t),!(r!==s&&(t.exports=r))}(this)}()}).call(e,function(){return this}())},function(t,e){t.exports={name:"poincare",version:"0.1.1",description:"A webgl-based graph visualization library. The successor of Ashberry",main:"src/index.js",scripts:{dev:"node ./node_modules/.bin/webpack-dev-server --content-base test --hot --inline --quiet","test:node":"./node_modules/.bin/mocha --require babel-core/register --recursive",build:"NODE_ENV=production node ./node_modules/.bin/webpack --config webpack.config.js --progress",stagebuild:"NODE_ENV=stage node ./node_modules/.bin/webpack --config webpack.config.js --progress",test:"node ./node_modules/.bin/karma start --browsers PhantomJS --single-run true","test:watch":"node ./node_modules/.bin/karma start --browsers PhantomJS","test:chrome":"node ./node_modules/.bin/karma start --browsers Chrome",lint:"node ./node_modules/.bin/eslint --color --ext .js src",nibble:"node ./node_modules/.bin/eslint-nibble src",summary:"node ./node_modules/.bin/eslint --format ./node_modules/eslint-summary/summary.js src"},author:"Nick Ts. <fbd@yawny.ru>",license:"MIT",devDependencies:{autoprefixer:"^6.3.4","babel-cli":"^6.6.0","babel-core":"^6.5.2","babel-eslint":"^6.0.0-beta.6","babel-loader":"^6.2.3","babel-plugin-transform-runtime":"^6.5.2","babel-polyfill":"^6.5.0","babel-preset-es2015":"^6.5.0","babel-preset-stage-0":"^6.5.0","babel-runtime":"^6.5.0",brfs:"^1.4.3",chai:"^3.5.0","css-loader":"^0.23.1",debug:"^2.2.0",eslint:"^2.2.0","eslint-nibble":"^2.0.0","eslint-plugin-html":"^1.4.0","file-loader":"^0.8.5","json-loader":"^0.5.4",karma:"^0.13.21","karma-chrome-launcher":"^0.2.2","karma-mocha":"^0.2.2","karma-phantomjs-launcher":"^1.0.0","karma-sourcemap-loader":"^0.3.7","karma-spec-reporter":"0.0.24","karma-webpack":"^1.7.0",less:"^2.6.1","less-loader":"^2.2.2",mocha:"^2.4.5",most:"^0.19.7","phantomjs-prebuilt":"^2.1.4","postcss-loader":"^0.8.2",sinon:"^2.0.0-pre","style-loader":"^0.13.0","transform-loader":"^0.2.3","url-loader":"^0.5.7",webpack:"^1.12.14","webpack-dev-server":"^1.14.1"},dependencies:{axios:"^0.9.1",d3:"^3.5.16",dagre:"^0.7.4",eventemitter3:"^1.2.0",graphlib:"^2.1.0",jshashes:"^1.0.5",lodash:"^4.5.1","ngraph.forcelayout":"0.0.23","ngraph.generators":"0.0.16","ngraph.graph":"0.0.12","ngraph.physics.simulator":"0.0.12","pixi.js":"^3.0.10",rbush:"^1.4.2","rbush-knn":"^1.1.0","tween.js":"^16.3.4"},repository:{type:"git",url:"git@jungle.labs.grcc.ru:fobdy/poincare.git"}}},function(t,e,n){function r(){}var i=n(100),o=Object.prototype;r.prototype=i?i(null):o,t.exports=r},function(t,e,n){var r=n(48),i=r.Reflect;t.exports=i},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.__data__=new i;++e<n;)this.push(t[e])}var i=n(139),o=n(542);r.prototype.push=o,t.exports=r},function(t,e,n){var r=n(97),i=n(48),o=r(i,"WeakMap");t.exports=o},function(t,e){function n(t,e){return t.set(e[0],e[1]),t}t.exports=n},function(t,e){function n(t,e){return t.add(e),t}t.exports=n},function(t,e,n){function r(t,e){return!!t.length&&i(t,e,0)>-1}var i=n(524);t.exports=r},function(t,e){function n(t,e,n){for(var r=-1,i=t.length;++r<i;)if(n(e,t[r]))return!0;return!1}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){function r(t,e,n,r){return void 0===t||i(t,o[n])&&!s.call(r,n)?e:t}var i=n(72),o=Object.prototype,s=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(142),o=n(74);t.exports=r},function(t,e,n){function r(t,e,n,b,w,E){var M;if(n&&(M=w?n(t,b,w,E):n(t)),void 0!==M)return M;if(!x(t))return t;var A=g(t);if(A){if(M=p(t),!e)return l(t,M)}else{var C=f(t),O=C==S||C==T;if(y(t))return c(t,e);if(C==k||C==_||O&&!w){if(m(t))return w?t:{};if(M=v(O?{}:t),!e)return h(t,a(M,t))}else{if(!G[C])return w?t:{};M=d(t,C,e)}}E||(E=new i);var R=E.get(t);return R?R:(E.set(t,M),(A?o:u)(t,function(i,o){s(M,o,r(i,e,n,o,t,E))}),A?M:h(t,M))}var i=n(95),o=n(231),s=n(234),a=n(517),u=n(241),c=n(544),l=n(248),h=n(550),f=n(251),p=n(568),d=n(569),v=n(570),g=n(20),y=n(594),m=n(98),x=n(26),_="[object Arguments]",b="[object Array]",w="[object Boolean]",E="[object Date]",M="[object Error]",S="[object Function]",T="[object GeneratorFunction]",A="[object Map]",C="[object Number]",k="[object Object]",O="[object RegExp]",R="[object Set]",D="[object String]",P="[object Symbol]",F="[object WeakMap]",N="[object ArrayBuffer]",L="[object Float32Array]",B="[object Float64Array]",I="[object Int8Array]",j="[object Int16Array]",U="[object Int32Array]",z="[object Uint8Array]",W="[object Uint8ClampedArray]",Y="[object Uint16Array]",X="[object Uint32Array]",G={};G[_]=G[b]=G[N]=G[w]=G[E]=G[L]=G[B]=G[I]=G[j]=G[U]=G[A]=G[C]=G[k]=G[O]=G[R]=G[D]=G[P]=G[z]=G[W]=G[Y]=G[X]=!0,G[M]=G[S]=G[F]=!1,t.exports=r},function(t,e,n){function r(t){return i(t)?o(t):{}}var i=n(26),o=Object.create;t.exports=r},function(t,e,n){var r=n(241),i=n(551),o=i(r);t.exports=o},function(t,e){function n(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(void 0===a?s===s:n(s,a)))var a=s,u=o}return u}t.exports=n},function(t,e,n){var r=n(552),i=r();t.exports=i},function(t,e){function n(t,e){return e in Object(t)}t.exports=n},function(t,e,n){function r(t,e,n){if(e!==e)return i(t,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}var i=n(567);t.exports=r},function(t,e,n){function r(t,e,n,r,g,m){var x=c(t),_=c(e),b=d,w=d;x||(b=u(t),b==p?b=v:b!=v&&(x=h(t))),_||(w=u(e),w==p?w=v:w!=v&&(_=h(e)));var E=b==v&&!l(t),M=w==v&&!l(e),S=b==w;if(S&&!x&&!E)return s(t,e,b,n,r,g);var T=g&f;if(!T){var A=E&&y.call(t,"__wrapped__"),C=M&&y.call(e,"__wrapped__");if(A||C)return n(A?t.value():t,C?e.value():e,r,g,m)}return S?(m||(m=new i),(x?o:a)(t,e,n,r,g,m)):!1}var i=n(95),o=n(555),s=n(556),a=n(557),u=n(251),c=n(20),l=n(98),h=n(149),f=2,p="[object Arguments]",d="[object Array]",v="[object Object]",g=Object.prototype,y=g.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,r){var u=n.length,c=u,l=!r;if(null==t)return!c;for(t=Object(t);u--;){var h=n[u];if(l&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++u<c;){h=n[u];var f=h[0],p=t[f],d=h[1];if(l&&h[2]){if(void 0===p&&!(f in t))return!1}else{var v=new i,g=r?r(p,d,f,t,e,v):void 0;if(!(void 0===g?o(d,p,r,s|a,v):g))return!1}}return!0}var i=n(95),o=n(244),s=1,a=2;t.exports=r},function(t,e){function n(t){return r(Object(t))}var r=Object.keys;t.exports=n},function(t,e,n){function r(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}var i=n(507),o=n(572),s=Object.prototype,a=i?i.enumerate:void 0,u=s.propertyIsEnumerable;a&&!u.call({valueOf:1},"valueOf")&&(r=function(t){return o(a(t))}),t.exports=r},function(t,e,n){function r(t,e){var n=-1,r=o(t)?Array(t.length):[];return i(t,function(t,i,o){r[++n]=e(t,i,o)}),r}var i=n(520),o=n(73);t.exports=r},function(t,e,n){function r(t){var e=o(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(void 0!==r||n in Object(t))}}return function(n){return n===t||i(n,t,e)}}var i=n(526),o=n(561);t.exports=r},function(t,e,n){function r(t,e){return function(n){var r=o(n,t);return void 0===r&&r===e?s(n,t):i(e,r,void 0,a|u)}}var i=n(244),o=n(256),s=n(592),a=1,u=2;t.exports=r},function(t,e,n){function r(t,e,n,f,p){if(t!==e){var d=u(e)||l(e)?void 0:h(e);o(d||e,function(o,u){if(d&&(u=o,o=e[u]),c(o))p||(p=new i),a(t,e,u,n,r,f,p);else{var l=f?f(t[u],o,u+"",t,e,p):void 0;void 0===l&&(l=o),s(t,u,l)}})}}var i=n(95),o=n(231),s=n(233),a=n(533),u=n(20),c=n(26),l=n(149),h=n(150);t.exports=r},function(t,e,n){function r(t,e,n,r,v,g,y){var m=t[n],x=e[n],_=y.get(x);if(_)return void i(t,n,_);var b=g?g(m,x,n+"",t,e,y):void 0,w=void 0===b;w&&(b=x,u(x)||p(x)?u(m)?b=m:c(m)?b=s(m):(w=!1,b=o(x,!0)):f(x)||a(x)?a(m)?b=d(m):!h(m)||r&&l(m)?(w=!1,b=o(x,!0)):b=m:w=!1),y.set(x,b),w&&v(b,x,r,g,y),
i(t,n,b)}var i=n(233),o=n(518),s=n(248),a=n(101),u=n(20),c=n(148),l=n(58),h=n(26),f=n(596),p=n(149),d=n(610);t.exports=r},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(242);t.exports=r},function(t,e){function n(t,e,n,o){for(var s=-1,a=i(r((e-t)/(n||1)),0),u=Array(a);a--;)u[o?a:++s]=t,t+=n;return u}var r=Math.ceil,i=Math.max;t.exports=n},function(t,e){function n(t,e,n){var r=-1,i=t.length;0>e&&(e=-e>i?0:i+e),n=n>i?i:n,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t,e){return i(e,function(e){return[e,t[e]]})}var i=n(141);t.exports=r},function(t,e,n){function r(t,e,n){var r=-1,h=o,f=t.length,p=!0,d=[],v=d;if(n)p=!1,h=s;else if(f>=l){var g=e?null:u(t);if(g)return c(g);p=!1,h=a,v=new i}else v=e?[]:d;t:for(;++r<f;){var y=t[r],m=e?e(y):y;if(p&&m===m){for(var x=v.length;x--;)if(v[x]===m)continue t;e&&v.push(m),d.push(y)}else h(v,m,n)||(v!==d&&v.push(m),d.push(y))}return d}var i=n(508),o=n(512),s=n(513),a=n(541),u=n(554),c=n(146),l=200;t.exports=r},function(t,e,n){function r(t,e){return i(e,function(e){return t[e]})}var i=n(141);t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;if(i(e)){var r=n.__data__,s="string"==typeof e?r.string:r.hash;return s[e]===o}return n.has(e)}var i=n(57),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=this.__data__;if(i(t)){var n=e.__data__,r="string"==typeof t?n.string:n.hash;r[t]=o}else e.set(t,o)}var i=n(57),o="__lodash_hash_undefined__";t.exports=r},function(t,e){function n(t){return t&&t.Object===Object?t:null}t.exports=n},function(t,e){function n(t,e){if(e)return t.slice();var n=t.constructor,r=new n(t.length);return t.copy(r),r}t.exports=n},function(t,e,n){function r(t){var e=t.constructor;return o(s(t),i,new e)}var i=n(510),o=n(232),s=n(254);t.exports=r},function(t,e){function n(t){var e=t.constructor,n=new e(t.source,r.exec(t));return n.lastIndex=t.lastIndex,n}var r=/\w*$/;t.exports=n},function(t,e,n){function r(t){var e=t.constructor;return o(s(t),i,new e)}var i=n(511),o=n(232),s=n(146);t.exports=r},function(t,e,n){function r(t){return i?Object(s.call(t)):{}}var i=n(140),o=i?i.prototype:void 0,s=i?o.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e){var n=t.buffer,r=e?i(n):n,o=t.constructor;return new o(r,t.byteOffset,t.length)}var i=n(247);t.exports=r},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(142),o=n(562);t.exports=r},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,s=e?o:-1,a=Object(n);(e?s--:++s<o)&&r(a[s],s,a)!==!1;);return n}}var i=n(73);t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(n(o[u],u,o)===!1)break}return e}}t.exports=n},function(t,e,n){function r(t){return function(e,n,r){return r&&"number"!=typeof r&&o(e,n,r)&&(n=r=void 0),e=s(e),e=e===e?e:0,void 0===n?(n=e,e=0):n=s(n)||0,r=void 0===r?n>e?1:-1:s(r)||0,i(e,n,r,t)}}var i=n(535),o=n(143),s=n(152);t.exports=r},function(t,e,n){var r=n(228),i=n(602),o=r&&2===new r([1,2]).size?function(t){return new r(t)}:i;t.exports=o},function(t,e,n){function r(t,e,n,r,a,u){var c=-1,l=a&s,h=a&o,f=t.length,p=e.length;if(f!=p&&!(l&&p>f))return!1;var d=u.get(t);if(d)return d==e;var v=!0;for(u.set(t,e);++c<f;){var g=t[c],y=e[c];if(r)var m=l?r(y,g,c,e,t,u):r(g,y,c,t,e,u);if(void 0!==m){if(m)continue;v=!1;break}if(h){if(!i(e,function(t){return g===t||n(g,t,r,a,u)})){v=!1;break}}else if(g!==y&&!n(g,y,r,a,u)){v=!1;break}}return u["delete"](t),v}var i=n(515),o=1,s=2;t.exports=r},function(t,e,n){function r(t,e,n,r,_,w){switch(n){case x:return!(t.byteLength!=e.byteLength||!r(new o(t),new o(e)));case l:case h:return+t==+e;case f:return t.name==e.name&&t.message==e.message;case d:return t!=+t?e!=+e:t==+e;case v:case y:return t==e+"";case p:var E=s;case g:var M=w&c;return E||(E=a),(M||t.size==e.size)&&r(E(t),E(e),_,w|u);case m:return!!i&&b.call(t)==b.call(e)}return!1}var i=n(140),o=n(229),s=n(254),a=n(146),u=1,c=2,l="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Map]",d="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",m="[object Symbol]",x="[object ArrayBuffer]",_=i?i.prototype:void 0,b=i?_.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e,n,r,a,u){var c=a&s,l=o(t),h=l.length,f=o(e),p=f.length;if(h!=p&&!c)return!1;for(var d=h;d--;){var v=l[d];if(!(c?v in e:i(e,v)))return!1}var g=u.get(t);if(g)return g==e;var y=!0;u.set(t,e);for(var m=c;++d<h;){v=l[d];var x=t[v],_=e[v];if(r)var b=c?r(_,x,v,e,t,u):r(x,_,v,t,e,u);if(!(void 0===b?x===_||n(x,_,r,a,u):b)){y=!1;break}m||(m="constructor"==v)}if(y&&!m){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(y=!1)}return u["delete"](t),y}var i=n(243),o=n(74),s=2;t.exports=r},function(t,e){function n(t){return r[t]}var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};t.exports=n},function(t,e){function n(t){return"\\"+r[t]}var r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};t.exports=n},function(t,e,n){var r=n(246),i=r("length");t.exports=i},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;)e[n][2]=i(e[n][1]);return e}var i=n(571),o=n(609);t.exports=r},function(t,e){var n=Object.getOwnPropertySymbols,r=n||function(){return[]};t.exports=r},function(t,e,n){function r(t,e,n){if(null==t)return!1;var r=n(t,e);r||u(e)||(e=i(e),t=f(t,e),null!=t&&(e=h(e),r=n(t,e)));var p=t?t.length:void 0;return r||!!p&&c(p)&&a(e,p)&&(s(t)||l(t)||o(t))}var i=n(239),o=n(101),s=n(20),a=n(99),u=n(144),c=n(102),l=n(258),h=n(598),f=n(578);t.exports=r},function(t,e,n){function r(t,e){return i(t,e)&&delete t[e]}var i=n(252);t.exports=r},function(t,e,n){function r(t,e){if(i){var n=t[e];return n===o?void 0:n}return a.call(t,e)?t[e]:void 0}var i=n(100),o="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){t[e]=i&&void 0===n?o:n}var i=n(100),o="__lodash_hash_undefined__";t.exports=r},function(t,e){function n(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}t.exports=n},function(t,e){function n(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,i=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n){var r=t.constructor;switch(e){case m:return i(t);case l:case h:return new r(+t);case x:case _:case b:case w:case E:case M:case S:case T:case A:return c(t,n);case f:return o(t);case p:case g:return new r(t);case d:return s(t);case v:return a(t);case y:return u(t)}}var i=n(247),o=n(545),s=n(546),a=n(547),u=n(548),c=n(549),l="[object Boolean]",h="[object Date]",f="[object Map]",p="[object Number]",d="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",m="[object ArrayBuffer]",x="[object Float32Array]",_="[object Float64Array]",b="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",M="[object Uint8Array]",S="[object Uint8ClampedArray]",T="[object Uint16Array]",A="[object Uint32Array]";t.exports=r},function(t,e,n){function r(t){return o(t.constructor)&&!s(t)?i(a(t)):{}}var i=n(519),o=n(58),s=n(145),a=Object.getPrototypeOf;t.exports=r},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(26);t.exports=r},function(t,e){function n(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}t.exports=n},function(t,e,n){function r(){this.__data__={hash:new i,map:o?new o:[],string:new i}}var i=n(506),o=n(56);t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return a(t)?s("string"==typeof t?e.string:e.hash,t):i?e.map["delete"](t):o(e.map,t)}var i=n(56),o=n(235),s=n(564),a=n(57);t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return a(t)?s("string"==typeof t?e.string:e.hash,t):i?e.map.get(t):o(e.map,t)}var i=n(56),o=n(236),s=n(565),a=n(57);t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return a(t)?s("string"==typeof t?e.string:e.hash,t):i?e.map.has(t):o(e.map,t)}var i=n(56),o=n(237),s=n(252),a=n(57);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return a(t)?s("string"==typeof t?n.string:n.hash,t,e):i?n.map.set(t,e):o(n.map,t,e),this}var i=n(56),o=n(238),s=n(566),a=n(57);t.exports=r},function(t,e,n){function r(t,e){return 1==e.length?t:o(t,i(e,0,-1))}var i=n(536),o=n(256);t.exports=r},function(t,e){var n=/<%-([\s\S]+?)%>/g;t.exports=n},function(t,e){var n=/<%([\s\S]+?)%>/g;t.exports=n},function(t,e){function n(){this.__data__={array:[],map:null}}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=e.array;return n?i(n,t):e.map["delete"](t)}var i=n(235);t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=e.array;return n?i(n,t):e.map.get(t)}var i=n(236);t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=e.array;return n?i(n,t):e.map.has(t)}var i=n(237);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=n.array;r&&(r.length<s-1?o(r,t,e):(n.array=null,n.map=new i(r)));var a=n.map;return a&&a.set(t,e),this}var i=n(139),o=n(238),s=200;t.exports=r},function(t,e,n){function r(t){var e=[];return i(t).replace(o,function(t,n,r,i){e.push(r?i.replace(s,"$1"):n||t)}),e}var i=n(153),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;t.exports=r},function(t,e,n){var r=n(249),i=n(250),o=n(150),s=i(function(t,e,n,i){r(e,o(e),t,i)});t.exports=s},function(t,e,n){var r=n(230),i=n(257),o=n(151),s=o(function(t,e){try{return r(t,void 0,e)}catch(n){return i(n)?n:new Error(n)}});t.exports=s},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){function r(t){return t=o(t),t&&a.test(t)?t.replace(s,i):t}var i=n(558),o=n(153),s=/[&<>"'`]/g,a=RegExp(s.source);t.exports=r},function(t,e,n){function r(t,e){return i(o(t,e),1)}var i=n(240),o=n(259);t.exports=r},function(t,e,n){function r(t,e){return o(t,e,i)}var i=n(523),o=n(563);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){(function(t){var r=n(589),i=n(48),o={"function":!0,object:!0},s=o[typeof e]&&e&&!e.nodeType?e:void 0,a=o[typeof t]&&t&&!t.nodeType?t:void 0,u=a&&a.exports===s?s:void 0,c=u?i.Buffer:void 0,l=c?function(t){return t instanceof c}:r(!1);t.exports=l}).call(e,n(117)(t))},function(t,e,n){function r(t){return null==t?!1:i(t)?f.test(l.call(t)):s(t)&&(o(t)?f:u).test(t)}var i=n(58),o=n(98),s=n(45),a=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Object.prototype,l=Function.prototype.toString,h=c.hasOwnProperty,f=RegExp("^"+l.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){if(!o(t)||l.call(t)!=s||i(t))return!1;var e=h(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}var i=n(98),o=n(45),s="[object Object]",a=Object.prototype,u=Function.prototype.toString,c=u.call(Object),l=a.toString,h=Object.getPrototypeOf;t.exports=r},function(t,e,n){function r(t){return"symbol"==typeof t||i(t)&&a.call(t)==o}var i=n(45),o="[object Symbol]",s=Object.prototype,a=s.toString;t.exports=r},function(t,e){function n(t){var e=t?t.length:0;return e?t[e-1]:void 0}t.exports=n},function(t,e){function n(t,e){return e>t}t.exports=n},function(t,e,n){function r(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new r.Cache,n}var i=n(139),o="Expected a function";r.Cache=i,t.exports=r},function(t,e,n){function r(t,e){return t&&t.length?i(t,o(e),s):void 0}var i=n(521),o=n(245),s=n(599);t.exports=r},function(t,e){function n(){}t.exports=n},function(t,e){var n=Date.now;t.exports=n},function(t,e,n){function r(t){return s(t)?i(t):o(t)}var i=n(246),o=n(534),s=n(144);t.exports=r},function(t,e,n){var r=n(553),i=r();t.exports=i},function(t,e,n){function r(t,e,n){var r=p.imports._.templateSettings||p;n&&l(t,e,n)&&(e=void 0),t=d(t),e=o({},e,r,i);var b,w,E=o({},e.imports,r.imports,i),M=h(E),S=a(E,M),T=0,A=e.interpolate||x,C="__p += '",k=RegExp((e.escape||x).source+"|"+A.source+"|"+(A===f?m:x).source+"|"+(e.evaluate||x).source+"|$","g"),O="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";t.replace(k,function(e,n,r,i,o,s){return r||(r=i),C+=t.slice(T,s).replace(_,u),n&&(b=!0,C+="' +\n__e("+n+") +\n'"),o&&(w=!0,C+="';\n"+o+";\n__p += '"),r&&(C+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),T=s+e.length,e}),C+="';\n";var R=e.variable;R||(C="with (obj) {\n"+C+"\n}\n"),C=(w?C.replace(v,""):C).replace(g,"$1").replace(y,"$1;"),C="function("+(R||"obj")+") {\n"+(R?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(b?", __e = _.escape":"")+(w?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+C+"return __p\n}";var D=s(function(){return Function(M,O+"return "+C).apply(void 0,S)});if(D.source=C,c(D))throw D;return D}var i=n(516),o=n(587),s=n(588),a=n(540),u=n(559),c=n(257),l=n(143),h=n(74),f=n(255),p=n(607),d=n(153),v=/\b__p \+= '';/g,g=/\b(__p \+=) '' \+/g,y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,m=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,x=/($^)/,_=/['\n\r\u2028\u2029\\]/g;t.exports=r},function(t,e,n){var r=n(590),i=n(579),o=n(580),s=n(255),a={escape:i,evaluate:o,interpolate:s,variable:"",imports:{_:{escape:r}}};t.exports=a},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if(t=i(t),t===o||t===-o){var e=0>t?-1:1;return e*s}var n=t%1;return t===t?n?t-n:t:0}var i=n(152),o=1/0,s=1.7976931348623157e308;t.exports=r},function(t,e,n){function r(t){return i(t,o(t))}var i=n(538),o=n(74);t.exports=r},function(t,e,n){function r(t){return i(t,o(t))}var i=n(142),o=n(150);t.exports=r},function(t,e,n){var r=n(240),i=n(539),o=n(151),s=o(function(t){return i(r(t,1,!0))});t.exports=s},function(t,e){function n(){this.head=null,this.length=0}/** @license MIT License (c) copyright 2010-2016 original author or authors */
t.exports=n,n.prototype.add=function(t){null!==this.head&&(this.head.prev=t,t.next=this.head),this.head=t,++this.length},n.prototype.remove=function(t){--this.length,t===this.head&&(this.head=this.head.next),null!==t.next&&(t.next.prev=t.prev,t.next=null),null!==t.prev&&(t.prev.next=t.next,t.prev=null)},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.dispose=function(){if(this.isEmpty())return Promise.resolve();var t=[],e=this.head;for(this.head=null,this.length=0;null!==e;)t.push(e.dispose()),e=e.next;return Promise.all(t)}},function(t,e){function n(t){this._capacity=t||32,this._length=0,this._head=0}function r(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}/** @license MIT License (c) copyright 2010-2016 original author or authors */
t.exports=n,n.prototype.push=function(t){var e=this._length;this._checkCapacity(e+1);var n=this._head+e&this._capacity-1;this[n]=t,this._length=e+1},n.prototype.shift=function(){var t=this._head,e=this[t];return this[t]=void 0,this._head=t+1&this._capacity-1,this._length--,e},n.prototype.isEmpty=function(){return 0===this._length},n.prototype.length=function(){return this._length},n.prototype._checkCapacity=function(t){this._capacity<t&&this._ensureCapacity(this._capacity<<1)},n.prototype._ensureCapacity=function(t){var e=this._capacity;this._capacity=t;var n=this._head+this._length;n>e&&r(this,0,this,e,n&e-1)}},function(t,e,n){function r(t,e,n){return new c(new i(t,e,n.source))}function i(t,e,n){this.source=n,this.f=t,this.value=e}function o(t,e,n){this.f=t,this.value=e,this.sink=n}function s(t,e,n){return h(new a(t,e,n.source))}function a(t,e,n){this.source=n,this.f=t,this.value=e}function u(t,e,n){this.f=t,this.value=e,this.sink=n}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var c=n(4),l=n(11),h=n(268).withDefaultScheduler,f=n(7),p=n(46);e.scan=r,e.reduce=s,i.prototype.run=function(t,e){var n=e.asap(p.event(this.value,t)),r=this.source.run(new o(this.f,this.value,t),e);return f.all([n,r])},o.prototype.event=function(t,e){var n=this.f;this.value=n(this.value,e),this.sink.event(t,this.value)},o.prototype.error=l.prototype.error,o.prototype.end=l.prototype.end,a.prototype.run=function(t,e){return this.source.run(new u(this.f,this.value,t),e)},u.prototype.event=function(t,e){var n=this.f;this.value=n(this.value,e),this.sink.event(t,this.value)},u.prototype.error=l.prototype.error,u.prototype.end=function(t){this.sink.end(t,this.value)}},function(t,e,n){function r(t,e){return i(o,t,e)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var i=n(262).combine,o=n(18).apply;e.ap=r},function(t,e,n){function r(t,e){return i(s(t),e)}function i(t,e){return a(function(){return e},t)}function o(t){return a(function(){return o(t)},t)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var s=n(49).of,a=n(263).continueWith;e.concat=i,e.cycle=o,e.cons=r},function(t,e,n){function r(t,e){return i(t,1,e)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var i=n(103).mergeMapConcurrently;e.concatMap=r},function(t,e,n){function r(t,e){return 0>=t?e:new s(new i(t,e.source))}function i(t,e){this.dt=t,this.source=e}function o(t,e,n){this.dt=t,this.sink=e,this.scheduler=n}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var s=n(4),a=n(11),u=n(7),c=n(46);e.delay=r,i.prototype.run=function(t,e){var n=new o(this.dt,t,e);return u.all([n,this.source.run(n,e)])},o.prototype.dispose=function(){var t=this;this.scheduler.cancelAll(function(e){return e.sink===t.sink})},o.prototype.event=function(t,e){this.scheduler.delay(this.dt,c.event(e,this.sink))},o.prototype.end=function(t,e){this.scheduler.delay(this.dt,c.end(e,this.sink))},o.prototype.error=a.prototype.error},function(t,e,n){function r(t,e){return new c(new a(t,e.source))}function i(t){return new c(new o(t))}function o(t){this.value=t}function s(t,e,n){n.error(t,e)}function a(t,e){this.f=t,this.source=e}function u(t,e,n,r){this.f=t,this.sink=new l(n),this.scheduler=r,this.disposable=e.run(this,r)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var c=n(4),l=n(643),h=(n(11),n(7)),f=n(105),p=(n(154).isPromise,n(46));e.flatMapError=r,e.recoverWith=r,e.throwError=i,o.prototype.run=function(t,e){return e.asap(new p(s,this.value,t))},a.prototype.run=function(t,e){return new u(this.f,this.source,t,e)},u.prototype.event=function(t,e){f.tryEvent(t,e,this.sink)},u.prototype.end=function(t,e){f.tryEnd(t,e,this.sink)},u.prototype.error=function(t,e){var n=this.sink.disable();h.tryDispose(t,this.disposable,this.sink),this._startNext(t,e,n)},u.prototype._startNext=function(t,e,n){try{this.disposable=this._continue(this.f,e,n)}catch(r){n.error(t,r)}},u.prototype._continue=function(t,e,n){var r=t(e);return r.source.run(n,this.scheduler)},u.prototype.dispose=function(){return this.disposable.dispose()}},function(t,e,n){function r(t,e){return new c(h.create(t,e.source))}function i(t){return o(u,t)}function o(t,e){return new c(new s(t,e.source))}function s(t,e){this.equals=t,this.source=e}function a(t,e){this.equals=t,this.sink=e,this.value=void 0,this.init=!0}function u(t,e){return t===e}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var c=n(4),l=n(11),h=n(266);e.filter=r,e.skipRepeats=i,e.skipRepeatsWith=o,s.prototype.run=function(t,e){return this.source.run(new a(this.equals,t),e)},a.prototype.end=l.prototype.end,a.prototype.error=l.prototype.error,a.prototype.event=function(t,e){this.init?(this.init=!1,this.value=e,this.sink.event(t,e)):this.equals(this.value,e)||(this.value=e,this.sink.event(t,e))}},function(t,e,n){function r(t,e){return new f(i(t,e.source))}function i(t,e){return e instanceof g?o(t,e):e instanceof a?s(t,e):new a(t,e)}function o(t,e){return g.create(e.f,i(t,e.source))}function s(t,e){return new a(Math.max(t,e.period),e.source)}function a(t,e){this.period=t,this.source=e}function u(t,e){this.time=0,this.period=t,this.sink=e}function c(t,e){return new f(new l(t,e.source))}function l(t,e){this.dt=t,this.source=e}function h(t,e,n,r){this.dt=t,this.sink=n,this.scheduler=r,this.value=void 0,this.timer=null;var i=e.run(this,r);this.disposable=d.all([this,i])}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var f=n(4),p=n(11),d=n(7),v=n(46),g=n(156);e.throttle=r,e.debounce=c,a.prototype.run=function(t,e){return this.source.run(new u(this.period,t),e)},u.prototype.event=function(t,e){t>=this.time&&(this.time=t+this.period,this.sink.event(t,e))},u.prototype.end=p.prototype.end,u.prototype.error=p.prototype.error,l.prototype.run=function(t,e){return new h(this.dt,this.source,t,e)},h.prototype.event=function(t,e){this._clearTimer(),this.value=e,this.timer=this.scheduler.delay(this.dt,v.event(e,this.sink))},h.prototype.end=function(t,e){this._clearTimer()&&(this.sink.event(t,this.value),this.value=void 0),this.sink.end(t,e)},h.prototype.error=function(t,e){this._clearTimer(),this.sink.error(t,e)},h.prototype.dispose=function(){this._clearTimer()},h.prototype._clearTimer=function(){return null===this.timer?!1:(this.timer.dispose(),this.timer=null,!0)}},function(t,e,n){function r(t,e,n){return new s(new i(t,e,n.source))}function i(t,e,n){this.step=t,this.seed=e,this.source=n}function o(t,e,n){this.step=t,this.seed=e,this.sink=n}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var s=n(4),a=n(11);e.loop=r,i.prototype.run=function(t,e){return this.source.run(new o(this.step,this.seed,t),e)},o.prototype.error=a.prototype.error,o.prototype.event=function(t,e){var n=this.step(this.seed,e);this.seed=n.seed,this.sink.event(t,n.value)},o.prototype.end=function(t){this.sink.end(t,this.seed)}},function(t,e,n){function r(){return i(v(arguments))}function i(t){var e=t.length;return 0===e?f():1===e?t[0]:new c(o(t))}function o(t){return new a(g(s,[],t))}function s(t,e){var n=e.source;return n instanceof a?t.concat(n.sources):t.concat(n)}function a(t){this.sources=t}function u(t,e,n){this.sink=n,this.disposables=t,this.activeCount=e.length}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var c=n(4),l=n(11),h=n(159),f=n(49).empty,p=n(7),d=n(18),v=d.copy,g=d.reduce;e.merge=r,e.mergeArray=i,a.prototype.run=function(t,e){for(var n,r=this.sources.length,i=new Array(r),o=new Array(r),s=new u(i,o,t),a=0;r>a;++a)n=o[a]=new h(a,s),i[a]=this.sources[a].run(n,e);return p.all(i)},u.prototype.error=l.prototype.error,u.prototype.event=function(t,e){this.sink.event(t,e.value)},u.prototype.end=function(t,e){p.tryDispose(t,this.disposables[e.index],this.sink),0===--this.activeCount&&this.sink.end(t,e.value)}},function(t,e,n){function r(t,e){return i(s(t,e))}function i(t){return o(t.source)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var o=n(268).withDefaultScheduler,s=n(104).tap;e.observe=r,e.drain=i;n(158),n(7)},function(t,e,n){function r(t){return i(c(t))}function i(t){return new a(new o(t.source))}function o(t){this.source=t}function s(t,e){this.sink=t,this.scheduler=e,this.queue=Promise.resolve();var n=this;this._eventBound=function(t){n.sink.event(n.scheduler.now(),t)},this._endBound=function(t){n.sink.end(n.scheduler.now(),t)},this._errorBound=function(t){n.sink.error(n.scheduler.now(),t)}}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var a=n(4),u=n(155),c=n(49).of;e.fromPromise=r,e.awaitPromises=i,o.prototype.run=function(t,e){return this.source.run(new s(t,e),e)},s.prototype.event=function(t,e){var n=this;this.queue=this.queue.then(function(){return n._event(e)})["catch"](this._errorBound)},s.prototype.end=function(t,e){var n=this;this.queue=this.queue.then(function(){return n._end(e)})["catch"](this._errorBound)},s.prototype.error=function(t,e){var n=this;this.queue=this.queue.then(function(){return n._errorBound(e)})["catch"](u)},s.prototype._event=function(t){return t.then(this._eventBound)},s.prototype._end=function(t){return Promise.resolve(t).then(this._endBound)}},function(t,e,n){function r(t,e){return o(t,e,v.drop(2,arguments))}function i(t,e){return new f(new a(v.id,t.source,[e.source]))}function o(t,e,n){return new f(new a(t,e.source,v.map(s,n)))}function s(t){return t.source}function a(t,e,n){this.f=t,this.sampler=e,this.sources=n}function u(t){this.sink=t,this.hasValue=!1}function c(t,e,n){this.f=t,this.sinks=e,this.sink=n,this.active=!1}function l(t){return t.hasValue}function h(t){return t.value}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var f=n(4),p=n(11),d=n(7),v=n(18),g=n(157);e.sample=r,e.sampleWith=i,e.sampleArray=o,a.prototype.run=function(t,e){for(var n,r=this.sources.length,i=new Array(r+1),o=new Array(r),s=new c(this.f,o,t),a=0;r>a;++a)n=o[a]=new u(s),i[a]=this.sources[a].run(n,e);return i[a]=this.sampler.run(s,e),d.all(i)},u.prototype.event=function(t,e){this.value=e,this.hasValue=!0,this.sink._notify(this)},u.prototype.end=function(){},u.prototype.error=p.prototype.error,c.prototype._notify=function(){this.active||(this.active=this.sinks.every(l))},c.prototype.event=function(t){this.active&&this.sink.event(t,g(this.f,v.map(h,this.sinks)))},c.prototype.end=p.prototype.end,c.prototype.error=p.prototype.error},function(t,e,n){function r(t,e){return o(0,t,e)}function i(t,e){return o(t,1/0,e)}function o(t,e,n){return t>=e?x.empty():new y(s(t,e,n.source))}function s(t,e,n){return n instanceof b?a(t,e,n):n instanceof c?u(t,e,n):new c(t,e,n)}function a(t,e,n){return b.create(n.f,s(t,e,n.source))}function u(t,e,n){return t+=n.min,e=Math.min(e+n.min,n.max),new c(t,e,n.source)}function c(t,e,n){this.source=n,this.min=t,this.max=e}function l(t,e,n,r,i){this.sink=r,this.skip=t,this.take=e,this.disposable=_.once(n.run(this,i))}function h(t,e){return new y(new f(t,e.source))}function f(t,e){this.p=t,this.source=e}function p(t,e,n,r){this.p=t,this.sink=n,this.active=!0,this.disposable=_.once(e.run(this,r))}function d(t,e){return new y(new v(t,e.source))}function v(t,e){this.p=t,this.source=e}function g(t,e){this.p=t,this.sink=e,this.skipping=!0}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var y=n(4),m=n(11),x=n(49),_=n(7),b=n(156);e.take=r,e.skip=i,e.slice=o,e.takeWhile=h,e.skipWhile=d,c.prototype.run=function(t,e){return new l(this.min,this.max-this.min,this.source,t,e)},l.prototype.end=m.prototype.end,l.prototype.error=m.prototype.error,l.prototype.event=function(t,e){return this.skip>0?void(this.skip-=1):void(0!==this.take&&(this.take-=1,this.sink.event(t,e),0===this.take&&(this.dispose(),this.sink.end(t,e))))},l.prototype.dispose=function(){return this.disposable.dispose()},f.prototype.run=function(t,e){return new p(this.p,this.source,t,e)},p.prototype.end=m.prototype.end,p.prototype.error=m.prototype.error,p.prototype.event=function(t,e){if(this.active){var n=this.p;this.active=n(e),this.active?this.sink.event(t,e):(this.dispose(),this.sink.end(t,e))}},p.prototype.dispose=function(){return this.disposable.dispose()},v.prototype.run=function(t,e){return this.source.run(new g(this.p,t),e)},g.prototype.end=m.prototype.end,g.prototype.error=m.prototype.error,g.prototype.event=function(t,e){if(this.skipping){var n=this.p;if(this.skipping=n(e),this.skipping)return}this.sink.event(t,e)}},function(t,e,n){function r(t){return new a(new i(t.source))}function i(t){this.source=t}function o(t,e){this.sink=t,this.scheduler=e,this.current=null,this.ended=!1}function s(t,e,n,r){this.min=t,this.max=e,this.outer=n,this.sink=r,this.disposable=u.empty()}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var a=n(4),u=n(7);e["switch"]=r,i.prototype.run=function(t,e){var n=new o(t,e);return u.all(n,this.source.run(n,e))},o.prototype.event=function(t,e){this._disposeCurrent(t),this.current=new s(t,1/0,this,this.sink),this.current.disposable=e.source.run(this.current,this.scheduler)},o.prototype.end=function(t,e){this.ended=!0,this._checkEnd(t,e)},o.prototype.error=function(t,e){this.ended=!0,this.sink.error(t,e)},o.prototype.dispose=function(){return this._disposeCurrent(0)},o.prototype._disposeCurrent=function(t){return null!==this.current?this.current._dispose(t):void 0},o.prototype._disposeInner=function(t,e){e._dispose(t),e===this.current&&(this.current=null)},o.prototype._checkEnd=function(t,e){this.ended&&null===this.current&&this.sink.end(t,e)},o.prototype._endInner=function(t,e,n){this._disposeInner(t,n),this._checkEnd(t,e)},o.prototype._errorInner=function(t,e,n){this._disposeInner(t,n),this.sink.error(t,e)},s.prototype.event=function(t,e){t<this.max&&this.sink.event(Math.max(t,this.min),e)},s.prototype.end=function(t,e){this.outer._endInner(Math.max(t,this.min),e,this)},s.prototype.error=function(t,e){this.outer._errorInner(Math.max(t,this.min),e,this)},s.prototype._dispose=function(t){this.max=t,u.tryDispose(t,this.disposable,this.sink)}},function(t,e){/** @license MIT License (c) copyright 2010-2016 original author or authors */
e.thru=function(t,e){return t(e)}},function(t,e,n){function r(t,e){return new p(new s(t.source,e.source))}function i(t,e){return new p(new a(t.source,e.source))}function o(t,e){return r(g(t),i(t,e))}function s(t,e){this.maxSignal=t,this.source=e}function a(t,e){this.minSignal=t,this.source=e}function u(t,e){this.value=t,this.sink=e}function c(t,e,n){this.min=t,this.max=e,this.sink=n}function l(t,e,n){this.value=1/0,this.sink=e,this.disposable=t.run(this,n)}function h(t,e,n){this.value=1/0,this.sink=e,this.disposable=t.run(this,n)}function f(){}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var p=n(4),d=n(11),v=n(7),g=n(264).join;e.during=o,e.takeUntil=r,e.skipUntil=i,s.prototype.run=function(t,e){var n=new u(-(1/0),t),r=new h(this.maxSignal,t,e),i=this.source.run(new c(n,r,t),e);return v.all([n,r,i])},a.prototype.run=function(t,e){var n=new l(this.minSignal,t,e),r=new u(1/0,t),i=this.source.run(new c(n,r,t),e);return v.all([n,r,i])},u.prototype.error=d.prototype.error,u.prototype.event=f,u.prototype.end=f,u.prototype.dispose=f,c.prototype.event=function(t,e){t>=this.min.value&&t<this.max.value&&this.sink.event(t,e)},c.prototype.error=d.prototype.error,c.prototype.end=d.prototype.end,l.prototype.event=function(t){t<this.value&&(this.value=t)},l.prototype.end=f,l.prototype.error=d.prototype.error,l.prototype.dispose=function(){return this.disposable.dispose()},h.prototype.event=function(t,e){t<this.value&&(this.value=t,this.sink.end(t,e))},h.prototype.end=f,h.prototype.error=d.prototype.error,h.prototype.dispose=function(){return this.disposable.dispose()}},function(t,e,n){function r(t){return new s(new i(t.source))}function i(t){this.source=t}function o(t){this.sink=t}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var s=n(4),a=n(11);e.timestamp=r,i.prototype.run=function(t,e){return this.source.run(new o(t),e)},o.prototype.end=a.prototype.end,o.prototype.error=a.prototype.error,o.prototype.event=function(t,e){this.sink.event(t,{time:t,value:e})}},function(t,e,n){function r(t,e){return new l(new i(t,e.source))}function i(t,e){this.transducer=t,this.source=e}function o(t,e){this.xf=t,this.sink=e}function s(t){this.time=-(1/0),this.sink=t}function a(t){return"function"==typeof t["@@transducer/step"]?new u(t):new c(t)}function u(t){this.tx=t}function c(t){this.tx=t}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var l=n(4);e.transduce=r,i.prototype.run=function(t,e){var n=this.transducer(new s(t));return this.source.run(new o(a(n),t),e)},o.prototype.event=function(t,e){var n=this.xf.step(t,e);return this.xf.isReduced(n)?this.sink.end(t,this.xf.getResult(n)):n},o.prototype.end=function(t,e){return this.xf.result(e)},o.prototype.error=function(t,e){return this.sink.error(t,e)},s.prototype["@@transducer/init"]=s.prototype.init=function(){},s.prototype["@@transducer/step"]=s.prototype.step=function(t,e){return isNaN(t)||(this.time=Math.max(t,this.time)),this.sink.event(this.time,e)},s.prototype["@@transducer/result"]=s.prototype.result=function(t){return this.sink.end(this.time,t)},u.prototype.step=function(t,e){return this.tx["@@transducer/step"](t,e)},u.prototype.result=function(t){return this.tx["@@transducer/result"](t)},u.prototype.isReduced=function(t){return null!=t&&t["@@transducer/reduced"]},u.prototype.getResult=function(t){return t["@@transducer/value"]},c.prototype.step=function(t,e){return this.tx.step(t,e)},c.prototype.result=function(t){return this.tx.result(t)},c.prototype.isReduced=function(t){return null!=t&&t.__transducers_reduced__},c.prototype.getResult=function(t){return t.value}},function(t,e,n){function r(t){return i(t,w(arguments))}function i(t,e){return 0===e.length?d.empty():1===e.length?p.map(t,e[0]):new f(new s(t,b(o,e)))}function o(t){return t.source}function s(t,e){this.f=t,this.sources=e}function a(t,e,n,r){this.f=t,this.sinks=n,this.sink=r,this.buffers=e}function u(t,e,n,r){r.event(e,x(t,b(c,n)))}function c(t){return t.shift()}function l(t,e){for(var n=0,r=t.length;r>n;++n)if(t[n].isEmpty()&&!e[n].active)return!0;return!1}function h(t){for(var e=0,n=t.length;n>e;++e)if(t[e].isEmpty())return!1;return!0}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var f=n(4),p=n(104),d=n(49),v=n(11),g=n(159),y=n(7),m=n(18),x=n(157),_=n(613),b=m.map,w=m.tail;e.zip=r,e.zipArray=i,s.prototype.run=function(t,e){for(var n,r=this.sources.length,i=new Array(r),o=new Array(r),s=new Array(r),u=new a(this.f,s,o,t),c=0;r>c;++c)s[c]=new _,n=o[c]=new g(c,u),i[c]=this.sources[c].run(n,e);return y.all(i)},a.prototype.event=function(t,e){var n=this.buffers,r=n[e.index];if(r.push(e.value),1===r.length()){if(!h(this.buffers))return;u(this.f,t,n,this.sink),l(this.buffers,this.sinks)&&this.sink.end(t,void 0)}},a.prototype.end=function(t,e){var n=this.buffers[e.index];n.isEmpty()&&this.sink.end(t,e.value)},a.prototype.error=v.prototype.error},function(t,e){function n(t,e){this._dispose=t,this._data=e}/** @license MIT License (c) copyright 2010-2016 original author or authors */
t.exports=n,n.prototype.dispose=function(){return this._dispose(this._data)}},function(t,e){function n(){this.disposable=void 0,this.disposed=!1,this._resolve=void 0;var t=this;this.result=new Promise(function(e){t._resolve=e})}/** @license MIT License (c) copyright 2010-2016 original author or authors */
t.exports=n,n.prototype.setDisposable=function(t){if(void 0!==this.disposable)throw new Error("setDisposable called more than once");this.disposable=t,this.disposed&&this._resolve(t.dispose())},n.prototype.dispose=function(){return this.disposed?this.result:(this.disposed=!0,void 0!==this.disposable&&(this.result=this.disposable.dispose()),this.result)}},function(t,e,n){function r(t,e,n){this.p=t,this.f=e,this.source=n}function i(t,e,n){this.p=t,this.f=e,this.sink=n}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var o=n(11);t.exports=r,r.prototype.run=function(t,e){return this.source.run(new i(this.p,this.f,t),e)},i.prototype.event=function(t,e){var n=this.f,r=this.p;r(e)&&this.sink.event(t,n(e))},i.prototype.end=o.prototype.end,i.prototype.error=o.prototype.error},function(t,e,n){function r(t){return new a(new i(t))}function i(t){this.observable=t}function o(t,e){this.sink=t,this.scheduler=e}function s(t){return t.unsubscribe()}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var a=n(4),u=n(7);e.fromObservable=r,e.ObservableSource=i,e.SubscriberSink=o,i.prototype.run=function(t,e){var n=this.observable.subscribe(new o(t,e));if("function"==typeof n)return u.create(n);if(n&&"function"==typeof n.unsubscribe)return u.create(s,n);throw new TypeError("Observable returned invalid subscription "+String(n))},o.prototype.next=function(t){this.sink.event(this.scheduler.now(),t)},o.prototype.complete=function(t){this.sink.end(this.scheduler.now(),t)},o.prototype.error=function(t){this.sink.error(this.scheduler.now(),t)}},function(t,e,n){function r(t){var e=null;if(null!=t&&"object"==typeof t){var n=t[i];if("function"==typeof n&&(e=n.call(t),null==e||"object"!=typeof e))throw new TypeError("invalid observable "+e)}return e}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var i=n(276);t.exports=r},function(t,e,n){function r(t,e){if(null==t||"object"!=typeof t)throw new TypeError("subscriber must be an object");var n=u.settable(),r=new i(c,t,n);return n.setDisposable(e.source.run(r,a)),new o(n)}function i(t,e,n){this.fatalError=t,this.subscriber=e,this.disposable=n}function o(t){this.disposable=t}function s(t,e,n,r,i,o){Promise.resolve(i.dispose()).then(function(){"function"==typeof n&&n.call(e,o)})["catch"](function(t){"function"==typeof r&&r.call(e,t)})["catch"](t)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var a=n(158),u=n(7),c=n(155);e.subscribe=r,e.SubscribeObserver=i,e.Subscription=o,i.prototype.event=function(t,e){"function"==typeof this.subscriber.next&&this.subscriber.next(e)},i.prototype.end=function(t,e){var n=this.subscriber;s(this.fatalError,n,n.complete,n.error,this.disposable,e)},i.prototype.error=function(t,e){var n=this.subscriber;s(this.fatalError,n,n.error,n.error,this.disposable,e)},o.prototype.unsubscribe=function(){this.disposable.dispose()}},function(t,e,n){function r(t,e,n,r){this.time=t,this.period=e,this.task=n,this.scheduler=r,this.active=!0}function i(t){try{return t.run()}catch(e){return t.error(e)}}function o(t){this.timer=t,this._timer=null,this._nextArrival=0,this._tasks=[];var e=this;this._runReadyTasksBound=function(){e._runReadyTasks(e.now())}}function s(t,e){e.events=h.removeAll(t,e.events)}function a(t,e){for(var n=t.events,r=0;r<n.length;++r){var o=n[r];o.active&&(i(o),o.period>=0&&(o.time=o.time+o.period,u(o,e)))}return e}function u(t,e){var n=e.length;if(0===n)return void e.push(l(t.time,[t]));var r=c(t.time,e);r>=n?e.push(l(t.time,[t])):t.time===e[r].time?e[r].events.push(t):e.splice(r,0,l(t.time,[t]))}function c(t,e){for(var n,r,i=0,o=e.length;o>i;){if(n=Math.floor((i+o)/2),r=e[n],t===r.time)return n;t<r.time?o=n:i=n+1}return o}function l(t,e){return{time:t,events:e}}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var h=n(18);t.exports=o,r.prototype.run=function(){return this.task.run(this.time)},r.prototype.error=function(t){return this.task.error(this.time,t)},r.prototype.dispose=function(){return this.scheduler.cancel(this),this.task.dispose()},o.prototype.now=function(){return this.timer.now()},o.prototype.asap=function(t){return this.schedule(0,-1,t)},o.prototype.delay=function(t,e){return this.schedule(t,-1,e)},o.prototype.periodic=function(t,e){return this.schedule(0,t,e)},o.prototype.schedule=function(t,e,n){var i=this.now(),o=new r(i+Math.max(0,t),e,n,this);return u(o,this._tasks),this._scheduleNextRun(i),o},o.prototype.cancel=function(t){t.active=!1;var e=c(t.time,this._tasks);if(e>=0&&e<this._tasks.length){var n=h.findIndex(t,this._tasks[e].events);n>=0&&(this._tasks[e].events.splice(n,1),this._reschedule())}},o.prototype.cancelAll=function(t){for(var e=0;e<this._tasks.length;++e)s(t,this._tasks[e]);this._reschedule()},o.prototype._reschedule=function(){0===this._tasks.length?this._unschedule():this._scheduleNextRun(this.now())},o.prototype._unschedule=function(){this.timer.clearTimer(this._timer),this._timer=null},o.prototype._scheduleNextRun=function(t){if(0!==this._tasks.length){var e=this._tasks[0].time;null===this._timer?this._scheduleNextArrival(e,t):e<this._nextArrival&&(this._unschedule(),this._scheduleNextArrival(e,t))}},o.prototype._scheduleNextArrival=function(t,e){this._nextArrival=t;var n=Math.max(0,t-e);this._timer=this.timer.setTimer(this._runReadyTasksBound,n)},o.prototype._runReadyTasks=function(t){this._timer=null,this._tasks=this._findAndRunTasks(t),this._scheduleNextRun(this.now())},o.prototype._findAndRunTasks=function(t){for(var e=this._tasks,n=e.length,r=0;n>r&&e[r].time<=t;)++r;this._tasks=e.slice(r);for(var i=0;r>i;++i)this._tasks=a(e[i],this._tasks);return this._tasks}},function(t,e,n){function r(t){this.f=t,this.active=!0}function i(t){var e=new r(t);return o(e),e}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var o=n(265);r.prototype.run=function(){if(this.active){var t=this.f;return t()}},r.prototype.error=function(t){throw t},r.prototype.cancel=function(){this.active=!1},t.exports={now:Date.now,setTimer:function(t,e){return 0>=e?i(t):setTimeout(t,e)},clearTimer:function(t){return t instanceof r?t.cancel():clearTimeout(t)}}},function(t,e){/** @license MIT License (c) copyright 2010-2016 original author or authors */
t.exports={now:Date.now,setTimer:function(t,e){return setTimeout(t,e)},clearTimer:function(t){return clearTimeout(t)}}},function(t,e){function n(t){this.sink=t,this.active=!0}/** @license MIT License (c) copyright 2010-2016 original author or authors */
t.exports=n,n.prototype.event=function(t,e){this.active&&this.sink.event(t,e)},n.prototype.end=function(t,e){this.active&&(this.disable(),this.sink.end(t,e))},n.prototype.error=function(t,e){this.disable(),this.sink.error(t,e)},n.prototype.disable=function(){return this.active=!1,this.sink}},function(t,e,n){function r(t,e){this.event=t,this.source=e}function i(t){var e=t.target;e.source.removeListener(e.event,t.addEvent)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var o=n(269),s=n(7),a=n(105);t.exports=r,r.prototype.run=function(t,e){function n(t){var n=arguments.length;if(n>1){for(var i=new Array(n),o=0;n>o;++o)i[o]=arguments[o];a.tryEvent(e.now(),i,r)}else a.tryEvent(e.now(),t,r)}var r=new o(t);return this.source.addListener(this.event,n),s.create(i,{target:this,addEvent:n})}},function(t,e,n){function r(t,e,n){this.event=t,this.source=e,this.capture=n}function i(t){var e=t.target;e.source.removeEventListener(e.event,t.addEvent,e.capture)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var o=n(7),s=n(105);t.exports=r,r.prototype.run=function(t,e){function n(n){s.tryEvent(e.now(),n,t)}return this.source.addEventListener(this.event,n,this.capture),o.create(i,{target:this,addEvent:n})}},function(t,e,n){function r(t){return new s(new a(new i(t)))}function i(t){this._subscribe=t}function o(t,e,n){this.sink=t,this.scheduler=e,this.active=!0,this._unsubscribe=this._init(n)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var s=n(4),a=n(77).MulticastSource,u=n(269),c=n(105);e.create=r,i.prototype.run=function(t,e){return new o(new u(t),e,this._subscribe)},o.prototype._init=function(t){function e(t){i._add(t)}function n(t){i._end(t)}function r(t){i._error(t)}var i=this;try{return t(e,n,r)}catch(o){r(o)}},o.prototype._add=function(t){this.active&&c.tryEvent(this.scheduler.now(),t,this.sink)},o.prototype._end=function(t){this.active&&(this.active=!1,c.tryEnd(this.scheduler.now(),t,this.sink))},o.prototype._error=function(t){this.active=!1,this.sink.error(this.scheduler.now(),t)},o.prototype.dispose=function(){return this.active=!1,"function"==typeof this._unsubscribe?this._unsubscribe.call(void 0):void 0}},function(t,e,n){function r(t){if(t instanceof i)return t;var e=u(t);if(null!=e)return c(e);if(Array.isArray(t)||l(t))return o(t);if(s(t))return a(t);throw new TypeError("from(x) must be observable, iterable, or array-like: "+t)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var i=n(4),o=n(648).fromArray,s=n(267).isIterable,a=n(650).fromIterable,u=n(638),c=n(637).fromObservable,l=n(18).isArrayLike;e.from=r},function(t,e,n){function r(t){return new s(new i(t))}function i(t){this.array=t}function o(t,e,n){function r(t){n.end(t)}for(var i=0,o=e.length;o>i&&this.active;++i)n.event(t,e[i]);this.active&&r(t)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var s=n(4),a=n(46);e.fromArray=r,i.prototype.run=function(t,e){return e.asap(new a(o,this.array,t))}},function(t,e,n){function r(t,e){var n;if("function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener){var r=arguments.length>2&&!!arguments[2];n=new o(new s(t,e,r))}else{if("function"!=typeof e.addListener||"function"!=typeof e.removeListener)throw new Error("source must support addEventListener/removeEventListener or addListener/removeListener");n=new a(t,e)}return new i(n)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var i=n(4),o=n(77).MulticastSource,s=n(645),a=n(644);e.fromEvent=r},function(t,e,n){function r(t){return new a(new i(t))}function i(t){this.iterable=t}function o(t,e,n){this.scheduler=n,this.iterator=t,this.task=new c(s,this,e),n.asap(this.task)}function s(t,e,n){var r=e.iterator.next();r.done?n.end(t,r.value):n.event(t,r.value),e.scheduler.asap(e.task)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var a=n(4),u=n(267).getIterator,c=n(46);e.fromIterable=r,i.prototype.run=function(t,e){return new o(u(this.iterable),t,e)},o.prototype.dispose=function(){return this.task.dispose()}},function(t,e,n){function r(t){return new l(new i(t,h.tail(arguments)))}function i(t,e){this.f=t,this.args=e}function o(t,e,n){function r(t){i.sink.error(i.scheduler.now(),t)}this.iterator=t,this.sink=e,this.scheduler=n,this.active=!0;var i=this;Promise.resolve(this).then(s)["catch"](r)}function s(t,e){return t.active?a(t,t.iterator.next(e)):e}function a(t,e){return e.done?t.sink.end(t.scheduler.now(),e.value):Promise.resolve(e.value).then(function(e){return u(t,e)},function(e){return c(t,e)})}function u(t,e){return t.sink.event(t.scheduler.now(),e),s(t,e)}function c(t,e){return a(t,t.iterator["throw"](e))}/** @license MIT License (c) copyright 2010-2014 original author or authors */
var l=n(4),h=n(18);e.generate=r,i.prototype.run=function(t,e){return new o(this.f.apply(void 0,this.args),t,e)},o.prototype.dispose=function(){this.active=!1}},function(t,e,n){function r(t,e){return new u(new i(t,e))}function i(t,e){this.f=t,this.value=e}function o(t,e,n,r){function i(t){u.sink.error(u.scheduler.now(),t)}function o(t){return s(t,a)}this.f=t,this.sink=n,this.scheduler=r,this.active=!0;var a=e,u=this;Promise.resolve(this).then(o)["catch"](i)}function s(t,e){if(t.sink.event(t.scheduler.now(),e),!t.active)return e;var n=t.f;return Promise.resolve(n(e)).then(function(e){return a(t,e)})}function a(t,e){return t.active?s(t,e):t.value}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var u=n(4);e.iterate=r,i.prototype.run=function(t,e){return new o(this.f,this.value,t,e)},o.prototype.dispose=function(){this.active=!1}},function(t,e,n){function r(t,e){return new s(new a(new i(t,e)))}function i(t,e){this.period=t,this.value=e}function o(t,e,n){n.event(t,e)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var s=n(4),a=(n(7),n(77).MulticastSource),u=n(46);e.periodic=r,i.prototype.run=function(t,e){return e.periodic(this.period,new u(o,this.value,t))}},function(t,e,n){function r(t,e){return new u(new i(t,e))}function i(t,e){this.f=t,this.value=e}function o(t,e,n,r){function i(t){a.sink.error(a.scheduler.now(),t)}function o(t){return s(t,e)}this.f=t,this.sink=n,this.scheduler=r,this.active=!0;var a=this;Promise.resolve(this).then(o)["catch"](i)}function s(t,e){var n=t.f;return Promise.resolve(n(e)).then(function(e){return a(t,e)})}function a(t,e){return e.done?(t.sink.end(t.scheduler.now(),e.value),e.value):(t.sink.event(t.scheduler.now(),e.value),t.active?s(t,e.seed):e.value)}/** @license MIT License (c) copyright 2010-2016 original author or authors */
var u=n(4);e.unfold=r,i.prototype.run=function(t,e){return new o(this.f,this.value,t,e)},o.prototype.dispose=function(){this.active=!1}},function(t,e,n){/** @license MIT License (c) copyright 2010-2016 original author or authors */
var r=n(4),i=n(18),o=n(49),s=n(647).from,a=n(653).periodic,u=n(276);e.Stream=r,e.of=r.of=o.of,e.just=o.of,e.empty=r.empty=o.empty,e.never=o.never,e.from=s,e.periodic=a;var c=n(639).subscribe;r.prototype.subscribe=function(t){return c(t,this)},r.prototype[u]=function(){return this};var l=n(629).thru;r.prototype.thru=function(t){return l(t,this)};var h=n(646);e.create=h.create;var f=n(649);e.fromEvent=f.fromEvent;var p=n(624);e.observe=p.observe,e.forEach=p.observe,e.drain=p.drain,r.prototype.observe=r.prototype.forEach=function(t){return p.observe(t,this)},r.prototype.drain=function(){return p.drain(this)};var d=n(622).loop;e.loop=d,r.prototype.loop=function(t,e){return d(t,e,this)};var v=n(614);e.scan=v.scan,e.reduce=v.reduce,r.prototype.scan=function(t,e){return v.scan(t,e,this)},r.prototype.reduce=function(t,e){return v.reduce(t,e,this)};var g=n(654),y=n(652),m=n(651),x=n(616);e.unfold=g.unfold,e.iterate=y.iterate,e.generate=m.generate,e.cycle=x.cycle,e.concat=x.concat,e.startWith=x.cons,r.prototype.cycle=function(){return x.cycle(this)},r.prototype.concat=function(t){return x.concat(this,t)},r.prototype.startWith=function(t){return x.cons(t,this)};var _=n(104),b=n(615);e.map=_.map,e.constant=_.constant,e.tap=_.tap,e.ap=b.ap,r.prototype.map=function(t){return _.map(t,this)},r.prototype.ap=function(t){return b.ap(this,t)},r.prototype.constant=function(t){return _.constant(t,this)},r.prototype.tap=function(t){return _.tap(t,this)};var w=n(632);e.transduce=w.transduce,r.prototype.transduce=function(t){return w.transduce(t,this)};var E=n(264);e.flatMap=e.chain=E.flatMap,e.join=E.join,r.prototype.flatMap=r.prototype.chain=function(t){return E.flatMap(t,this)},r.prototype.join=function(){return E.join(this)};var M=n(263).continueWith;e.continueWith=M,e.flatMapEnd=M,r.prototype.continueWith=r.prototype.flatMapEnd=function(t){return M(t,this)};var S=n(617).concatMap;e.concatMap=S,r.prototype.concatMap=function(t){return S(t,this)};var T=n(103);e.mergeConcurrently=T.mergeConcurrently,r.prototype.mergeConcurrently=function(t){return T.mergeConcurrently(t,this)};var A=n(623);e.merge=A.merge,e.mergeArray=A.mergeArray,r.prototype.merge=function(){return A.mergeArray(i.cons(this,arguments))};var C=n(262);e.combine=C.combine,e.combineArray=C.combineArray,r.prototype.combine=function(t){return C.combineArray(t,i.replace(this,0,arguments))};var k=n(626);e.sample=k.sample,e.sampleWith=k.sampleWith,r.prototype.sampleWith=function(t){return k.sampleWith(t,this)},r.prototype.sample=function(t){return k.sampleArray(t,this,i.tail(arguments))};var O=n(633);e.zip=O.zip,r.prototype.zip=function(t){return O.zipArray(t,i.replace(this,0,arguments))};var R=n(628)["switch"];e["switch"]=R,e.switchLatest=R,r.prototype["switch"]=r.prototype.switchLatest=function(){return R(this)};var D=n(620);e.filter=D.filter,e.skipRepeats=e.distinct=D.skipRepeats,e.skipRepeatsWith=e.distinctBy=D.skipRepeatsWith,r.prototype.filter=function(t){return D.filter(t,this)},r.prototype.skipRepeats=function(){return D.skipRepeats(this)},r.prototype.skipRepeatsWith=function(t){return D.skipRepeatsWith(t,this)};var P=n(627);e.take=P.take,e.skip=P.skip,e.slice=P.slice,e.takeWhile=P.takeWhile,e.skipWhile=P.skipWhile,r.prototype.take=function(t){return P.take(t,this)},r.prototype.skip=function(t){return P.skip(t,this)},r.prototype.slice=function(t,e){return P.slice(t,e,this)},r.prototype.takeWhile=function(t){return P.takeWhile(t,this)},r.prototype.skipWhile=function(t){return P.skipWhile(t,this)};var F=n(630);e.until=e.takeUntil=F.takeUntil,e.since=e.skipUntil=F.skipUntil,e.during=F.during,r.prototype.until=r.prototype.takeUntil=function(t){return F.takeUntil(t,this)},r.prototype.since=r.prototype.skipUntil=function(t){return F.skipUntil(t,this)},r.prototype.during=function(t){return F.during(t,this)};var N=n(618).delay;e.delay=N,r.prototype.delay=function(t){return N(t,this)};var L=n(631).timestamp;e.timestamp=L,r.prototype.timestamp=function(){return L(this)};var B=n(621);e.throttle=B.throttle,e.debounce=B.debounce,r.prototype.throttle=function(t){return B.throttle(t,this)},r.prototype.debounce=function(t){return B.debounce(t,this)};var I=n(625);e.fromPromise=I.fromPromise,e.await=I.awaitPromises,r.prototype.await=function(){return I.awaitPromises(this)};var j=n(619);e.recoverWith=j.flatMapError,e.flatMapError=j.flatMapError,e.throwError=j.throwError,r.prototype.recoverWith=r.prototype.flatMapError=function(t){return j.flatMapError(t,this)};var U=n(77)["default"];e.multicast=U,r.prototype.multicast=function(){return U(this)}},function(t,e){function n(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(t){return t>=c?Math.round(t/c)+"d":t>=u?Math.round(t/u)+"h":t>=a?Math.round(t/a)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function i(t){return o(t,c,"day")||o(t,u,"hour")||o(t,a,"minute")||o(t,s,"second")||t+" ms"}function o(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,a=60*s,u=60*a,c=24*u,l=365.25*c;t.exports=function(t,e){return e=e||{},"string"==typeof t?n(t):e["long"]?i(t):r(t)}},function(t,e,n){function r(t,e){function r(e,n){var r;if(void 0===n)r="object"!=typeof e?e:e.id;else{var i=t.hasLink(e,n);if(!i)return;r=i.id}return E[r]}function s(t){return w[t]}function a(){t.on("changed",c),b.on("stable",u)}function u(t){S.fire("stable",t)}function c(t){for(var e=0;e<t.length;++e){var n=t[e];"add"===n.changeType?(n.node&&h(n.node.id),n.link&&p(n.link)):"remove"===n.changeType&&(n.node&&f(n.node),n.link&&d(n.link))}}function l(){t.forEachNode(function(t){h(t.id)}),t.forEachLink(p)}function h(e){var n=w[e];if(!n){var r=t.getNode(e);if(!r)throw new Error("initBody() was called with unknown node id");var i=r.position;if(!i){var o=v(r);i=b.getBestNewBodyPosition(o)}n=b.addBodyAt(i),w[e]=n,g(e),y(r)&&(n.isPinned=!0)}}function f(t){var e=t.id,n=w[e];n&&(w[e]=null,delete w[e],b.removeBody(n))}function p(t){g(t.fromId),g(t.toId);var e=w[t.fromId],n=w[t.toId],r=b.addSpring(e,n,t.length);M(t,r),E[t.id]=r}function d(e){var n=E[e.id];if(n){var r=t.getNode(e.fromId),i=t.getNode(e.toId);r&&g(r.id),i&&g(i.id),delete E[e.id],b.removeSpring(n)}}function v(t){var e=[];if(!t.links)return e;for(var n=Math.min(t.links.length,2),r=0;n>r;++r){var i=t.links[r],o=i.fromId!==t.id?w[i.fromId]:w[i.toId];o&&o.pos&&e.push(o)}return e}function g(t){var e=w[t];e.mass=x(t)}function y(t){return t&&(t.isPinned||t.data&&t.data.isPinned)}function m(t){var e=w[t];return e||(h(t),e=w[t]),e}function x(e){var n=t.getLinks(e);return n?1+n.length/3:1}if(!t)throw new Error("Graph structure cannot be undefined");var _=n(271),b=_(e),w="function"==typeof Object.create?Object.create(null):{},E={},M=b.settings.springTransform||i;l(),a();var S={step:function(){return b.step()},getNodePosition:function(t){return m(t).pos},setNodePosition:function(t){var e=m(t);e.setPosition.apply(e,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(t){var e=E[t];return e?{from:e.from.pos,to:e.to.pos}:void 0},getGraphRect:function(){return b.getBBox()},forEachBody:function(t){Object.keys(w).forEach(function(e){t(w[e],e)})},pinNode:function(t,e){var n=m(t.id);n.isPinned=!!e},isNodePinned:function(t){return m(t.id).isPinned},dispose:function(){t.off("changed",c),b.off("stable",u)},getBody:s,getSpring:r,simulator:b};return o(S),S}function i(){}t.exports=r,t.exports.simulator=n(271);var o=n(160)},function(t,e){function n(t,e){this.pos=new r(t,e),this.prevPos=new r(t,e),this.force=new r,this.velocity=new r,this.mass=1}function r(t,e){t&&"number"!=typeof t?(this.x="number"==typeof t.x?t.x:0,this.y="number"==typeof t.y?t.y:0):(this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0)}function i(t,e,n){this.pos=new o(t,e,n),this.prevPos=new o(t,e,n),this.force=new o,this.velocity=new o,this.mass=1}function o(t,e,n){t&&"number"!=typeof t?(this.x="number"==typeof t.x?t.x:0,this.y="number"==typeof t.y?t.y:0,this.z="number"==typeof t.z?t.z:0):(this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0,this.z="number"==typeof n?n:0)}t.exports={Body:n,Vector2d:r,Body3d:i,Vector3d:o},n.prototype.setPosition=function(t,e){this.prevPos.x=this.pos.x=t,this.prevPos.y=this.pos.y=e},r.prototype.reset=function(){this.x=this.y=0},i.prototype.setPosition=function(t,e,n){this.prevPos.x=this.pos.x=t,this.prevPos.y=this.pos.y=e,this.prevPos.z=this.pos.z=n},o.prototype.reset=function(){this.x=this.y=this.z=0}},function(t,e,n){t.exports=function(t,e){function r(){var e=t.length;if(0!==e){for(var n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MIN_VALUE,s=Number.MIN_VALUE;e--;){var a=t[e];a.isPinned?(a.pos.x=a.prevPos.x,a.pos.y=a.prevPos.y):(a.prevPos.x=a.pos.x,a.prevPos.y=a.pos.y),a.pos.x<n&&(n=a.pos.x),a.pos.x>i&&(i=a.pos.x),a.pos.y<r&&(r=a.pos.y),a.pos.y>s&&(s=a.pos.y)}o.x1=n,o.x2=i,o.y1=r,o.y2=s}}var i=n(163).random(42),o={x1:0,y1:0,x2:0,y2:0};return{box:o,update:r,reset:function(){o.x1=o.y1=0,o.x2=o.y2=0},getBestNewPosition:function(t){var n=o,r=0,s=0;if(t.length){for(var a=0;a<t.length;++a)r+=t[a].pos.x,s+=t[a].pos.y;r/=t.length,s/=t.length}else r=(n.x1+n.x2)/2,s=(n.y1+n.y2)/2;var u=e.springLength;return{x:r+i.next(u)-u/2,y:s+i.next(u)-u/2}}}}},function(t,e,n){var r=n(658);t.exports=function(t){return new r.Body(t)}},function(t,e,n){t.exports=function(t){var e=n(162),r=n(161);t=e(t,{dragCoeff:.02});var i={update:function(e){e.force.x-=t.dragCoeff*e.velocity.x,e.force.y-=t.dragCoeff*e.velocity.y}};return r(t,i,["dragCoeff"]),i}},function(t,e){function n(t,e){var n,r=0,i=0,o=0,s=0,a=t.length;if(0===a)return 0;for(n=0;a>n;++n){var u=t[n],c=e/u.mass;u.velocity.x+=c*u.force.x,u.velocity.y+=c*u.force.y;var l=u.velocity.x,h=u.velocity.y,f=Math.sqrt(l*l+h*h);f>1&&(u.velocity.x=l/f,u.velocity.y=h/f),r=e*u.velocity.x,o=e*u.velocity.y,u.pos.x+=r,u.pos.y+=o,i+=Math.abs(r),s+=Math.abs(o)}return(i*i+s*s)/a}t.exports=n},function(t,e){function n(t,e,n,r,i){this.from=t,this.to=e,this.length=n,this.coeff=r,this.weight="number"==typeof i?i:1}t.exports=n},function(t,e,n){t.exports=function(t){var e=n(162),r=n(163).random(42),i=n(161);t=e(t,{springCoeff:2e-4,springLength:80});var o={update:function(e){var n=e.from,i=e.to,o=e.length<0?t.springLength:e.length,s=i.pos.x-n.pos.x,a=i.pos.y-n.pos.y,u=Math.sqrt(s*s+a*a);0===u&&(s=(r.nextDouble()-.5)/50,a=(r.nextDouble()-.5)/50,u=Math.sqrt(s*s+a*a));var c=u-o,l=(!e.coeff||e.coeff<0?t.springCoeff:e.coeff)*c/u*e.weight;n.force.x+=l*s,n.force.y+=l*a,i.force.x-=l*s,i.force.y-=l*a}};return i(t,o,["springCoeff","springLength"]),o}},function(t,e,n){function r(t,e){return 0===e?t.quad0:1===e?t.quad1:2===e?t.quad2:3===e?t.quad3:null}function i(t,e,n){0===e?t.quad0=n:1===e?t.quad1=n:2===e?t.quad2=n:3===e&&(t.quad3=n)}t.exports=function(t){t=t||{},t.gravity="number"==typeof t.gravity?t.gravity:-1,t.theta="number"==typeof t.theta?t.theta:.8;var e=n(163).random(1984),o=n(668),s=n(666),a=n(667),u=t.gravity,c=[],l=new s,h=t.theta,f=[],p=0,d=function(){var t=f[p];return t?(t.quad0=null,t.quad1=null,t.quad2=null,t.quad3=null,t.body=null,t.mass=t.massX=t.massY=0,t.left=t.right=t.top=t.bottom=0):(t=new o,f[p]=t),++p,t},v=d(),g=function(t){for(l.reset(),l.push(v,t);!l.isEmpty();){var n=l.pop(),o=n.node,s=n.body;if(o.body){var u=o.body;if(o.body=null,a(u.pos,s.pos)){var c=3;do{var h=e.nextDouble(),f=(o.right-o.left)*h,p=(o.bottom-o.top)*h;u.pos.x=o.left+f,u.pos.y=o.top+p,c-=1}while(c>0&&a(u.pos,s.pos));if(0===c&&a(u.pos,s.pos))return}l.push(o,u),l.push(o,s)}else{var g=s.pos.x,y=s.pos.y;o.mass=o.mass+s.mass,o.massX=o.massX+s.mass*g,o.massY=o.massY+s.mass*y;var m=0,x=o.left,_=(o.right+x)/2,b=o.top,w=(o.bottom+b)/2;if(g>_){m+=1;var E=x;x=_,_+=_-E}if(y>w){m+=2;var M=b;b=w,w+=w-M}var S=r(o,m);S?l.push(S,s):(S=d(),S.left=x,S.top=b,S.right=_,S.bottom=w,S.body=s,i(o,m,S))}}},y=function(t){var n,r,i,o,s=c,a=0,l=0,f=1,p=0,d=1;for(s[0]=v;f;){var g=s[p],y=g.body;f-=1,p+=1;var m=y!==t;y&&m?(r=y.pos.x-t.pos.x,i=y.pos.y-t.pos.y,o=Math.sqrt(r*r+i*i),0===o&&(r=(e.nextDouble()-.5)/50,i=(e.nextDouble()-.5)/50,o=Math.sqrt(r*r+i*i)),n=u*y.mass*t.mass/(o*o*o),a+=n*r,l+=n*i):m&&(r=g.massX/g.mass-t.pos.x,i=g.massY/g.mass-t.pos.y,o=Math.sqrt(r*r+i*i),0===o&&(r=(e.nextDouble()-.5)/50,i=(e.nextDouble()-.5)/50,o=Math.sqrt(r*r+i*i)),(g.right-g.left)/o<h?(n=u*g.mass*t.mass/(o*o*o),a+=n*r,l+=n*i):(g.quad0&&(s[d]=g.quad0,f+=1,d+=1),g.quad1&&(s[d]=g.quad1,f+=1,d+=1),g.quad2&&(s[d]=g.quad2,f+=1,d+=1),g.quad3&&(s[d]=g.quad3,f+=1,d+=1)))}t.force.x+=a,t.force.y+=l},m=function(t){var e,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MIN_VALUE,s=t.length;for(e=s;e--;){var a=t[e].pos.x,u=t[e].pos.y;n>a&&(n=a),a>i&&(i=a),r>u&&(r=u),u>o&&(o=u)}var c=i-n,l=o-r;for(c>l?o=r+c:i=n+l,p=0,v=d(),v.left=n,v.right=i,v.top=r,v.bottom=o,e=s-1,e>0&&(v.body=t[e]);e--;)g(t[e],v)};return{insertBodies:m,updateBodyForce:y,options:function(t){return t?("number"==typeof t.gravity&&(u=t.gravity),"number"==typeof t.theta&&(h=t.theta),this):{gravity:u,theta:h}}}}},function(t,e){function n(){this.stack=[],this.popIdx=0}function r(t,e){this.node=t,this.body=e}t.exports=n,n.prototype={isEmpty:function(){return 0===this.popIdx},push:function(t,e){var n=this.stack[this.popIdx];n?(n.node=t,n.body=e):this.stack[this.popIdx]=new r(t,e),++this.popIdx},pop:function(){return this.popIdx>0?this.stack[--this.popIdx]:void 0},reset:function(){this.popIdx=0}}},function(t,e){t.exports=function(t,e){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return 1e-8>n&&1e-8>r}},function(t,e){t.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},function(t,e){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(t,e){for(var o,s,a=n(t),u=1;u<arguments.length;u++){o=Object(arguments[u]);for(var c in o)r.call(o,c)&&(a[c]=o[c]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(o);for(var l=0;l<s.length;l++)i.call(o,s[l])&&(a[s[l]]=o[s[l]])}}return a}},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var c=0;u>c;++c){var l,h,f,p,d=t[c].replace(s,"%20"),v=d.indexOf(r);v>=0?(l=d.substr(0,v),h=d.substr(v+1)):(l=d,h=""),f=decodeURIComponent(l),p=decodeURIComponent(h),n(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return o+encodeURIComponent(n(t))}).join(e):o+encodeURIComponent(n(t[i]))}).join(e):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(t)):""}},function(t,e,n){"use strict";e.decode=e.parse=n(670),e.encode=e.stringify=n(671)},function(t,e,n){var r,i;(function(n,o){/*!
	 * async
	 * https://github.com/caolan/async
	 *
	 * Copyright 2010-2014 Caolan McMahon
	 * Released under the MIT license
	 */
!function(){function s(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(a,arguments)}}var a,u,c={};a=this,null!=a&&(u=a.async),c.noConflict=function(){return a.async=u,c};var l=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===l.call(t)},f=function(t,e){for(var n=0;n<t.length;n+=1)e(t[n],n,t)},p=function(t,e){if(t.map)return t.map(e);var n=[];return f(t,function(t,r,i){n.push(e(t,r,i))}),n},d=function(t,e,n){return t.reduce?t.reduce(e,n):(f(t,function(t,r,i){n=e(n,t,r,i)}),n)},v=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof n&&n.nextTick?(c.nextTick=n.nextTick,"undefined"!=typeof o?c.setImmediate=function(t){o(t)}:c.setImmediate=c.nextTick):"function"==typeof o?(c.nextTick=function(t){o(t)},c.setImmediate=c.nextTick):(c.nextTick=function(t){setTimeout(t,0)},c.setImmediate=c.nextTick),c.each=function(t,e,n){function r(e){e?(n(e),n=function(){}):(i+=1,i>=t.length&&n())}if(n=n||function(){},!t.length)return n();var i=0;f(t,function(t){e(t,s(r))})},c.forEach=c.each,c.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0,i=function(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1,r>=t.length?n():i())})};i()},c.forEachSeries=c.eachSeries,c.eachLimit=function(t,e,n,r){var i=g(e);i.apply(null,[t,n,r])},c.forEachLimit=c.eachLimit;var g=function(t){return function(e,n,r){if(r=r||function(){},!e.length||0>=t)return r();var i=0,o=0,s=0;!function a(){if(i>=e.length)return r();for(;t>s&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(r(t),r=function(){}):(i+=1,s-=1,i>=e.length?r():a())})}()}},y=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[c.each].concat(e))}},m=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[g(t)].concat(n))}},x=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[c.eachSeries].concat(e))}},_=function(t,e,n,r){if(e=p(e,function(t,e){return{index:e,value:t}}),r){var i=[];t(e,function(t,e){n(t.value,function(n,r){i[t.index]=r,e(n)})},function(t){r(t,i)})}else t(e,function(t,e){n(t.value,function(t){e(t)})})};c.map=y(_),c.mapSeries=x(_),c.mapLimit=function(t,e,n,r){return b(e)(t,n,r)};var b=function(t){return m(t,_)};c.reduce=function(t,e,n,r){c.eachSeries(t,function(t,r){n(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})},c.inject=c.reduce,c.foldl=c.reduce,c.reduceRight=function(t,e,n,r){var i=p(t,function(t){return t}).reverse();c.reduce(i,e,n,r)},c.foldr=c.reduceRight;var w=function(t,e,n,r){var i=[];e=p(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&i.push(t),e()})},function(t){r(p(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};c.filter=y(w),c.filterSeries=x(w),c.select=c.filter,c.selectSeries=c.filterSeries;var E=function(t,e,n,r){var i=[];e=p(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||i.push(t),e()})},function(t){r(p(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};c.reject=y(E),c.rejectSeries=x(E);var M=function(t,e,n,r){t(e,function(t,e){n(t,function(n){n?(r(t),r=function(){}):e()})},function(t){r()})};c.detect=y(M),c.detectSeries=x(M),c.some=function(t,e,n){c.each(t,function(t,r){e(t,function(t){t&&(n(!0),n=function(){}),r()})},function(t){n(!1)})},c.any=c.some,c.every=function(t,e,n){c.each(t,function(t,r){e(t,function(t){t||(n(!1),n=function(){}),r()})},function(t){n(!0)})},c.all=c.every,c.sortBy=function(t,e,n){c.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);var r=function(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0};n(null,p(e.sort(r),function(t){return t.value}))})},c.auto=function(t,e){e=e||function(){};var n=v(t),r=n.length;if(!r)return e();var i={},o=[],s=function(t){o.unshift(t)},a=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},u=function(){r--,f(o.slice(0),function(t){t()})};s(function(){if(!r){var t=e;e=function(){},t(null,i)}}),f(n,function(n){var r=h(t[n])?t[n]:[t[n]],o=function(t){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),t){var o={};f(v(i),function(t){o[t]=i[t]}),o[n]=r,e(t,o),e=function(){}}else i[n]=r,c.setImmediate(u)},l=r.slice(0,Math.abs(r.length-1))||[],p=function(){return d(l,function(t,e){return t&&i.hasOwnProperty(e)},!0)&&!i.hasOwnProperty(n)};if(p())r[r.length-1](o,i);else{var g=function(){p()&&(a(g),r[r.length-1](o,i))};s(g)}})},c.retry=function(t,e,n){var r=5,i=[];"function"==typeof t&&(n=e,e=t,t=r),t=parseInt(t,10)||r;var o=function(r,o){for(var s=function(t,e){return function(n){t(function(t,r){n(!t||e,{err:t,result:r})},o)}};t;)i.push(s(e,!(t-=1)));c.series(i,function(t,e){e=e[e.length-1],(r||n)(e.err,e.result)})};return n?o():o},c.waterfall=function(t,e){if(e=e||function(){},!h(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var r=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=t.next();o?i.push(r(o)):i.push(e),c.setImmediate(function(){t.apply(null,i)})}}};r(c.iterator(t))()};var S=function(t,e,n){if(n=n||function(){},h(e))t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var r={};t.each(v(e),function(t,n){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)})},function(t){n(t,r)})}};c.parallel=function(t,e){S({map:c.map,each:c.each},t,e)},c.parallelLimit=function(t,e,n){S({map:b(e),each:g(e)},t,n)},c.series=function(t,e){if(e=e||function(){},h(t))c.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};c.eachSeries(v(t),function(e,r){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)})},function(t){e(t,n)})}},c.iterator=function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)},c.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var T=function(t,e,n,r){var i=[];t(e,function(t,e){n(t,function(t,n){i=i.concat(n||[]),e(t)})},function(t){r(t,i)})};c.concat=y(T),c.concatSeries=x(T),c.whilst=function(t,e,n){t()?e(function(r){return r?n(r):void c.whilst(t,e,n)}):n()},c.doWhilst=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?c.doWhilst(t,e,n):n()})},c.until=function(t,e,n){t()?n():e(function(r){return r?n(r):void c.until(t,e,n)})},c.doUntil=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?n():c.doUntil(t,e,n)})},c.queue=function(t,e){function n(t,e,n,r){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?c.setImmediate(function(){t.drain&&t.drain()}):void f(e,function(e){var i={data:e,callback:"function"==typeof r?r:null};n?t.tasks.unshift(i):t.tasks.push(i),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),c.setImmediate(t.process)})}void 0===e&&(e=1);var r=0,i={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){n(i,t,!1,e)},kill:function(){i.drain=null,i.tasks=[]},unshift:function(t,e){n(i,t,!0,e)},process:function(){if(!i.paused&&r<i.concurrency&&i.tasks.length){var e=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),r+=1;var n=function(){r-=1,e.callback&&e.callback.apply(e,arguments),i.drain&&i.tasks.length+r===0&&i.drain(),i.process()},o=s(n);t(e.data,o)}},length:function(){return i.tasks.length},running:function(){return r},idle:function(){return i.tasks.length+r===0},pause:function(){i.paused!==!0&&(i.paused=!0)},resume:function(){if(i.paused!==!1){i.paused=!1;for(var t=1;t<=i.concurrency;t++)c.setImmediate(i.process)}}};return i},c.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function r(t,e,n){for(var r=-1,i=t.length-1;i>r;){var o=r+(i-r+1>>>1);n(e,t[o])>=0?r=o:i=o-1}return r}function i(t,e,i,o){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?c.setImmediate(function(){t.drain&&t.drain()}):void f(e,function(e){var s={data:e,priority:i,callback:"function"==typeof o?o:null};t.tasks.splice(r(t.tasks,s,n)+1,0,s),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),c.setImmediate(t.process)})}var o=c.queue(t,e);return o.push=function(t,e,n){i(o,t,e,n)},delete o.unshift,o},c.cargo=function(t,e){var n=!1,r=[],i={tasks:r,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,n){h(t)||(t=[t]),f(t,function(t){r.push({data:t,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===e&&i.saturated()}),c.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var s="number"==typeof e?r.splice(0,e):r.splice(0,r.length),a=p(s,function(t){return t.data});i.empty&&i.empty(),n=!0,t(a,function(){n=!1;var t=arguments;f(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return r.length},running:function(){return n}};return i};var A=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&f(n,function(e){console[t](e)}))}]))}};c.log=A("log"),c.dir=A("dir"),c.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),s=e.apply(null,i);s in n?c.nextTick(function(){o.apply(null,n[s])}):s in r?r[s].push(o):(r[s]=[o],t.apply(null,i.concat([function(){n[s]=arguments;var t=r[s];delete r[s];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=t,i},c.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},c.times=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return c.map(r,e,n)},c.timesSeries=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return c.mapSeries(r,e,n)},c.seq=function(){var t=arguments;return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();c.reduce(t,n,function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))},function(t,n){r.apply(e,[t].concat(n))})}},c.compose=function(){return c.seq.apply(null,Array.prototype.reverse.call(arguments))};var C=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return t(e,function(t,e){t.apply(n,r.concat([e]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};c.applyEach=y(C),c.applyEachSeries=x(C),c.forever=function(t,e){function n(r){if(r){if(e)return e(r);throw r}t(n)}n()},"undefined"!=typeof t&&t.exports?t.exports=c:(r=[],i=function(){return c}.apply(e,r),!(void 0!==i&&(t.exports=i)))}()}).call(e,n(50),n(107).setImmediate)},function(t,e,n){function r(t,e){a.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=i.queue(this._boundLoadResource,e),this.resources={}}var i=n(673),o=n(304),s=n(164),a=n(40);r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.add=r.prototype.enqueue=function(t,e,n,r){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(r=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._handleBaseUrl(e),this.resources[t]=new s(t,e,n),"function"==typeof r&&this.resources[t].once("afterMiddleware",r),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},r.prototype._handleBaseUrl=function(t){var e=o.parse(t);return e.protocol||!e.pathname||0===e.pathname.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t},r.prototype.before=r.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},r.prototype.after=r.prototype.use=function(t){return this._afterMiddleware.push(t),this},r.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},r.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this);for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},r.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,this._runMiddleware(t,this._beforeMiddleware,function(){t.load(n._boundOnLoad)})},r.prototype._onComplete=function(){this.emit("complete",this,this.resources)},r.prototype._onLoad=function(t){this.progress+=this._progressChunk,this.emit("progress",this,t),this._runMiddleware(t,this._afterMiddleware,function(){t.emit("afterMiddleware",t),this._numToLoad--,t.error?this.emit("error",t.error,this,t):this.emit("load",this,t),0===this._numToLoad&&(this.progress=100,this._onComplete())}),t._dequeue()},r.prototype._runMiddleware=function(t,e,n){var r=this;i.eachSeries(e,function(e,n){e.call(r,t,n)},n.bind(this,t))},r.LOAD_TYPE=s.LOAD_TYPE,r.XHR_READY_STATE=s.XHR_READY_STATE,r.XHR_RESPONSE_TYPE=s.XHR_RESPONSE_TYPE},function(t,e){t.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,n="",r=new Array(4),i=0,o=0,s=0;i<t.length;){for(e=new Array(3),o=0;o<e.length;o++)i<t.length?e[o]=255&t.charCodeAt(i++):e[o]=0;switch(r[0]=e[0]>>2,r[1]=(3&e[0])<<4|e[1]>>4,r[2]=(15&e[1])<<2|e[2]>>6,r[3]=63&e[2],s=i-(t.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(o=0;o<r.length;o++)n+=this._keyStr.charAt(r[o])}return n}}},function(t,e){var n={};t.exports=function(){return function(t,e){n[t.url]?(t.data=n[t.url],t.complete()):t.once("complete",function(){n[this.url]=this.data}),e()}}},function(t,e,n){var r=n(164),i=n(675),o=window.URL||window.webkitURL;t.exports=function(){return function(t,e){if(!t.data)return e();if(t.xhr&&t.xhrType===r.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=o.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=n,t.isImage=!0,t.data.onload=function(){o.revokeObjectURL(n),t.data.onload=null,e()}}}else{var s=t.xhr.getResponseHeader("content-type");s&&0===s.indexOf("image")&&(t.data=new Image,t.data.src="data:"+s+";base64,"+i.encodeBinary(t.xhr.responseText),t.isImage=!0,t.data.onload=function(){t.data.onload=null,e()})}else e()}}},function(t,e,n){var r=n(487);"string"==typeof r&&(r=[[t.id,r,""]]);n(275)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(488);"string"==typeof r&&(r=[[t.id,r,""]]);n(275)(r,{});r.locals&&(t.exports=r.locals)},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||r,t)for(var i=Math.floor(this.length/2);i>=0;i--)this._down(i)}function r(t,e){return e>t?-1:t>e?1:0}function i(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}t.exports=n,n.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){var t=this.data[0];return this.data[0]=this.data[this.length-1],this.length--,this.data.pop(),this._down(0),t},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare;t>0;){var r=Math.floor((t-1)/2);if(!(n(e[t],e[r])<0))break;i(e,r,t),t=r}},_down:function(t){for(var e=this.data,n=this.compare,r=this.length;;){var o=2*t+1,s=o+1,a=t;if(r>o&&n(e[o],e[a])<0&&(a=o),r>s&&n(e[s],e[a])<0&&(a=s),a===t)return;i(e,a,t),t=a}}}},function(t,e,n){function r(t){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,window.addEventListener("keydown",this._onKeyDown,!1)}var i=n(2);Object.assign(i.DisplayObject.prototype,n(277)),r.prototype.constructor=r,t.exports=r,r.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode.appendChild(this.div))},r.prototype.deactivate=function(){this.isActive&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode.removeChild(this.div))},r.prototype.updateAccessibleObjects=function(t){if(t.visible&&(t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId),t.interactiveChildren))for(var e=t.children,n=e.length-1;n>=0;n--)this.updateAccessibleObjects(e[n])},r.prototype.update=function(){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,n=t.height/this.renderer.height,r=this.div;r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,i.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{r=s._accessibleDiv;var a=s.hitArea,u=s.worldTransform;s.hitArea?(r.style.left=(u.tx+a.x*u.a)*e+"px",r.style.top=(u.ty+a.y*u.d)*n+"px",r.style.width=a.width*u.a*e+"px",r.style.height=a.height*u.d*n+"px"):(a=s.getBounds(),this.capHitArea(a),r.style.left=a.x*e+"px",r.style.top=a.y*n+"px",r.style.width=a.width*e+"px",r.style.height=a.height*n+"px")}}this.renderId++},r.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},r.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.title=t.accessibleTitle||"displayObject "+this.tabIndex,t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},r.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},r.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},r.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},r.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},r.prototype._onMouseMove=function(){this.deactivate()},r.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},i.WebGLRenderer.registerPlugin("accessibility",r),i.CanvasRenderer.registerPlugin("accessibility",r)},function(t,e,n){/**
	 * @file        Main export of the PIXI accessibility library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
	 */
t.exports={accessibleTarget:n(277),AccessibilityManager:n(682)}},function(t,e,n){function r(){i.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new c.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var i=n(108),o=n(76),s=n(167),a=n(168),u=n(279),c=n(15),l=n(6),h=new c.Point;r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){var t=new r;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=!0,t.glDirty=!0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},r.prototype.lineStyle=function(t,e,n){if(this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===n?1:n,this.currentPath)if(this.currentPath.shape.points.length){var r=new c.Polygon(this.currentPath.shape.points.slice(-2));r.closed=!1,this.drawShape(r)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},r.prototype.moveTo=function(t,e){var n=new c.Polygon([t,e]);return n.closed=!1,this.drawShape(n),this},r.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},r.prototype.quadraticCurveTo=function(t,e,n,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i,o,s=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var u=a[a.length-2],c=a[a.length-1],l=0,h=1;s>=h;++h)l=h/s,i=u+(t-u)*l,o=c+(e-c)*l,a.push(i+(t+(n-t)*l-i)*l,o+(e+(r-e)*l-o)*l);return this.dirty=this.boundsDirty=!0,this},r.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,u,c,l,h=20,f=this.currentPath.shape.points,p=f[f.length-2],d=f[f.length-1],v=0,g=1;h>=g;++g)v=g/h,s=1-v,a=s*s,u=a*s,c=v*v,l=c*v,f.push(u*p+3*a*v*t+3*s*c*n+l*i,u*d+3*a*v*e+3*s*c*r+l*o);return this.dirty=this.boundsDirty=!0,this},r.prototype.arcTo=function(t,e,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],u=a-e,c=s-t,l=r-e,h=n-t,f=Math.abs(u*h-c*l);if(1e-8>f||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var p=u*u+c*c,d=l*l+h*h,v=u*l+c*h,g=i*Math.sqrt(p)/f,y=i*Math.sqrt(d)/f,m=g*v/p,x=y*v/d,_=g*h+y*c,b=g*l+y*u,w=c*(y+m),E=u*(y+m),M=h*(g+x),S=l*(g+x),T=Math.atan2(E-b,w-_),A=Math.atan2(S-b,M-_);this.arc(_+t,b+e,i,T,A,c*l>h*u)}return this.dirty=this.boundsDirty=!0,this},r.prototype.arc=function(t,e,n,r,i,o){if(o=o||!1,r===i)return this;!o&&r>=i?i+=2*Math.PI:o&&i>=r&&(r+=2*Math.PI);var s=o?-1*(r-i):i-r,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var u=t+Math.cos(r)*n,c=e+Math.sin(r)*n;this.currentPath?this.currentPath.shape.points.push(u,c):this.moveTo(u,c);for(var l=this.currentPath.shape.points,h=s/(2*a),f=2*h,p=Math.cos(h),d=Math.sin(h),v=a-1,g=v%1/v,y=0;v>=y;y++){var m=y+g*y,x=h+r+f*m,_=Math.cos(x),b=-Math.sin(x);l.push((p*_+d*b)*n+t,(p*-b+d*_)*n+e)}return this.dirty=this.boundsDirty=!0,this},r.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},r.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},r.prototype.drawRect=function(t,e,n,r){return this.drawShape(new c.Rectangle(t,e,n,r)),this},r.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new c.RoundedRectangle(t,e,n,r,i)),this},r.prototype.drawCircle=function(t,e,n){return this.drawShape(new c.Circle(t,e,n)),this},r.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new c.Ellipse(t,e,n,r)),this},r.prototype.drawPolygon=function(t){var e=t,n=!0;if(e instanceof c.Polygon&&(n=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}var i=new c.Polygon(e);return i.closed=n,this.drawShape(i),this},r.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},r.prototype.generateTexture=function(t,e,n){e=e||1;var r=this.getLocalBounds(),i=new s(r.width*e,r.height*e),u=o.fromCanvas(i.canvas,n);return u.baseTexture.resolution=e,i.context.scale(e,e),i.context.translate(-r.x,-r.y),a.renderGraphics(this,i.context),u},r.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},r.prototype._renderCanvas=function(t){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0);var e=t.context,n=this.worldTransform,r=t.blendModes[this.blendMode];r!==e.globalCompositeOperation&&(e.globalCompositeOperation=r);var i=t.resolution;e.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),a.renderGraphics(this,e)}},r.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return c.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,n=e.x,r=e.width+e.x,i=e.y,o=e.height+e.y,s=t||this.worldTransform,a=s.a,u=s.b,l=s.c,h=s.d,f=s.tx,p=s.ty,d=a*r+l*o+f,v=h*o+u*r+p,g=a*n+l*o+f,y=h*o+u*n+p,m=a*n+l*i+f,x=h*i+u*n+p,_=a*r+l*i+f,b=h*i+u*r+p,w=d,E=v,M=d,S=v;M=M>g?g:M,M=M>m?m:M,M=M>_?_:M,S=S>y?y:S,S=S>x?x:S,S=S>b?b:S,w=g>w?g:w,w=m>w?m:w,w=_>w?_:w,E=y>E?y:E,E=x>E?x:E,E=b>E?b:E,this._bounds.x=M,this._bounds.width=w-M,this._bounds.y=S,this._bounds.height=E-S,this._currentBounds=this._bounds}return this._currentBounds},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);for(var e=this.graphicsData,n=0;n<e.length;n++){var r=e[n];if(r.fill&&r.shape&&r.shape.contains(h.x,h.y))return!0}return!1},r.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),n=1/0,r=-(1/0);if(this.graphicsData.length)for(var i,o,s,a,u,c,h=0;h<this.graphicsData.length;h++){var f=this.graphicsData[h],p=f.type,d=f.lineWidth;if(i=f.shape,p===l.SHAPES.RECT||p===l.SHAPES.RREC)s=i.x-d/2,a=i.y-d/2,u=i.width+d,c=i.height+d,t=t>s?s:t,e=s+u>e?s+u:e,n=n>a?a:n,r=a+c>r?a+c:r;else if(p===l.SHAPES.CIRC)s=i.x,a=i.y,u=i.radius+d/2,c=i.radius+d/2,t=t>s-u?s-u:t,e=s+u>e?s+u:e,n=n>a-c?a-c:n,r=a+c>r?a+c:r;else if(p===l.SHAPES.ELIP)s=i.x,a=i.y,u=i.width+d/2,c=i.height+d/2,t=t>s-u?s-u:t,e=s+u>e?s+u:e,n=n>a-c?a-c:n,r=a+c>r?a+c:r;else{o=i.points;for(var v=0;v<o.length;v+=2)s=o[v],a=o[v+1],t=t>s-d?s-d:t,e=s+d>e?s+d:e,n=n>a-d?a-d:n,r=a+d>r?a+d:r}}else t=0,e=0,n=0,r=0;var g=this.boundsPadding;this._localBounds.x=t-g,this._localBounds.width=e-t+2*g,this._localBounds.y=n-g,this._localBounds.height=r-n+2*g},r.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new u(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty=this.boundsDirty=!0,e},r.prototype.destroy=function(){i.prototype.destroy.apply(this,arguments);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webgl)for(var n=0;n<this._webgl[e].data.length;++n)this._webgl[e].data[n].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},function(t,e,n){function r(t){a.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var i=n(12),o=n(15),s=n(6),a=n(75),u=n(109),c=n(686),l=n(490);r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,u.registerPlugin("graphics",r),r.prototype.onContextChange=function(){},r.prototype.destroy=function(){a.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},r.prototype.render=function(t){var e,n=this.renderer,r=n.gl,o=n.shaderManager.plugins.primitiveShader;!t.dirty&&t._webGL[r.id]||this.updateGraphics(t);var s=t._webGL[r.id];n.blendModeManager.setBlendMode(t.blendMode);for(var a=0,u=s.data.length;u>a;a++)e=s.data[a],1===s.data[a].mode?(n.stencilManager.pushStencil(t,e),r.uniform1f(n.shaderManager.complexPrimitiveShader.uniforms.alpha._location,t.worldAlpha*e.alpha),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilManager.popStencil(t,e)):(o=n.shaderManager.primitiveShader,n.shaderManager.setShader(o),r.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),r.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,n.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(o.uniforms.tint._location,i.hex2rgb(t.tint)),r.uniform1f(o.uniforms.alpha._location,t.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.vertexAttribPointer(o.attributes.aVertexPosition,2,r.FLOAT,!1,24,0),r.vertexAttribPointer(o.attributes.aColor,4,r.FLOAT,!1,24,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.indexBuffer),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0)),n.drawCount++},r.prototype.updateGraphics=function(t){var e=this.renderer.gl,n=t._webGL[e.id];n||(n=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var r;if(t.clearDirty){for(t.clearDirty=!1,r=0;r<n.data.length;r++){var i=n.data[r];i.reset(),this.graphicsDataPool.push(i)}n.data=[],n.lastIndex=0}var o;for(r=n.lastIndex;r<t.graphicsData.length;r++){var a=t.graphicsData[r];if(a.type===s.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]===a.points[a.points.length-2]&&a.points[1]===a.points[a.points.length-1]||a.points.push(a.points[0],a.points[1])),a.fill&&a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize){o=this.switchMode(n,0);var u=this.buildPoly(a,o);u||(o=this.switchMode(n,1),this.buildComplexPoly(a,o))}else o=this.switchMode(n,1),this.buildComplexPoly(a,o);a.lineWidth>0&&(o=this.switchMode(n,0),this.buildLine(a,o))}else o=this.switchMode(n,0),a.type===s.SHAPES.RECT?this.buildRectangle(a,o):a.type===s.SHAPES.CIRC||a.type===s.SHAPES.ELIP?this.buildCircle(a,o):a.type===s.SHAPES.RREC&&this.buildRoundedRectangle(a,o);n.lastIndex++}for(r=0;r<n.data.length;r++)o=n.data[r],o.dirty&&o.upload()},r.prototype.switchMode=function(t,e){var n;return t.data.length?(n=t.data[t.data.length-1],(n.points.length>32e4||n.mode!==e||1===e)&&(n=this.graphicsDataPool.pop()||new c(t.gl),n.mode=e,t.data.push(n))):(n=this.graphicsDataPool.pop()||new c(t.gl),n.mode=e,t.data.push(n)),n.dirty=!0,n},r.prototype.buildRectangle=function(t,e){var n=t.shape,r=n.x,o=n.y,s=n.width,a=n.height;if(t.fill){var u=i.hex2rgb(t.fillColor),c=t.fillAlpha,l=u[0]*c,h=u[1]*c,f=u[2]*c,p=e.points,d=e.indices,v=p.length/6;p.push(r,o),p.push(l,h,f,c),p.push(r+s,o),p.push(l,h,f,c),p.push(r,o+a),p.push(l,h,f,c),p.push(r+s,o+a),p.push(l,h,f,c),d.push(v,v,v+1,v+2,v+3,v+3)}if(t.lineWidth){var g=t.points;t.points=[r,o,r+s,o,r+s,o+a,r,o+a,r,o],this.buildLine(t,e),t.points=g}},r.prototype.buildRoundedRectangle=function(t,e){var n=t.shape,r=n.x,o=n.y,s=n.width,a=n.height,u=n.radius,c=[];if(c.push(r,o+u),this.quadraticBezierCurve(r,o+a-u,r,o+a,r+u,o+a,c),this.quadraticBezierCurve(r+s-u,o+a,r+s,o+a,r+s,o+a-u,c),this.quadraticBezierCurve(r+s,o+u,r+s,o,r+s-u,o,c),this.quadraticBezierCurve(r+u,o,r,o,r,o+u+1e-10,c),t.fill){var h=i.hex2rgb(t.fillColor),f=t.fillAlpha,p=h[0]*f,d=h[1]*f,v=h[2]*f,g=e.points,y=e.indices,m=g.length/6,x=l(c,null,2),_=0;for(_=0;_<x.length;_+=3)y.push(x[_]+m),y.push(x[_]+m),y.push(x[_+1]+m),y.push(x[_+2]+m),y.push(x[_+2]+m);for(_=0;_<c.length;_++)g.push(c[_],c[++_],p,d,v,f)}if(t.lineWidth){var b=t.points;t.points=c,this.buildLine(t,e),t.points=b}},r.prototype.quadraticBezierCurve=function(t,e,n,r,i,o,s){function a(t,e,n){var r=e-t;return t+r*n}for(var u,c,l,h,f,p,d=20,v=s||[],g=0,y=0;d>=y;y++)g=y/d,u=a(t,n,g),c=a(e,r,g),l=a(n,i,g),h=a(r,o,g),f=a(u,l,g),p=a(c,h,g),v.push(f,p);return v},r.prototype.buildCircle=function(t,e){var n,r,o=t.shape,a=o.x,u=o.y;t.type===s.SHAPES.CIRC?(n=o.radius,r=o.radius):(n=o.width,r=o.height);var c=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(o.width+o.height)),l=2*Math.PI/c,h=0;if(t.fill){var f=i.hex2rgb(t.fillColor),p=t.fillAlpha,d=f[0]*p,v=f[1]*p,g=f[2]*p,y=e.points,m=e.indices,x=y.length/6;for(m.push(x),h=0;c+1>h;h++)y.push(a,u,d,v,g,p),y.push(a+Math.sin(l*h)*n,u+Math.cos(l*h)*r,d,v,g,p),m.push(x++,x++);m.push(x-1)}if(t.lineWidth){var _=t.points;for(t.points=[],h=0;c+1>h;h++)t.points.push(a+Math.sin(l*h)*n,u+Math.cos(l*h)*r);this.buildLine(t,e),t.points=_}},r.prototype.buildLine=function(t,e){var n=0,r=t.points;if(0!==r.length){var s=new o.Point(r[0],r[1]),a=new o.Point(r[r.length-2],r[r.length-1]);if(s.x===a.x&&s.y===a.y){r=r.slice(),r.pop(),r.pop(),a=new o.Point(r[r.length-2],r[r.length-1]);var u=a.x+.5*(s.x-a.x),c=a.y+.5*(s.y-a.y);r.unshift(u,c),r.push(u,c)}var l,h,f,p,d,v,g,y,m,x,_,b,w,E,M,S,T,A,C,k,O,R,D,P=e.points,F=e.indices,N=r.length/2,L=r.length,B=P.length/6,I=t.lineWidth/2,j=i.hex2rgb(t.lineColor),U=t.lineAlpha,z=j[0]*U,W=j[1]*U,Y=j[2]*U;for(f=r[0],p=r[1],d=r[2],v=r[3],m=-(p-v),x=f-d,D=Math.sqrt(m*m+x*x),m/=D,x/=D,m*=I,x*=I,P.push(f-m,p-x,z,W,Y,U),P.push(f+m,p+x,z,W,Y,U),n=1;N-1>n;n++)f=r[2*(n-1)],p=r[2*(n-1)+1],d=r[2*n],v=r[2*n+1],g=r[2*(n+1)],y=r[2*(n+1)+1],m=-(p-v),x=f-d,D=Math.sqrt(m*m+x*x),m/=D,x/=D,m*=I,x*=I,_=-(v-y),b=d-g,D=Math.sqrt(_*_+b*b),_/=D,b/=D,_*=I,b*=I,M=-x+p-(-x+v),S=-m+d-(-m+f),T=(-m+f)*(-x+v)-(-m+d)*(-x+p),A=-b+y-(-b+v),C=-_+d-(-_+g),k=(-_+g)*(-b+v)-(-_+d)*(-b+y),O=M*C-A*S,Math.abs(O)<.1?(O+=10.1,P.push(d-m,v-x,z,W,Y,U),P.push(d+m,v+x,z,W,Y,U)):(l=(S*k-C*T)/O,h=(A*T-M*k)/O,R=(l-d)*(l-d)+(h-v)*(h-v),R>19600?(w=m-_,E=x-b,D=Math.sqrt(w*w+E*E),w/=D,E/=D,w*=I,E*=I,P.push(d-w,v-E),P.push(z,W,Y,U),P.push(d+w,v+E),P.push(z,W,Y,U),P.push(d-w,v-E),P.push(z,W,Y,U),L++):(P.push(l,h),P.push(z,W,Y,U),P.push(d-(l-d),v-(h-v)),P.push(z,W,Y,U)));for(f=r[2*(N-2)],p=r[2*(N-2)+1],d=r[2*(N-1)],v=r[2*(N-1)+1],m=-(p-v),x=f-d,D=Math.sqrt(m*m+x*x),m/=D,x/=D,m*=I,x*=I,P.push(d-m,v-x),P.push(z,W,Y,U),P.push(d+m,v+x),P.push(z,W,Y,U),F.push(B),n=0;L>n;n++)F.push(B++);F.push(B-1)}},r.prototype.buildComplexPoly=function(t,e){var n=t.points.slice();if(!(n.length<6)){var r=e.indices;e.points=n,e.alpha=t.fillAlpha,e.color=i.hex2rgb(t.fillColor);for(var o,s,a=1/0,u=-(1/0),c=1/0,l=-(1/0),h=0;h<n.length;h+=2)o=n[h],s=n[h+1],a=a>o?o:a,u=o>u?o:u,c=c>s?s:c,l=s>l?s:l;n.push(a,c,u,c,u,l,a,l);var f=n.length/2;for(h=0;f>h;h++)r.push(h)}},r.prototype.buildPoly=function(t,e){var n=t.points;if(!(n.length<6)){var r=e.points,o=e.indices,s=n.length/2,a=i.hex2rgb(t.fillColor),u=t.fillAlpha,c=a[0]*u,h=a[1]*u,f=a[2]*u,p=l(n,null,2);if(!p)return!1;var d=r.length/6,v=0;for(v=0;v<p.length;v+=3)o.push(p[v]+d),o.push(p[v]+d),o.push(p[v+1]+d),o.push(p[v+2]+d),o.push(p[v+2]+d);for(v=0;s>v;v++)r.push(n[2*v],n[2*v+1],c,h,f,u);return!0}}},function(t,e){function n(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}n.prototype.constructor=n,t.exports=n,n.prototype.reset=function(){this.points.length=0,this.indices.length=0},n.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},n.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},function(t,e,n){function r(t,e,n){this.x=t||0,this.y=e||0,this.radius=n||0,this.type=o.SHAPES.CIRC}var i=n(166),o=n(6);r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.x-t,r=this.y-e,i=this.radius*this.radius;return n*=n,r*=r,i>=n+r},r.prototype.getBounds=function(){return new i(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},function(t,e,n){function r(t,e,n,r){this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this.type=o.SHAPES.ELIP}var i=n(166),o=n(6);r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return n*=n,r*=r,1>=n+r},r.prototype.getBounds=function(){return new i(this.x-this.width,this.y-this.height,this.width,this.height)}},function(t,e,n){function r(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}if(e[0]instanceof i){for(var r=[],s=0,a=e.length;a>s;s++)r.push(e[s].x,e[s].y);e=r}this.closed=!0,this.points=e,this.type=o.SHAPES.POLY}var i=n(165),o=n(6);r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.points.slice())},r.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;r>i;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],c=this.points[2*o+1],l=a>e!=c>e&&(u-s)*(e-a)/(c-a)+s>t;l&&(n=!n)}return n}},function(t,e,n){function r(t,e,n,r,o){this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this.radius=o||20,this.type=i.SHAPES.RREC}var i=n(6);r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.radius)},r.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}},function(t,e,n){function r(t,e,n){i.call(this),n=n||15e3,t=t||15e3;var r=16384;n>r&&(n=r),n>t&&(n=t),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=n,this._buffers=null,this._bufferToUpdate=0,this.interactiveChildren=!1,this.blendMode=o.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}var i=n(108),o=n(6);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},r.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},r.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},r.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,n=this.worldTransform,r=!0,i=0,o=0,s=0,a=0,u=t.blendModes[this.blendMode];u!==e.globalCompositeOperation&&(e.globalCompositeOperation=u),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var c=0;c<this.children.length;++c){var l=this.children[c];if(l.visible){var h=l.texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)===0)r&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),r=!1),i=l.anchor.x*(-h.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-h.height*l.scale.y)+l.position.y+.5,s=h.width*l.scale.x,a=h.height*l.scale.y;else{r||(r=!0),l.displayObjectUpdateTransform();var f=l.worldTransform;t.roundPixels?e.setTransform(f.a,f.b,f.c,f.d,0|f.tx,0|f.ty):e.setTransform(f.a,f.b,f.c,f.d,f.tx,f.ty),i=l.anchor.x*-h.width+.5,o=l.anchor.y*-h.height+.5,s=h.width,a=h.height}e.drawImage(l.texture.baseTexture.source,h.x,h.y,h.width,h.height,i,o,s,a)}}}},r.prototype.destroy=function(){if(i.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null}},function(t,e){function n(t,e,n,r){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;i++){var o=e[i];n[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}n.prototype.constructor=n,t.exports=n,n.prototype.initBuffers=function(){var t,e,n=this.gl,r=0;for(this.dynamicStride=0,t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],e.offset=r,r+=e.size,this.dynamicStride+=e.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),n.bufferData(n.ARRAY_BUFFER,this.dynamicData,n.DYNAMIC_DRAW);var i=0;for(this.staticStride=0,t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],e.offset=i,i+=e.size,this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),n.bufferData(n.ARRAY_BUFFER,this.staticData,n.DYNAMIC_DRAW)},n.prototype.uploadDynamic=function(t,e,n){for(var r=this.gl,i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,e,n,this.dynamicData,this.dynamicStride,o.offset)}r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,this.dynamicData)},n.prototype.uploadStatic=function(t,e,n){for(var r=this.gl,i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,e,n,this.staticData,this.staticStride,o.offset)}r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,this.staticData)},n.prototype.bind=function(){var t,e,n=this.gl;for(n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],n.vertexAttribPointer(e.attribute,e.size,n.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],n.vertexAttribPointer(e.attribute,e.size,n.FLOAT,!1,4*this.staticStride,4*e.offset)},n.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},function(t,e,n){function r(t){i.call(this,t);var e=98304;this.indices=new Uint16Array(e);for(var n=0,r=0;e>n;n+=6,r+=4)this.indices[n+0]=r+0,this.indices[n+1]=r+1,this.indices[n+2]=r+2,this.indices[n+3]=r+0,this.indices[n+4]=r+2,this.indices[n+5]=r+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new u.Matrix}var i=n(75),o=n(109),s=n(694),a=n(692),u=n(15);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,o.registerPlugin("particle",r),r.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},r.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.shader;this.renderer.shaderManager.setShader(e)},r.prototype.render=function(t){var e=t.children,n=e.length,r=t._maxSize,i=t._batchSize;if(0!==n){n>r&&(n=r),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var o=this.renderer.gl,s=t.worldTransform.copy(this.tempMatrix);s.prepend(this.renderer.currentRenderTarget.projectionMatrix),o.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,s.toArray(!0)),o.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var a=e[0]._texture.baseTexture;if(a._glTextures[o.id])o.bindTexture(o.TEXTURE_2D,a._glTextures[o.id]);else{if(!this.renderer.updateTexture(a))return;t._properties[0]&&t._properties[3]||(t._bufferToUpdate=0)}for(var u=0,c=0;n>u;u+=i,c+=1){var l=n-u;l>i&&(l=i);var h=t._buffers[c];h.uploadDynamic(e,u,l),t._bufferToUpdate===c&&(h.uploadStatic(e,u,l),t._bufferToUpdate=c+1),h.bind(this.shader),o.drawElements(o.TRIANGLES,6*l,o.UNSIGNED_SHORT,0),this.renderer.drawCount++}}},r.prototype.generateBuffers=function(t){var e,n=this.renderer.gl,r=[],i=t._maxSize,o=t._batchSize,s=t._properties;for(e=0;i>e;e+=o)r.push(new a(n,this.properties,s,o));return r},r.prototype.uploadVertices=function(t,e,n,r,i,o){for(var s,a,u,c,l,h,f,p,d,v=0;n>v;v++)s=t[e+v],a=s._texture,c=s.scale.x,l=s.scale.y,a.trim?(u=a.trim,f=u.x-s.anchor.x*u.width,h=f+a.crop.width,d=u.y-s.anchor.y*u.height,p=d+a.crop.height):(h=a._frame.width*(1-s.anchor.x),f=a._frame.width*-s.anchor.x,p=a._frame.height*(1-s.anchor.y),d=a._frame.height*-s.anchor.y),r[o]=f*c,r[o+1]=d*l,r[o+i]=h*c,r[o+i+1]=d*l,r[o+2*i]=h*c,r[o+2*i+1]=p*l,r[o+3*i]=f*c,r[o+3*i+1]=p*l,o+=4*i},r.prototype.uploadPosition=function(t,e,n,r,i,o){for(var s=0;n>s;s++){var a=t[e+s].position;r[o]=a.x,r[o+1]=a.y,r[o+i]=a.x,r[o+i+1]=a.y,r[o+2*i]=a.x,r[o+2*i+1]=a.y,r[o+3*i]=a.x,r[o+3*i+1]=a.y,o+=4*i}},r.prototype.uploadRotation=function(t,e,n,r,i,o){for(var s=0;n>s;s++){var a=t[e+s].rotation;r[o]=a,r[o+i]=a,r[o+2*i]=a,r[o+3*i]=a,o+=4*i}},r.prototype.uploadUvs=function(t,e,n,r,i,o){for(var s=0;n>s;s++){var a=t[e+s]._texture._uvs;a?(r[o]=a.x0,r[o+1]=a.y0,r[o+i]=a.x1,r[o+i+1]=a.y1,r[o+2*i]=a.x2,r[o+2*i+1]=a.y2,r[o+3*i]=a.x3,r[o+3*i+1]=a.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},r.prototype.uploadAlpha=function(t,e,n,r,i,o){for(var s=0;n>s;s++){var a=t[e+s].alpha;r[o]=a,r[o+i]=a,r[o+2*i]=a,r[o+3*i]=a,o+=4*i}},r.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),i.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},function(t,e,n){function r(t){i.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var i=n(111);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(t,e,n){n=n||{},i.call(this,"Canvas",t,e,n),this.type=u.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new o,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(t,e)}var i=n(282),o=n(696),s=n(12),a=n(15),u=n(6);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,s.pluginTarget.mixin(r),r.prototype.render=function(t){this.emit("prerender");var e=t.parent;this._lastObjectRendered=t,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.context.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context),this.emit("postrender")},r.prototype.destroy=function(t){this.destroyPlugins(),i.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},r.prototype.renderDisplayObject=function(t,e){var n=this.context;this.context=e,t.renderCanvas(this),this.context=n},r.prototype.resize=function(t,e){i.prototype.resize.call(this,t,e),this.smoothProperty&&(this.context[this.smoothProperty]=u.SCALE_MODES.DEFAULT===u.SCALE_MODES.LINEAR)},r.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},s.canUseNewCanvasBlendModes()?(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[u.BLEND_MODES.SCREEN]="screen",this.blendModes[u.BLEND_MODES.OVERLAY]="overlay",this.blendModes[u.BLEND_MODES.DARKEN]="darken",this.blendModes[u.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[u.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[u.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[u.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[u.BLEND_MODES.HUE]="hue",this.blendModes[u.BLEND_MODES.SATURATION]="saturate",this.blendModes[u.BLEND_MODES.COLOR]="color",this.blendModes[u.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[u.BLEND_MODES.SCREEN]="source-over",this.blendModes[u.BLEND_MODES.OVERLAY]="source-over",this.blendModes[u.BLEND_MODES.DARKEN]="source-over",
this.blendModes[u.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[u.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[u.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[u.BLEND_MODES.HUE]="source-over",this.blendModes[u.BLEND_MODES.SATURATION]="source-over",this.blendModes[u.BLEND_MODES.COLOR]="source-over",this.blendModes[u.BLEND_MODES.LUMINOSITY]="source-over"))}},function(t,e,n){function r(){}var i=n(168);r.prototype.constructor=r,t.exports=r,r.prototype.pushMask=function(t,e){e.context.save();var n=t.alpha,r=t.worldTransform,o=e.resolution;e.context.setTransform(r.a*o,r.b*o,r.c*o,r.d*o,r.tx*o,r.ty*o),t.texture||(i.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=n},r.prototype.popMask=function(t){t.context.restore()},r.prototype.destroy=function(){}},function(t,e,n){function r(t){i.call(this,t),this.currentBlendMode=99999}var i=n(51);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(e[0],e[1]),!0}},function(t,e,n){function r(t){i.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var i=n(51),o=n(285);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},r.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},r.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool.pop();n||(n=[new o(e)]),n[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,n)},r.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},r.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},r.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},function(t,e,n){function r(t){i.call(this,t),this.stencilMaskStack=null}var i=n(51),o=n(12);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},r.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var n=this.renderer.gl,r=this.stencilMaskStack;this.bindGraphics(t,e),0===r.stencilStack.length&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),r.reverse=!0,r.count=0),r.stencilStack.push(e);var i=r.count;n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),1===e.mode?(n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0),r.reverse?(n.stencilFunc(n.EQUAL,255-i,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,i,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),r.reverse?n.stencilFunc(n.EQUAL,255-(i+1),255):n.stencilFunc(n.EQUAL,i+1,255),r.reverse=!r.reverse):(r.reverse?(n.stencilFunc(n.EQUAL,i,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,255-i,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0),r.reverse?n.stencilFunc(n.EQUAL,i+1,255):n.stencilFunc(n.EQUAL,255-(i+1),255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),r.count++},r.prototype.bindGraphics=function(t,e){var n,r=this.renderer.gl;1===e.mode?(n=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(n),r.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),r.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(n.uniforms.tint._location,o.hex2rgb(t.tint)),r.uniform3fv(n.uniforms.color._location,e.color),r.uniform1f(n.uniforms.alpha._location,t.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,8,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(n=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(n),r.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),r.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(n.uniforms.tint._location,o.hex2rgb(t.tint)),r.uniform1f(n.uniforms.alpha._location,t.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,24,0),r.vertexAttribPointer(n.attributes.aColor,4,r.FLOAT,!1,24,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},r.prototype.popStencil=function(t,e){var n=this.renderer.gl,r=this.stencilMaskStack;if(r.stencilStack.pop(),r.count--,0===r.stencilStack.length)n.disable(n.STENCIL_TEST);else{var i=r.count;this.bindGraphics(t,e),n.colorMask(!1,!1,!1,!1),1===e.mode?(r.reverse=!r.reverse,r.reverse?(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0),this.renderer.drawCount+=2,r.reverse?n.stencilFunc(n.EQUAL,i,255):n.stencilFunc(n.EQUAL,255-i,255)):(r.reverse?(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0),this.renderer.drawCount++,r.reverse?n.stencilFunc(n.EQUAL,i,255):n.stencilFunc(n.EQUAL,255-i,255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)}},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},r.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0])},r.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0])}},function(t,e){function n(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}n.prototype.constructor=n,n.prototype.map=function(t,e){var n=0,r=0;this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this.upload()},n.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},n.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t.exports=n},function(t,e){function n(){this.stencilStack=[],this.reverse=!0,this.count=0}n.prototype.constructor=n,t.exports=n},function(t,e,n){function r(t){i.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=s.SPRITE_BATCH_SIZE;var e=4*this.size*this.vertByteSize,n=6*this.size;this.vertices=new ArrayBuffer(e),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(n);for(var r=0,o=0;n>r;r+=6,o+=4)this.indices[r+0]=o+0,this.indices[r+1]=o+1,this.indices[r+2]=o+2,this.indices[r+3]=o+0,this.indices[r+4]=o+2,this.indices[r+5]=o+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var i=n(75),o=n(109),s=n(6);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,o.registerPlugin("sprite",r),r.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},r.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&this.flush();var n=e._uvs;if(n){var r,i,o,s,a=t.anchor.x,u=t.anchor.y;if(e.trim&&void 0===t.tileScale){var c=e.trim;i=c.x-a*c.width,r=i+e.crop.width,s=c.y-u*c.height,o=s+e.crop.height}else r=e._frame.width*(1-a),i=e._frame.width*-a,o=e._frame.height*(1-u),s=e._frame.height*-u;var l=this.currentBatchSize*this.vertByteSize,h=t.worldTransform,f=h.a,p=h.b,d=h.c,v=h.d,g=h.tx,y=h.ty,m=this.colors,x=this.positions;if(this.renderer.roundPixels){var _=this.renderer.resolution;x[l]=((f*i+d*s+g)*_|0)/_,x[l+1]=((v*s+p*i+y)*_|0)/_,x[l+5]=((f*r+d*s+g)*_|0)/_,x[l+6]=((v*s+p*r+y)*_|0)/_,x[l+10]=((f*r+d*o+g)*_|0)/_,x[l+11]=((v*o+p*r+y)*_|0)/_,x[l+15]=((f*i+d*o+g)*_|0)/_,x[l+16]=((v*o+p*i+y)*_|0)/_}else x[l]=f*i+d*s+g,x[l+1]=v*s+p*i+y,x[l+5]=f*r+d*s+g,x[l+6]=v*s+p*r+y,x[l+10]=f*r+d*o+g,x[l+11]=v*o+p*r+y,x[l+15]=f*i+d*o+g,x[l+16]=v*o+p*i+y;x[l+2]=n.x0,x[l+3]=n.y0,x[l+7]=n.x1,x[l+8]=n.y1,x[l+12]=n.x2,x[l+13]=n.y2,x[l+17]=n.x3,x[l+18]=n.y3;var b=t.tint;m[l+4]=m[l+9]=m[l+14]=m[l+19]=(b>>16)+(65280&b)+((255&b)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},r.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.renderer.gl;if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var n=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);e.bufferSubData(e.ARRAY_BUFFER,0,n)}for(var r,i,o,s,a=0,u=0,c=null,l=this.renderer.blendModeManager.currentBlendMode,h=null,f=!1,p=!1,d=0,v=this.currentBatchSize;v>d;d++)s=this.sprites[d],r=s._texture.baseTexture,i=s.blendMode,o=s.shader||this.shader,f=l!==i,p=h!==o,(c!==r||f||p)&&(this.renderBatch(c,a,u),u=d,a=0,c=r,f&&(l=i,this.renderer.blendModeManager.setBlendMode(l)),p&&(h=o,t=h.shaders?h.shaders[e.id]:h,t||(t=h.getShader(this.renderer)),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),e.activeTexture(e.TEXTURE0))),a++;this.renderBatch(c,a,u),this.currentBatchSize=0}},r.prototype.renderBatch=function(t,e,n){if(0!==e){var r=this.renderer.gl;t._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,t._glTextures[r.id]):this.renderer.updateTexture(t),r.drawElements(r.TRIANGLES,6*e,r.UNSIGNED_SHORT,6*n*2),this.renderer.drawCount++}},r.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},r.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),i.prototype.destroy.call(this),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},function(t,e,n){function r(t,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||u.RESOLUTION,this._text=null,this._style=null;var r=o.fromCanvas(this.canvas);r.trim=new s.Rectangle,i.call(this,r),this.text=t,this.style=e}var i=n(290),o=n(76),s=n(15),a=n(12),u=n(6);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.fontPropertiesCache={},r.fontPropertiesCanvas=document.createElement("canvas"),r.fontPropertiesContext=r.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(r.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(t){this.scale.x=t/this._texture._frame.width,this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(t){this.scale.y=t/this._texture._frame.height,this._height=t}},style:{get:function(){return this._style},set:function(t){t=t||{},"number"==typeof t.fill&&(t.fill=a.hex2string(t.fill)),"number"==typeof t.stroke&&(t.stroke=a.hex2string(t.stroke)),"number"==typeof t.dropShadowColor&&(t.dropShadowColor=a.hex2string(t.dropShadowColor)),t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.breakWords=t.breakWords||!1,t.letterSpacing=t.letterSpacing||0,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=void 0!==t.dropShadowAngle?t.dropShadowAngle:Math.PI/6,t.dropShadowDistance=void 0!==t.dropShadowDistance?t.dropShadowDistance:5,t.dropShadowBlur=void 0!==t.dropShadowBlur?t.dropShadowBlur:0,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"miter",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),r.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=t.wordWrap?this.wordWrap(this._text):this._text,n=e.split(/(?:\r\n|\r|\n)/),r=new Array(n.length),i=0,o=this.determineFontProperties(t.font),s=0;s<n.length;s++){var a=this.context.measureText(n[s]).width+(n[s].length-1)*t.letterSpacing;r[s]=a,i=Math.max(i,a)}var u=i+t.strokeThickness;t.dropShadow&&(u+=t.dropShadowDistance),this.canvas.width=Math.ceil((u+this.context.lineWidth)*this.resolution);var c=this.style.lineHeight||o.fontSize+t.strokeThickness,l=c*n.length;t.dropShadow&&(l+=t.dropShadowDistance),this.canvas.height=Math.ceil((l+2*this._style.padding)*this.resolution),this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit;var h,f;if(t.dropShadow){t.dropShadowBlur>0?(this.context.shadowColor=t.dropShadowColor,this.context.shadowBlur=t.dropShadowBlur):this.context.fillStyle=t.dropShadowColor;var p=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,d=Math.sin(t.dropShadowAngle)*t.dropShadowDistance;for(s=0;s<n.length;s++)h=t.strokeThickness/2,f=t.strokeThickness/2+s*c+o.ascent,"right"===t.align?h+=i-r[s]:"center"===t.align&&(h+=(i-r[s])/2),t.fill&&this.drawLetterSpacing(n[s],h+p,f+d+t.padding)}for(this.context.fillStyle=t.fill,s=0;s<n.length;s++)h=t.strokeThickness/2,f=t.strokeThickness/2+s*c+o.ascent,"right"===t.align?h+=i-r[s]:"center"===t.align&&(h+=(i-r[s])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(n[s],h,f+t.padding,!0),t.fill&&this.drawLetterSpacing(n[s],h,f+t.padding);this.updateTexture()},r.prototype.drawLetterSpacing=function(t,e,n,r){var i=this._style,o=i.letterSpacing;if(0===o)return void(r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n));for(var s,a=String.prototype.split.call(t,""),u=0,c=e;u<t.length;)s=a[u++],r?this.context.strokeText(s,c,n):this.context.fillText(s,c,n),c+=this.context.measureText(s).width+o},r.prototype.updateTexture=function(){var t=this._texture,e=this._style;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-e.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*e.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},r.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),i.prototype.renderWebGL.call(this,t)},r.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),i.prototype._renderCanvas.call(this,t)},r.prototype.determineFontProperties=function(t){var e=r.fontPropertiesCache[t];if(!e){e={};var n=r.fontPropertiesCanvas,i=r.fontPropertiesContext;i.font=t;var o=Math.ceil(i.measureText("|MÉq").width),s=Math.ceil(i.measureText("M").width),a=2*s;s=1.4*s|0,n.width=o,n.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|MÉq",0,s);var u,c,l=i.getImageData(0,0,o,a).data,h=l.length,f=4*o,p=0,d=!1;for(u=0;s>u;u++){for(c=0;f>c;c+=4)if(255!==l[p+c]){d=!0;break}if(d)break;p+=f}for(e.ascent=s-u,p=h-f,d=!1,u=a;u>s;u--){for(c=0;f>c;c+=4)if(255!==l[p+c]){d=!0;break}if(d)break;p-=f}e.descent=u-s,e.fontSize=e.ascent+e.descent,r.fontPropertiesCache[t]=e}return e},r.prototype.wordWrap=function(t){for(var e="",n=t.split("\n"),r=this._style.wordWrapWidth,i=0;i<n.length;i++){for(var o=r,s=n[i].split(" "),a=0;a<s.length;a++){var u=this.context.measureText(s[a]).width;if(this._style.breakWords&&u>r)for(var c=s[a].split(""),l=0;l<c.length;l++){var h=this.context.measureText(c[l]).width;h>o?(e+="\n"+c[l],o=r-h):(0===l&&(e+=" "),e+=c[l],o-=h)}else{var f=u+this.context.measureText(" ").width;0===a||f>o?(a>0&&(e+="\n"),e+=s[a],o=r-u):(o-=f,e+=" "+s[a])}}i<n.length-1&&(e+="\n")}return e},r.prototype.getBounds=function(t){return this.dirty&&this.updateText(),i.prototype.getBounds.call(this,t)},r.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t?!0:t)}},function(t,e,n){function r(){var t=this;this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(s,!0)&&(t._requestId=requestAnimationFrame(t._tick)))},this._emitter=new o,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var i=n(6),o=n(40),s="tick";Object.defineProperties(r.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.TARGET_FPMS);this._maxElapsedMS=1/e}}}),r.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},r.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},r.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},r.prototype.add=function(t,e){return this._emitter.on(s,t,e),this._startIfPossible(),this},r.prototype.addOnce=function(t,e){return this._emitter.once(s,t,e),this._startIfPossible(),this},r.prototype.remove=function(t,e){return this._emitter.off(s,t,e),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},r.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},r.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},r.prototype.update=function(t){var e;t=t||performance.now(),e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime),this.lastTime=t},t.exports=r},function(t,e,n){var r=n(704),i=new r;i.autoStart=!0,t.exports={shared:i,Ticker:r}},function(t,e){function n(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}t.exports={mixin:function(t){n(t)}}},function(t,e,n){var r=n(2),i=n(302),o=n(171),s=n(293);r.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},r.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(r,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),r.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),r.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),i.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),i.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),o.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),o.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),o.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),r.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),r.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),r.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),r.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),r}}}),r.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},o.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},r.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},r.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},r.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(s,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),r.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),r.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),r.SpriteMaskFilter}}}),r.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),r.utils.uid()}},function(t,e,n){function r(t,e){i.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.maxLineHeight=0,this.dirty=!1,this.updateText()}var i=n(2);r.prototype=Object.create(i.Container.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{tint:{get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):r.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),r.prototype.updateText=function(){for(var t=r.fonts[this._font.name],e=new i.Point,n=null,o=[],s=0,a=0,u=[],c=0,l=this._font.size/t.size,h=-1,f=0,p=0;p<this.text.length;p++){var d=this.text.charCodeAt(p);if(h=/(\s)/.test(this.text.charAt(p))?p:h,/(?:\r\n|\r|\n)/.test(this.text.charAt(p)))u.push(s),a=Math.max(a,s),c++,e.x=0,e.y+=t.lineHeight,n=null;else if(-1!==h&&this.maxWidth>0&&e.x*l>this.maxWidth)i.utils.removeItems(o,h,p-h),p=h,h=-1,u.push(s),a=Math.max(a,s),c++,e.x=0,e.y+=t.lineHeight,n=null;else{var v=t.chars[d];v&&(n&&v.kerning[n]&&(e.x+=v.kerning[n]),o.push({texture:v.texture,line:c,charCode:d,position:new i.Point(e.x+v.xOffset,e.y+v.yOffset)}),s=e.x+(v.texture.width+v.xOffset),e.x+=v.xAdvance,f=Math.max(f,v.yOffset+v.texture.height),n=d)}}u.push(s),a=Math.max(a,s);var g=[];for(p=0;c>=p;p++){var y=0;"right"===this._font.align?y=a-u[p]:"center"===this._font.align&&(y=(a-u[p])/2),g.push(y)}var m=o.length,x=this.tint;for(p=0;m>p;p++){var _=this._glyphs[p];_?_.texture=o[p].texture:(_=new i.Sprite(o[p].texture),this._glyphs.push(_)),_.position.x=(o[p].position.x+g[o[p].line])*l,_.position.y=o[p].position.y*l,_.scale.x=_.scale.y=l,_.tint=x,_.parent||this.addChild(_)}for(p=m;p<this._glyphs.length;++p)this.removeChild(this._glyphs[p]);this.textWidth=a*l,this.textHeight=(e.y+t.lineHeight)*l,this.maxLineHeight=f*l},r.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},r.prototype.getLocalBounds=function(){return this.validate(),i.Container.prototype.getLocalBounds.call(this)},r.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},r.fonts={}},function(t,e,n){function r(t){i.Sprite.call(this,t[0]instanceof i.Texture?t[0]:t[0].texture),this._textures=null,this._durations=null,this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var i=n(2);r.prototype=Object.create(i.Sprite.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}}},currentFrame:{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return 0>t&&(t+=this._textures.length),t}}}),r.prototype.stop=function(){this.playing&&(this.playing=!1,i.ticker.shared.remove(this.update,this))},r.prototype.play=function(){this.playing||(this.playing=!0,i.ticker.shared.add(this.update,this))},r.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t,this._texture=this._textures[this.currentFrame]},r.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},r.prototype.update=function(t){var e=this.animationSpeed*t;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;0>n;)this._currentTime--,n+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):this._texture=this._textures[this.currentFrame]},r.prototype.destroy=function(){this.stop(),i.Sprite.prototype.destroy.call(this)},r.fromFrames=function(t){for(var e=[],n=0;n<t.length;++n)e.push(new i.Texture.fromFrame(t[n]));return new r(e)},r.fromImages=function(t){for(var e=[],n=0;n<t.length;++n)e.push(new i.Texture.fromImage(t[n]));return new r(e)}},function(t,e,n){function r(t,e,n){i.Sprite.call(this,t),this.tileScale=new i.Point(1,1),this.tilePosition=new i.Point(0,0),this._width=e||100,this._height=n||100,this._uvs=new i.TextureUvs,this._canvasPattern=null,this.shader=new i.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var i=n(2),o=new i.Point,s=n(283);r.prototype=Object.create(i.Sprite.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),r.prototype._onTextureUpdate=function(){},r.prototype._renderWebGL=function(t){var e=this._texture;if(e&&e._uvs){var n=e._uvs,r=e._frame.width,i=e._frame.height,o=e.baseTexture.width,s=e.baseTexture.height;e._uvs=this._uvs,e._frame.width=this.width,e._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/o,this.shader.uniforms.uPixelSize.value[1]=1/s,this.shader.uniforms.uFrame.value[0]=n.x0,this.shader.uniforms.uFrame.value[1]=n.y0,this.shader.uniforms.uFrame.value[2]=n.x1-n.x0,
this.shader.uniforms.uFrame.value[3]=n.y2-n.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(r*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(i*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=o/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=s/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),e._uvs=n,e._frame.width=r,e._frame.height=i}},r.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var n=t.context,r=this.worldTransform,o=t.resolution,a=e.baseTexture,u=this.tilePosition.x/this.tileScale.x%e._frame.width,c=this.tilePosition.y/this.tileScale.y%e._frame.height;if(!this._canvasPattern){var l=new i.CanvasBuffer(e._frame.width*o,e._frame.height*o);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=s.getTintedTexture(this,this.tint)),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(a.source,-e._frame.x*o,-e._frame.y*o),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(r.a*o,r.b*o,r.c*o,r.d*o,r.tx*o,r.ty*o),n.scale(this.tileScale.x/o,this.tileScale.y/o),n.translate(u+this.anchor.x*-this._width,c+this.anchor.y*-this._height);var h=t.blendModes[this.blendMode];h!==t.context.globalCompositeOperation&&(n.globalCompositeOperation=h),n.fillStyle=this._canvasPattern,n.fillRect(-u,-c,this._width*o/this.tileScale.x,this._height*o/this.tileScale.y)}},r.prototype.getBounds=function(){var t,e,n,r,i=this._width,o=this._height,s=i*(1-this.anchor.x),a=i*-this.anchor.x,u=o*(1-this.anchor.y),c=o*-this.anchor.y,l=this.worldTransform,h=l.a,f=l.b,p=l.c,d=l.d,v=l.tx,g=l.ty,y=h*a+p*c+v,m=d*c+f*a+g,x=h*s+p*c+v,_=d*c+f*s+g,b=h*s+p*u+v,w=d*u+f*s+g,E=h*a+p*u+v,M=d*u+f*a+g;t=y,t=t>x?x:t,t=t>b?b:t,t=t>E?E:t,n=m,n=n>_?_:n,n=n>w?w:n,n=n>M?M:n,e=y,e=x>e?x:e,e=b>e?b:e,e=E>e?E:e,r=m,r=_>r?_:r,r=w>r?w:r,r=M>r?M:r;var S=this._bounds;return S.x=t,S.width=e-t,S.y=n,S.height=r-n,this._currentBounds=S,S},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,o);var e,n=this._width,r=this._height,i=-n*this.anchor.x;return o.x>i&&o.x<i+n&&(e=-r*this.anchor.y,o.y>e&&o.y<e+r)},r.prototype.destroy=function(){i.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},r.fromFrame=function(t,e,n){var o=i.utils.TextureCache[t];if(!o)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new r(o,e,n)},r.fromImage=function(t,e,n,o,s){return new r(i.Texture.fromImage(t,o,s),e,n)}},function(t,e,n){var r=n(2),i=r.DisplayObject,o=new r.Matrix;i.prototype._cacheAsBitmap=!1,i.prototype._originalRenderWebGL=null,i.prototype._originalRenderCanvas=null,i.prototype._originalUpdateTransform=null,i.prototype._originalHitTest=null,i.prototype._originalDestroy=null,i.prototype._cachedSprite=null,Object.defineProperties(i.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),i.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite))},i.prototype._initCachedDisplayObject=function(t){if(!this._cachedSprite){t.currentRenderer.flush();var e=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;e.x-=n,e.y-=n,e.width+=2*n,e.height+=2*n}var i=t.currentRenderTarget,s=t.filterManager.filterStack,a=new r.RenderTexture(t,0|e.width,0|e.height),u=o;u.tx=-e.x,u.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,u,!0,!0),t.setRenderTarget(i),t.filterManager.filterStack=s,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new r.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},i.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t))},i.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cachedSprite){var e=this.getLocalBounds(),n=t.context,i=new r.RenderTexture(t,0|e.width,0|e.height),s=o;s.tx=-e.x,s.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,i.render(this,s,!0),t.context=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new r.Sprite(i),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},i.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},i.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},i.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},function(t,e,n){var r=n(2);r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,n){var r=n(2);r.DisplayObject.prototype.getGlobalPosition=function(t){return t=t||new r.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s,this.defaultFilter=new i.AbstractFilter}var i=n(2),o=n(114),s=n(172);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(t,e,n),this.blurXFilter.applyFilter(t,e,r),t.blendModeManager.setBlendMode(i.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(t,r,n),t.blendModeManager.setBlendMode(i.BLEND_MODES.NORMAL),t.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},function(t,e,n){function r(t,e){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:t||0},dirY:{type:"1f",value:e||0}}),this.defaultFilter=new i.AbstractFilter,this.passes=1,this.dirX=t||0,this.dirY=e||0,this.strength=4}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n,r){var i=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(i,e,n,r);else{var o=t.filterManager.getRenderTarget(!0);t.filterManager.applyFilter(i,e,o,r);for(var s=0;s<this.passes-2;s++)t.filterManager.applyFilter(i,o,o,r);t.filterManager.applyFilter(i,o,n,r),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}},dirX:{get:function(){return this.dirX},set:function(t){this.uniforms.dirX.value=t}},dirY:{get:function(){return this.dirY},set:function(t){this.uniforms.dirY.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s}var i=n(2),o=n(114),s=n(172);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(t,e,r),this.blurYFilter.applyFilter(t,r,n),t.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.padding=.5*Math.abs(t),this.blurXFilter.blur=this.blurYFilter.blur=t}},passes:{get:function(){return this.blurXFilter.passes},set:function(t){this.blurXFilter.passes=this.blurYFilter.passes=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4] * c.a;\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9] * c.a;\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14] * c.a;\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19] * c.a;\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype._loadMatrix=function(t,e){e=!!e;var n=t;e&&(this._multiply(n,this.uniforms.m.value,t),n=this._colorMatrix(n)),this.uniforms.m.value=n},r.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19],t},r.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},r.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.grayscale=r.prototype.greyscale,r.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=.213,o=.715,s=.072,a=[i+n*(1-i)+r*-i,o+n*-o+r*-o,s+n*-s+r*(1-s),0,0,i+n*-i+.143*r,o+n*(1-o)+.14*r,s+n*-s+r*-.283,0,0,i+n*-i+r*-(1-i),o+n*-o+r*o,s+n*(1-s)+r*s,0,0,0,0,0,1,0];this._loadMatrix(a,e)},r.prototype.contrast=function(t,e){var n=(t||0)+1,r=-128*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.saturate=function(t,e){var n=2*(t||0)/3+1,r=(n-1)*-.5,i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.desaturate=function(t){this.saturate(-1)},r.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.colorTone=function(t,e,n,r,i){t=t||.2,e=e||.15,n=n||16770432,r=r||3375104;var o=(n>>16&255)/255,s=(n>>8&255)/255,a=(255&n)/255,u=(r>>16&255)/255,c=(r>>8&255)/255,l=(255&r)/255,h=[.3,.59,.11,0,0,o,s,a,t,0,u,c,l,e,0,o-u,s-c,a-l,0,0];this._loadMatrix(h,i)},r.prototype.night=function(t,e){t=t||.1;var n=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperties(r.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(t){this.uniforms.m.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}})},function(t,e,n){function r(t,e,n){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(t)},texelSize:{type:"v2",value:{x:1/e,y:1/n}}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(t){this.uniforms.texelSize.value.x=1/t}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(t){this.uniforms.texelSize.value.y=1/t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(t,e){var n=new i.Matrix;t.renderable=!1,i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:t.texture},otherMatrix:{type:"mat3",value:n.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=t,this.maskMatrix=n,null!==e&&void 0!==e||(e=20),this.scale=new i.Point(e,e)}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager;r.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/e.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/e.frame.height);var i=this.getShader(t);r.applyFilter(i,e,n)},Object.defineProperties(r.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(t){this.uniforms.mapSampler.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n,r){var i=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(i,e,n,r);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(i,s,a,r);var c=a;a=s,s=c}t.filterManager.applyFilter(i,s,n,r),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYTintFilter=new s,this.defaultFilter=new i.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=i.BLEND_MODES.MULTIPLY}var i=n(2),o=n(114),s=n(725);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(t,e,r),t.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(t,r,n),t.blendModeManager.setBlendMode(i.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(t,e,n),t.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYTintFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(t){this.blurYTintFilter.blur=t}},color:{get:function(){return i.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(t){this.blurYTintFilter.uniforms.color.value=i.utils.hex2rgb(t)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(t){this.blurYTintFilter.uniforms.alpha.value=t}},distance:{get:function(){return this._distance},set:function(t){this._dirtyPosition=!0,this._distance=t}},angle:{get:function(){return this._angle},set:function(t){this._dirtyPosition=!0,this._angle=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,
t.exports=r,Object.defineProperties(r.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(t){this.uniforms.noise.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}},green:{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t}},params:{get:function(){return this.uniforms.params.value},set:function(t){this.uniforms.params.value=t}},time:{get:function(){return this.uniforms.time.value},set:function(t){this.uniforms.time.value=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this),this.tiltShiftXFilter=new o,this.tiltShiftYFilter=new s}var i=n(2),o=n(295),s=n(296);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(t,e,r),this.tiltShiftYFilter.applyFilter(t,r,n),t.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},function(t,e,n){function r(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var i=n(2);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}},radius:{get:function(){return this.uniforms.radius.value},set:function(t){this.uniforms.radius.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},function(t,e,n){function r(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0!==e.autoPreventDefault?e.autoPreventDefault:!0,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new o,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new i.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var i=n(2),o=n(297);Object.assign(i.DisplayObject.prototype,n(298)),r.prototype.constructor=r,t.exports=r,r.prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},r.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},r.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},r.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},r.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.target=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},r.prototype.mapPositionToPoint=function(t,e,n){var r=this.interactionDOMElement.getBoundingClientRect();t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)/this.resolution,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)/this.resolution},r.prototype.processInteractive=function(t,e,n,r,i){if(!e||!e.visible)return!1;var o=!1,s=i=e.interactive||i;if(e.hitArea&&(s=!1),e.interactiveChildren)for(var a=e.children,u=a.length-1;u>=0;u--){var c=a[u];if(this.processInteractive(t,c,n,r,s)){if(!c.parent)continue;o=!0,s=!1,r=!1}}return i&&(r&&!o&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),o=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(o=e.containsPoint(t))),e.interactive&&n(e,o)),o},r.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},r.prototype.processMouseDown=function(t,e){var n=this.mouse.originalEvent,r=2===n.button||3===n.which;e&&(t[r?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,r?"rightdown":"mousedown",this.eventData))},r.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},r.prototype.processMouseUp=function(t,e){var n=this.mouse.originalEvent,r=2===n.button||3===n.which,i=r?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,r?"rightup":"mouseup",this.eventData),t[i]&&(t[i]=!1,this.dispatchEvent(t,r?"rightclick":"click",this.eventData))):t[i]&&(t[i]=!1,this.dispatchEvent(t,r?"rightupoutside":"mouseupoutside",this.eventData))},r.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},r.prototype.processMouseMove=function(t,e){this.processMouseOverOut(t,e),this.moveWhenInside&&!e||this.dispatchEvent(t,"mousemove",this.eventData)},r.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},r.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},r.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,r=0;n>r;r++){var i=e[r],o=this.getTouchData(i);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(o)}},r.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},r.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,r=0;n>r;r++){var i=e[r],o=this.getTouchData(i);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(o)}},r.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},r.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,r=0;n>r;r++){var i=e[r],o=this.getTouchData(i);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,this.moveWhenInside),this.returnTouchData(o)}},r.prototype.processTouchMove=function(t,e){this.moveWhenInside&&!e||this.dispatchEvent(t,"touchmove",this.eventData)},r.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return e||(e=new o),e.identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),navigator.isCocoonJS&&(e.global.x=e.global.x/this.resolution,e.global.y=e.global.y/this.resolution),t.globalX=e.global.x,t.globalY=e.global.y,e},r.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},r.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},i.WebGLRenderer.registerPlugin("interaction",r),i.CanvasRenderer.registerPlugin("interaction",r)},function(t,e,n){/**
	 * @file        Main export of the PIXI interactions library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
	 */
t.exports={InteractionData:n(297),InteractionManager:n(736),interactiveTarget:n(298)}},function(t,e,n){/**
	 * @file        Main export of the PIXI loaders library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
	 */
t.exports={Loader:n(739),bitmapFontParser:n(299),spritesheetParser:n(300),textureParser:n(301),Resource:n(106).Resource}},function(t,e,n){function r(t,e){i.call(this,t,e);for(var n=0;n<r._pixiMiddleware.length;++n)this.use(r._pixiMiddleware[n]())}var i=n(106),o=n(301),s=n(300),a=n(299);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r._pixiMiddleware=[i.middleware.parsing.blob,o,s,a],r.addPixiMiddleware=function(t){r._pixiMiddleware.push(t)};var u=i.Resource;u.setExtensionXhrType("fnt",u.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,n){function r(t,e,n){i.call(this,t),this._ready=!0,this.segmentsX=e||10,this.segmentsY=n||10,this.drawMode=i.DRAW_MODES.TRIANGLES,this.refresh()}var i=n(116);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.refresh=function(){var t=this.segmentsX*this.segmentsY,e=[],n=[],r=[],i=[],o=this.texture,s=this.segmentsX-1,a=this.segmentsY-1,u=0,c=o.width/s,l=o.height/a;for(u=0;t>u;u++){var h=u%this.segmentsX,f=u/this.segmentsX|0;e.push(h*c,f*l),r.push(o._uvs.x0+(o._uvs.x1-o._uvs.x0)*(h/(this.segmentsX-1)),o._uvs.y0+(o._uvs.y3-o._uvs.y0)*(f/(this.segmentsY-1)))}var p=s*a;for(u=0;p>u;u++){var d=u%s,v=u/s|0,g=v*this.segmentsX+d,y=v*this.segmentsX+d+1,m=(v+1)*this.segmentsX+d,x=(v+1)*this.segmentsX+d+1;i.push(g,y,m),i.push(y,x,m)}this.vertices=new Float32Array(e),this.uvs=new Float32Array(r),this.colors=new Float32Array(n),this.indices=new Uint16Array(i)},r.prototype._onTextureUpdate=function(){i.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()}},function(t,e,n){function r(t,e){i.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this._ready=!0,this.refresh()}var i=n(116),o=n(2);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){var e=this.uvs,n=this.indices,r=this.colors,i=this._texture._uvs,s=new o.Point(i.x0,i.y0),a=new o.Point(i.x2-i.x0,i.y2-i.y0);e[0]=0+s.x,e[1]=0+s.y,e[2]=0+s.x,e[3]=1*a.y+s.y,r[0]=1,r[1]=1,n[0]=0,n[1]=1;for(var u,c,l,h=t.length,f=1;h>f;f++)u=t[f],c=4*f,l=f/(h-1),e[c]=l*a.x+s.x,e[c+1]=0+s.y,e[c+2]=l*a.x+s.x,e[c+3]=1*a.y+s.y,c=2*f,r[c]=1,r[c+1]=1,c=2*f,n[c]=c,n[c+1]=c+1;this.dirty=!0}},r.prototype._onTextureUpdate=function(){i.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},r.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,n,r,i,o,s,a=t[0],u=0,c=0,l=this.vertices,h=t.length,f=0;h>f;f++)n=t[f],r=4*f,e=f<t.length-1?t[f+1]:n,c=-(e.x-a.x),u=e.y-a.y,i=10*(1-f/(h-1)),i>1&&(i=1),o=Math.sqrt(u*u+c*c),s=this._texture.height/2,u/=o,c/=o,u*=s,c*=s,l[r]=n.x+u,l[r+1]=n.y+c,l[r+2]=n.x-u,l[r+3]=n.y-c,a=n;this.containerUpdateTransform()}}},function(t,e,n){function r(t){i.ObjectRenderer.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,n=0;15e3>e;e+=6,n+=4)this.indices[e+0]=n+0,this.indices[e+1]=n+1,this.indices[e+2]=n+2,this.indices[e+3]=n+0,this.indices[e+4]=n+2,this.indices[e+5]=n+3;this.currentShader=null}var i=n(2),o=n(116);r.prototype=Object.create(i.ObjectRenderer.prototype),r.prototype.constructor=r,t.exports=r,i.WebGLRenderer.registerPlugin("mesh",r),r.prototype.onContextChange=function(){},r.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,n=e.gl,r=t._texture.baseTexture,i=t.shader,s=t.drawMode===o.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),i=i?i.shaders[n.id]||i.getShader(e):e.shaderManager.plugins.meshShader,this.renderer.shaderManager.setShader(i),i.uniforms.translationMatrix.value=t.worldTransform.toArray(!0),i.uniforms.projectionMatrix.value=e.currentRenderTarget.projectionMatrix.toArray(!0),i.uniforms.alpha.value=t.worldAlpha,i.syncUniforms(),t.dirty?(t.dirty=!1,n.bindBuffer(n.ARRAY_BUFFER,t._vertexBuffer),n.bufferData(n.ARRAY_BUFFER,t.vertices,n.STATIC_DRAW),n.vertexAttribPointer(i.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,t._uvBuffer),n.bufferData(n.ARRAY_BUFFER,t.uvs,n.STATIC_DRAW),n.vertexAttribPointer(i.attributes.aTextureCoord,2,n.FLOAT,!1,0,0),n.activeTexture(n.TEXTURE0),r._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,r._glTextures[n.id]):this.renderer.updateTexture(r),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t._indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.indices,n.STATIC_DRAW)):(n.bindBuffer(n.ARRAY_BUFFER,t._vertexBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,t.vertices),n.vertexAttribPointer(i.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,t._uvBuffer),n.vertexAttribPointer(i.attributes.aTextureCoord,2,n.FLOAT,!1,0,0),n.activeTexture(n.TEXTURE0),r._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,r._glTextures[n.id]):this.renderer.updateTexture(r),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t._indexBuffer),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,t.indices)),n.drawElements(s,t.indices.length,n.UNSIGNED_SHORT,0)},r.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},r.prototype.flush=function(){},r.prototype.start=function(){this.currentShader=null},r.prototype.destroy=function(){i.ObjectRenderer.prototype.destroy.call(this)}},function(t,e,n){function r(t){i.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var i=n(2);r.prototype=Object.create(i.Shader.prototype),r.prototype.constructor=r,t.exports=r,i.ShaderManager.registerPlugin("meshShader",r)},function(t,e){Math.sign||(Math.sign=function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1})},function(t,e,n){Object.assign||(Object.assign=n(669))},function(t,e,n){n(745),n(747),n(744)},function(t,e){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var n=Date.now(),r=["ms","moz","webkit","o"],i=0;i<r.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[r[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[r[i]+"CancelAnimationFrame"]||t[r[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+n-e;return 0>r&&(r=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(e,function(){return this}())},function(t,e,n){var r;(function(t,i){!function(o){function s(t){throw RangeError(D[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(R,".");var i=t.split("."),o=a(i,e).join(".");return r+o}function c(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function l(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=N(t>>>10&1023|55296),t=56320|1023&t),e+=N(t)}).join("")}function h(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:b}function f(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?F(t/S):t>>1,t+=F(t/e);t>P*E>>1;r+=b)t=F(t/P);return F(r+(P+1)*t/(t+M))}function d(t){var e,n,r,i,o,a,u,c,f,d,v=[],g=t.length,y=0,m=A,x=T;for(n=t.lastIndexOf(C),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&s("not-basic"),v.push(t.charCodeAt(r));for(i=n>0?n+1:0;g>i;){for(o=y,a=1,u=b;i>=g&&s("invalid-input"),c=h(t.charCodeAt(i++)),(c>=b||c>F((_-y)/a))&&s("overflow"),y+=c*a,f=x>=u?w:u>=x+E?E:u-x,!(f>c);u+=b)d=b-f,a>F(_/d)&&s("overflow"),a*=d;e=v.length+1,x=p(y-o,e,0==o),F(y/e)>_-m&&s("overflow"),m+=F(y/e),y%=e,v.splice(y++,0,m)}return l(v)}function v(t){var e,n,r,i,o,a,u,l,h,d,v,g,y,m,x,M=[];for(t=c(t),g=t.length,e=A,n=0,o=T,a=0;g>a;++a)v=t[a],128>v&&M.push(N(v));for(r=i=M.length,i&&M.push(C);g>r;){for(u=_,a=0;g>a;++a)v=t[a],v>=e&&u>v&&(u=v);for(y=r+1,u-e>F((_-n)/y)&&s("overflow"),n+=(u-e)*y,e=u,a=0;g>a;++a)if(v=t[a],e>v&&++n>_&&s("overflow"),v==e){for(l=n,h=b;d=o>=h?w:h>=o+E?E:h-o,!(d>l);h+=b)x=l-d,m=b-d,M.push(N(f(d+x%m,0))),l=F(x/m);M.push(N(f(l,0))),o=p(n,y,r==i),n=0,++r}++n,++e}return M.join("")}function g(t){return u(t,function(t){return k.test(t)?d(t.slice(4).toLowerCase()):t})}function y(t){return u(t,function(t){return O.test(t)?"xn--"+v(t):t})}var m=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);m.global!==m&&m.window!==m&&m.self!==m||(o=m);var x,_=2147483647,b=36,w=1,E=26,M=38,S=700,T=72,A=128,C="-",k=/^xn--/,O=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=b-w,F=Math.floor,N=String.fromCharCode;x={version:"1.3.2",ucs2:{decode:c,encode:l},decode:d,encode:v,toASCII:y,toUnicode:g},r=function(){return x}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(117)(t),function(){return this}())},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}}]);